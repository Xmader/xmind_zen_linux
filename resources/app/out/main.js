module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=222)}([function(e,t,n){var r=n(2),i=n(29),o=n(19),a=n(20),s=n(26),u="prototype",c=function(e,t,n){var l,f,d,p,h=e&c.F,v=e&c.G,m=e&c.S,g=e&c.P,y=e&c.B,w=v?r:m?r[t]||(r[t]={}):(r[t]||{})[u],_=v?i:i[t]||(i[t]={}),b=_[u]||(_[u]={});v&&(n=t);for(l in n)d=((f=!h&&w&&void 0!==w[l])?w:n)[l],p=y&&f?s(d,r):g&&"function"==typeof d?s(Function.call,d):d,w&&a(w,l,d,e&c.U),_[l]!=d&&o(_,l,p),g&&b[l]!=d&&(b[l]=d)};r.core=i,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(84)("wks"),i=n(49),o=n(2).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t,n){e.exports=!n(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(1),i=n(160),o=n(30),a=Object.defineProperty;t.f=n(6)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(32),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){e.exports=require("electron")},function(e,t,n){var r=n(31);e.exports=function(e){return Object(r(e))}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=require("path")},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(15),i=n(11),o=n(59),a=n(47),s="prototype",u=function(e,t,n){var c,l,f,d=e&u.F,p=e&u.G,h=e&u.S,v=e&u.P,m=e&u.B,g=e&u.W,y=p?i:i[t]||(i[t]={}),w=y[s],_=p?r:h?r[t]:(r[t]||{})[s];p&&(n=t);for(c in n)(l=!d&&_&&void 0!==_[c])&&c in y||(f=l?_[c]:n[c],y[c]=p&&"function"!=typeof _[c]?n[c]:m&&l?o(f,r):g&&_[c]==f?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t[s]=e[s],t}(f):v&&"function"==typeof f?o(Function.call,f):f,v&&((y.virtual||(y.virtual={}))[c]=f,e&u.R&&w&&!w[c]&&a(w,c,f)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var r=n(141)("wks"),i=n(99),o=n(15).Symbol,a="function"==typeof o;(e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}).store=r},function(e,t){e.exports=require("fs-extra-promise")},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(7),i=n(48);e.exports=n(6)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(2),i=n(19),o=n(18),a=n(49)("src"),s="toString",u=Function[s],c=(""+u).split(s);n(29).inspectSource=function(e){return u.call(e)},(e.exports=function(e,t,n,s){var u="function"==typeof n;u&&(o(n,"name")||i(n,"name",t)),e[t]!==n&&(u&&(o(n,a)||i(n,a,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},function(e,t,n){var r=n(0),i=n(3),o=n(31),a=/"/g,s=function(e,t,n,r){var i=String(o(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(a,"&quot;")+'"'),s+">"+i+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*i(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t,n){e.exports={default:n(445),__esModule:!0}},function(e,t,n){var r=n(70),i=n(31);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(71),i=n(48),o=n(23),a=n(30),s=n(18),u=n(160),c=Object.getOwnPropertyDescriptor;t.f=n(6)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(18),i=n(10),o=n(110)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var r=n(13);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t){var n=e.exports={version:"2.5.1"};"number"==typeof __e&&(__e=n)},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(0),i=n(29),o=n(3);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(26),i=n(70),o=n(10),a=n(8),s=n(127);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var v,m,g=o(t),y=i(g),w=r(s,h,3),_=a(y.length),b=0,S=n?p(t,_):u?p(t,0):void 0;_>b;b++)if((d||b in y)&&(m=w(v=y[b],b,g),e))if(n)S[b]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return b;case 2:S.push(v)}else if(l)return!1;return f?-1:c||l?l:S}}},function(e,t,n){var r=n(42),i=n(195),o=n(135),a=Object.defineProperty;t.f=n(37)?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){e.exports=!n(60)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports={default:n(430),__esModule:!0}},function(e,t,n){"use strict";if(n(6)){var r=n(50),i=n(2),o=n(3),a=n(0),s=n(94),u=n(133),c=n(26),l=n(56),f=n(48),d=n(19),p=n(58),h=n(32),v=n(8),m=n(186),g=n(52),y=n(30),w=n(18),_=n(72),b=n(4),S=n(10),x=n(124),M=n(53),k=n(25),A=n(54).f,E=n(126),I=n(49),T=n(5),C=n(34),O=n(85),P=n(92),F=n(129),N=n(64),W=n(89),D=n(55),L=n(128),U=n(176),R=n(7),B=n(24),j=R.f,z=B.f,V=i.RangeError,H=i.TypeError,q=i.Uint8Array,G="ArrayBuffer",K="Shared"+G,J="BYTES_PER_ELEMENT",Q="prototype",X=Array[Q],Y=u.ArrayBuffer,Z=u.DataView,$=C(0),ee=C(2),te=C(3),ne=C(4),re=C(5),ie=C(6),oe=O(!0),ae=O(!1),se=F.values,ue=F.keys,ce=F.entries,le=X.lastIndexOf,fe=X.reduce,de=X.reduceRight,pe=X.join,he=X.sort,ve=X.slice,me=X.toString,ge=X.toLocaleString,ye=T("iterator"),we=T("toStringTag"),_e=I("typed_constructor"),be=I("def_constructor"),Se=s.CONSTR,xe=s.TYPED,Me=s.VIEW,ke="Wrong length!",Ae=C(1,function(e,t){return Oe(P(e,e[be]),t)}),Ee=o(function(){return 1===new q(new Uint16Array([1]).buffer)[0]}),Ie=!!q&&!!q[Q].set&&o(function(){new q(1).set({})}),Te=function(e,t){var n=h(e);if(n<0||n%t)throw V("Wrong offset!");return n},Ce=function(e){if(b(e)&&xe in e)return e;throw H(e+" is not a typed array!")},Oe=function(e,t){if(!(b(e)&&_e in e))throw H("It is not a typed array constructor!");return new e(t)},Pe=function(e,t){return Fe(P(e,e[be]),t)},Fe=function(e,t){for(var n=0,r=t.length,i=Oe(e,r);r>n;)i[n]=t[n++];return i},Ne=function(e,t,n){j(e,t,{get:function(){return this._d[n]}})},We=function(e){var t,n,r,i,o,a,s=S(e),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=E(s);if(void 0!=d&&!x(d)){for(a=d.call(s),r=[],t=0;!(o=a.next()).done;t++)r.push(o.value);s=r}for(f&&u>2&&(l=c(l,arguments[2],2)),t=0,n=v(s.length),i=Oe(this,n);n>t;t++)i[t]=f?l(s[t],t):s[t];return i},De=function(){for(var e=0,t=arguments.length,n=Oe(this,t);t>e;)n[e]=arguments[e++];return n},Le=!!q&&o(function(){ge.call(new q(1))}),Ue=function(){return ge.apply(Le?ve.call(Ce(this)):Ce(this),arguments)},Re={copyWithin:function(e,t){return U.call(Ce(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return ne(Ce(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return L.apply(Ce(this),arguments)},filter:function(e){return Pe(this,ee(Ce(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return re(Ce(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ie(Ce(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){$(Ce(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ae(Ce(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return oe(Ce(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return pe.apply(Ce(this),arguments)},lastIndexOf:function(e){return le.apply(Ce(this),arguments)},map:function(e){return Ae(Ce(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return fe.apply(Ce(this),arguments)},reduceRight:function(e){return de.apply(Ce(this),arguments)},reverse:function(){for(var e,t=Ce(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return te(Ce(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return he.call(Ce(this),e)},subarray:function(e,t){var n=Ce(this),r=n.length,i=g(e,r);return new(P(n,n[be]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,v((void 0===t?r:g(t,r))-i))}},Be=function(e,t){return Pe(this,ve.call(Ce(this),e,t))},je=function(e){Ce(this);var t=Te(arguments[1],1),n=this.length,r=S(e),i=v(r.length),o=0;if(i+t>n)throw V(ke);for(;o<i;)this[t+o]=r[o++]},ze={entries:function(){return ce.call(Ce(this))},keys:function(){return ue.call(Ce(this))},values:function(){return se.call(Ce(this))}},Ve=function(e,t){return b(e)&&e[xe]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},He=function(e,t){return Ve(e,t=y(t,!0))?f(2,e[t]):z(e,t)},qe=function(e,t,n){return!(Ve(e,t=y(t,!0))&&b(n)&&w(n,"value"))||w(n,"get")||w(n,"set")||n.configurable||w(n,"writable")&&!n.writable||w(n,"enumerable")&&!n.enumerable?j(e,t,n):(e[t]=n.value,e)};Se||(B.f=He,R.f=qe),a(a.S+a.F*!Se,"Object",{getOwnPropertyDescriptor:He,defineProperty:qe}),o(function(){me.call({})})&&(me=ge=function(){return pe.call(this)});var Ge=p({},Re);p(Ge,ze),d(Ge,ye,ze.values),p(Ge,{slice:Be,set:je,constructor:function(){},toString:me,toLocaleString:Ue}),Ne(Ge,"buffer","b"),Ne(Ge,"byteOffset","o"),Ne(Ge,"byteLength","l"),Ne(Ge,"length","e"),j(Ge,we,{get:function(){return this[xe]}}),e.exports=function(e,t,n,u){var c=e+((u=!!u)?"Clamped":"")+"Array",f="get"+e,p="set"+e,h=i[c],g=h||{},y=h&&k(h),w=!h||!s.ABV,S={},x=h&&h[Q],E=function(e,n){j(e,n,{get:function(){return e=n,(r=this._d).v[f](e*t+r.o,Ee);var e,r},set:function(e){return r=n,i=e,o=this._d,u&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),void o.v[p](r*t+o.o,i,Ee);var r,i,o},enumerable:!0})};w?(h=n(function(e,n,r,i){l(e,h,c,"_d");var o,a,s,u,f=0,p=0;if(b(n)){if(!(n instanceof Y||(u=_(n))==G||u==K))return xe in n?Fe(h,n):We.call(h,n);o=n,p=Te(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw V(ke);if((a=g-p)<0)throw V(ke)}else if((a=v(i)*t)+p>g)throw V(ke);s=a/t}else s=m(n),o=new Y(a=s*t);for(d(e,"_d",{b:o,o:p,l:a,e:s,v:new Z(o)});f<s;)E(e,f++)}),x=h[Q]=M(Ge),d(x,"constructor",h)):o(function(){h(1)})&&o(function(){new h(-1)})&&W(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=n(function(e,n,r,i){var o;return l(e,h,c),b(n)?n instanceof Y||(o=_(n))==G||o==K?void 0!==i?new g(n,Te(r,t),i):void 0!==r?new g(n,Te(r,t)):new g(n):xe in n?Fe(h,n):We.call(h,n):new g(m(n))}),$(y!==Function.prototype?A(g).concat(A(y)):A(g),function(e){e in h||d(h,e,g[e])}),h[Q]=x,r||(x.constructor=h));var I=x[ye],T=!!I&&("values"==I.name||void 0==I.name),C=ze.values;d(h,_e,!0),d(x,xe,c),d(x,Me,!0),d(x,be,h),(u?new h(1)[we]==c:we in x)||j(x,we,{get:function(){return c}}),S[c]=h,a(a.G+a.W+a.F*(h!=g),S),a(a.S,c,{BYTES_PER_ELEMENT:t}),a(a.S+a.F*o(function(){g.of.call(h,1)}),c,{from:We,of:De}),J in x||d(x,J,t),a(a.P,c,Re),D(c),a(a.P+a.F*Ie,c,{set:je}),a(a.P+a.F*!T,c,ze),r||x.toString==me||(x.toString=me),a(a.P+a.F*o(function(){new h(1).slice()}),c,{slice:Be}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!o(function(){x.toLocaleString.call([1,2])})),c,{toLocaleString:Ue}),N[c]=T?I:C,r||T||d(x,ye,C)}}else e.exports=function(){}},function(e,t,n){var r=n(181),i=n(0),o=n(84)("metadata"),a=o.store||(o.store=new(n(184))),s=function(e,t,n){var i=a.get(e);if(!i){if(!n)return;a.set(e,i=new r)}var o=i.get(t);if(!o){if(!n)return;i.set(t,o=new r)}return o};e.exports={store:a,map:s,has:function(e,t,n){var r=s(t,n,!1);return void 0!==r&&r.has(e)},get:function(e,t,n){var r=s(t,n,!1);return void 0===r?void 0:r.get(e)},set:function(e,t,n,r){s(n,r,!0).set(e,t)},keys:function(e,t){var n=s(e,t,!1),r=[];return n&&n.forEach(function(e,t){r.push(t)}),r},key:function(e){return void 0===e||"symbol"==typeof e?e:String(e)},exp:function(e){i(i.S,"Reflect",e)}}},function(e,t,n){e.exports={default:n(425),__esModule:!0}},function(e,t,n){var r=n(36);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=require("url")},function(e,t,n){e.exports={default:n(451),__esModule:!0}},function(e,t,n){var r=n(49)("meta"),i=n(4),o=n(18),a=n(7).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(3)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&f.NEED&&u(e)&&!o(e,r)&&l(e),e}}},function(e,t,n){var r=n(5)("unscopables"),i=Array.prototype;void 0==i[r]&&n(19)(i,r,{}),e.exports=function(e){i[r][e]=!0}},function(e,t,n){var r=n(35),i=n(98);e.exports=n(37)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports=!1},function(e,t,n){var r=n(162),i=n(111);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(32),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){var r=n(1),i=n(163),o=n(111),a=n(110)("IE_PROTO"),s=function(){},u="prototype",c=function(){var e,t=n(108)("iframe"),r=o.length;for(t.style.display="none",n(112).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c[u][o[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[u]=r(e),n=new s,s[u]=null,n[a]=e):n=c(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(162),i=n(111).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";var r=n(2),i=n(7),o=n(6),a=n(5)("species");e.exports=function(e){var t=r[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(26),i=n(174),o=n(124),a=n(1),s=n(8),u=n(126),c={},l={};(t=e.exports=function(e,t,n,f,d){var p,h,v,m,g=d?function(){return e}:u(e),y=r(n,f,t?2:1),w=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=s(e.length);p>w;w++)if((m=t?y(a(h=e[w])[0],h[1]):y(e[w]))===c||m===l)return m}else for(v=g.call(e);!(h=v.next()).done;)if((m=i(v,y,h.value,t))===c||m===l)return m}).BREAK=c,t.RETURN=l},function(e,t,n){var r=n(20);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(73);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(7).f,i=n(18),o=n(5)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){var r=n(0),i=n(31),o=n(3),a=n(114),s="["+a+"]",u=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),l=function(e,t,n){var i={},s=o(function(){return!!a[e]()||"‚Äã¬Ö"!="‚Äã¬Ö"[e]()}),u=i[e]=s?t(f):a[e];n&&(i[n]=u),r(r.P+r.F*s,"String",i)},f=l.trim=function(e,t){return e=String(i(e)),1&t&&(e=e.replace(u,"")),2&t&&(e=e.replace(c,"")),e};e.exports=l},function(e,t){e.exports={}},function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(136),i=n(137);e.exports=function(e){return r(i(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleErrorHandler=t.RunOnceScheduler=void 0;var r=u(n(38));t.UUID=function(){return"xxxyxxxxxxxyxxxxxxxxxyxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"===e?t:3&t|8;return n.toString(16)})},t.arrayBufferToBase64=function(e){for(var t="",n=new Uint8Array(e),r=n.byteLength,i=0;i<r;i++)t+=String.fromCharCode(n[i]);return window.btoa(t)},t.HASH=function(e){return"string"==typeof e?a.default.SHA256(e).toString(a.default.enc.Hex):a.default.SHA256(a.default.lib.WordArray.create(e)).toString(a.default.enc.Hex)},t.MD5=function(e){return"string"==typeof e?a.default.MD5(e).toString(a.default.enc.Base64):a.default.MD5(a.default.lib.WordArray.create(e)).toString(a.default.enc.Base64)},t.BTOA=function(e){var t;t=e instanceof Buffer?e:new Buffer(e.toString(),"binary");return t.toString("base64")},t.verifyRSA=function(e,t,n){var r="";"appso-9beta"==n?r="-----BEGIN PUBLIC KEY-----\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAlPlpYTmSDKVWhIvSk0N5\n01AD/t+4xblO9suabgP7CUeGg/CqGsv3bVkTtw/qsNW2DvYS0Rc25vB65vs6gbzU\nIsne9U0RygnnRkJJA2706hRqRQC0Q5dUxs52+8paJ7QodeTvOkD1RBybjjiVI0Mp\njgqb4zhNWSU2upTjbMU1QjnaMGjsWdtnXSz8AALbsBVHpnyT4fE/XKSWepYHGuwc\nUsEs7iNUdU8/bQwLkR8qN/CPzbFHoxF3iHSEkHZlePYaBdAJywqP56g4DHKMZRi1\nk/cN+UnFndPMp+QuloGtCvPQpGzOurnuAokF2E3gQFLtZxz16wOmeSHnk48HqD0k\nBMp/1x1b+gwndRVngKkfQdl3xRfe/d5evAFXKT0hPt3ttZ5DBbi/WEhrjp/C+Smd\nXMWcimLNbj7w3ELGohZs9AjCNogzaUuvAPuU/LN6p0MFXc5YaPawUES/2eC18ipb\nvRt7Air9O0kFCsxzqcEtRTyM1j+QAtwwztFA1FhjO0X+wxhByHjWtMUkMRHo6f+P\nmbTG/DbP2hwx2+x0LByCQ9NlQC9VaBtSd1X8cJ7fL1qtE6V04CJdHEzZf8QNRNvI\nFK5IO2DIVE5v4DRTLIISeWuAegP8Lv3BBJ3nxkX1EZRNMdIco5NkH0sM5sM8Ol9R\nI4GqvluVMIro2tIX5UVUV0kCAwEAAQ==\n-----END PUBLIC KEY-----":"9beta"==n&&(r="-----BEGIN PUBLIC KEY-----\nMIICIjANBgkqhkiG9w0BAQEFAAOCAg8AMIICCgKCAgEAlPlpYTmSDKVWhIvSk0N5\n01AD/t+4xblO9suabgP7CUeGg/CqGsv3bVkTtw/qsNW2DvYS0Rc25vB65vs6gbzU\nIsne9U0RygnnRkJJA2706hRqRQC0Q5dUxs52+8paJ7QodeTvOkD1RBybjjiVI0Mp\njgqb4zhNWSU2upTjbMU1QjnaMGjsWdtnXSz8AALbsBVHpnyT4fE/XKSWepYHGuwc\nUsEs7iNUdU8/bQwLkR8qN/CPzbFHoxF3iHSEkHZlePYaBdAJywqP56g4DHKMZRi1\nk/cN+UnFndPMp+QuloGtCvPQpGzOurnuAokF2E3gQFLtZxz16wOmeSHnk48HqD0k\nBMp/1x1b+gwndRVngKkfQdl3xRfe/d5evAFXKT0hPt3ttZ5DBbi/WEhrjp/C+Smd\nXMWcimLNbj7w3ELGohZs9AjCNogzaUuvAPuU/LN6p0MFXc5YaPawUES/2eC18ipb\nvRt7Air9O0kFCsxzqcEtRTyM1j+QAtwwztFA1FhjO0X+wxhByHjWtMUkMRHo6f+P\nmbTG/DbP2hwx2+x0LByCQ9NlQC9VaBtSd1X8cJ7fL1qtE6V04CJdHEzZf8QNRNvI\nFK5IO2DIVE5v4DRTLIISeWuAegP8Lv3BBJ3nxkX1EZRNMdIco5NkH0sM5sM8Ol9R\nI4GqvluVMIro2tIX5UVUV0kCAwEAAQ==\n-----END PUBLIC KEY-----");try{var o=i.default.createVerify("RSA-SHA256");return o.update(e),o.verify(r,t,"base64")}catch(e){return!1}},t.isDebugging=function(e){return o.enabled(e)},t.isArray=function(e){return Array.isArray(e)||"[object Array]"===toString.call(e)},t.isObject=function(e){return"[object Object]"===toString.call(e)};var i=u(n(213)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(464)),a=u(n(465)),s=u(n(9));function u(e){return e&&e.__esModule?e:{default:e}}global.process&&o.enable(process.env.DEBUG),String.prototype.withMnemonic=function(e){var t=this;if(e&&"win32"===process.platform){e=e.toUpperCase();var n=!1;for(var r in t.split("")){if(t.substr(r,1).toUpperCase()===e){n=!0,t=t.substr(0,r)+"&"+t.substr(r);break}}n||(t=t+" (&"+e+")")}return""+t},String.prototype.partition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.indexOf(e);return t<0?[""+this,"",""]:[""+this.substr(0,t),e,""+this.substr(t+e.length)]},String.prototype.rpartition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.lastIndexOf(e);return t<0?["","",""+this]:[""+this.substr(0,t),e,""+this.substr(t+e.length)]},Promise.resolveAsync=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return new r.default(function(e){return setTimeout(function(){return e.apply(void 0,t)},0)})};t.RunOnceScheduler=class{constructor(e,t){this._timeoutToken=-1,this._runner=e,this._timeout=t,this._timeoutHandler=this._onTimeout.bind(this)}dispose(){this.cancel(),this._runner=null}cancel(){this.isScheduled()&&(clearTimeout(this._timeoutToken),this._timeoutToken=-1)}setRunner(e){this._runner=e}schedule(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._timeout;this.cancel(),this._timeoutToken=setTimeout(this._timeoutHandler,e)}isScheduled(){return-1!==this._timeoutToken}_onTimeout(){this._timeoutToken=-1,this._runner&&this._runner()}};t.SimpleErrorHandler=class{constructor(e){this.logger=e,this.dialog=null}handle(e){var t="Unknow Error";e&&(t=e.stack||e.message||e.toString());var n=s.default.remote?s.default.remote.BrowserWindow:s.default.BrowserWindow;if(this.logger.error(t),n.openError){var r=n.vana.error;if(null!==r&&null!==n.fromId(r))return;n.openError({type:"error",errorMsg:t})}else this.dialog&&this.dialog.showMessageBox({type:"error",title:"XMind",message:"Oops, some error occurred!",detail:t,buttons:["OK"],cancelId:0});var i=s.default.remote?s.default.remote.app:s.default.app;i&&i.tracker&&i.tracker.track({eventCategory:"Error",eventAction:"handleError",eventName:t.split(".")[0]})}}},function(e,t,n){e.exports=n(503)},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(38),o=(r=i)&&r.__esModule?r:{default:r};t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,n){return function r(i,a){try{var s=t[i](a),u=s.value}catch(e){return void n(e)}if(!s.done)return o.default.resolve(u).then(function(e){r("next",e)},function(e){r("throw",e)});e(u)}("next")})}}},function(e,t,n){var r=n(27);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(27),i=n(5)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(196),i=n(142);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){"use strict";var r=n(431)(!0);n(144)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t){e.exports={}},function(e,t,n){var r=n(35).f,i=n(61),o=n(16)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},function(e,t,n){n(435);for(var r=n(15),i=n(47),o=n(77),a=n(16)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=r[c],f=l&&l.prototype;f&&!f[a]&&i(f,a,c),o[c]=o.Array}},function(e,t,n){var r=n(59),i=n(438),o=n(439),a=n(42),s=n(138),u=n(200),c={},l={};(t=e.exports=function(e,t,n,f,d){var p,h,v,m,g=d?function(){return e}:u(e),y=r(n,f,t?2:1),w=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(p=s(e.length);p>w;w++)if((m=t?y(a(h=e[w])[0],h[1]):y(e[w]))===c||m===l)return m}else for(v=g.call(e);!(h=v.next()).done;)if((m=i(v,y,h.value,t))===c||m===l)return m}).BREAK=c,t.RETURN=l},function(e,t,n){e.exports={default:n(448),__esModule:!0}},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(22),o=(r=i)&&r.__esModule?r:{default:r};t.default=new class{constructor(){this._events={}}emit(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i in this._events){var a=this._events[i]&&this._events[i][e];if(a){var s=a,u=Array.isArray(s),c=0;for(s=u?s:(0,o.default)(s);;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}var f=l;f.apply(void 0,n)}}}}emitC(e,t){if(e in this._events){var n=this._events[e]&&this._events[e][t];if(n){for(var r=arguments.length,i=Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var s=n,u=Array.isArray(s),c=0;for(s=u?s:(0,o.default)(s);;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}var f=l;f.apply(void 0,i)}}}}on(e,t,n){this._addListener(e,t,n,!1)}once(e,t,n){this._addListener(e,t,n,!0)}addListener(e,t,n){this._addListener(e,t,n,!1)}_addListener(e,t,n,r){var i=this;if(e&&t&&n){var o=function(){return r&&i.removeListener(e,t,n),n.apply(void 0,arguments)};o._eventType=t,o._listener=n,this._events[e]=this._events[e]||{},this._events[e][t]=this._events[e][t]||[],this._events[e][t].push(o)}}off(e,t,n){this.removeListener(e,t,n)}removeListener(e,t,n){e?t?n?this._events[e]&&this._events[e][t]&&(this._events[e][t]=this._events[e][t].filter(function(e){return e._eventType!==t||e._listener!==n}),0===this._events[e][t].length&&delete this._events[e][t]):this._events[e]&&delete this._events[e][t]:delete this._events[e]:this._events={}}}},function(e,t,n){var r=n(2),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var r=n(23),i=n(8),o=n(52);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(27);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(4),i=n(27),o=n(5)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(5)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(1);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(19),i=n(20),o=n(3),a=n(31),s=n(5);e.exports=function(e,t,n){var u=s(e),c=n(a,u,""[e]),l=c[0],f=c[1];o(function(){var t={};return t[u]=function(){return 7},7!=""[e](t)})&&(i(String.prototype,e,l),r(RegExp.prototype,u,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)}))}},function(e,t,n){var r=n(1),i=n(13),o=n(5)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t,n){"use strict";var r=n(2),i=n(0),o=n(20),a=n(58),s=n(45),u=n(57),c=n(56),l=n(4),f=n(3),d=n(89),p=n(62),h=n(115);e.exports=function(e,t,n,v,m,g){var y=r[e],w=y,_=m?"set":"add",b=w&&w.prototype,S={},x=function(e){var t=b[e];o(b,e,"delete"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(g&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!l(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof w&&(g||b.forEach&&!f(function(){(new w).entries().next()}))){var M=new w,k=M[_](g?{}:-0,1)!=M,A=f(function(){M.has(1)}),E=d(function(e){new w(e)}),I=!g&&f(function(){for(var e=new w,t=5;t--;)e[_](t,t);return!e.has(-0)});E||((w=t(function(t,n){c(t,w,e);var r=h(new y,t,w);return void 0!=n&&u(n,m,r[_],r),r})).prototype=b,b.constructor=w),(A||I)&&(x("delete"),x("has"),m&&x("get")),(I||k)&&x(_),g&&b.clear&&delete b.clear}else w=v.getConstructor(t,e,m,_),a(w.prototype,n),s.NEED=!0;return p(w,e),S[e]=w,i(i.G+i.W+i.F*(w!=y),S),g||v.setStrong(w,e,m),w}},function(e,t,n){for(var r,i=n(2),o=n(19),a=n(49),s=a("typed_array"),u=a("view"),c=!(!i.ArrayBuffer||!i.DataView),l=c,f=0,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");f<9;)(r=i[d[f++]])?(o(r.prototype,s,!0),o(r.prototype,u,!0)):l=!1;e.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},function(e,t,n){"use strict";e.exports=n(50)||!n(3)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(2)[e]})},function(e,t,n){"use strict";var r=n(0);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(0),i=n(13),o=n(26),a=n(57);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),(t=void 0!==u)&&i(u),void 0==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(137);e.exports=function(e){return Object(r(e))}},function(e,t){},function(e,t){e.exports=!0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var r=a(n(12)),i=n(447),o=a(n(17));function a(e){return e&&e.__esModule?e:{default:e}}var s={sessionInfo:null,logFilePathPrefix:null,logFileRetentionCount:10,isDebugging:function(){return!1}},u={sessionTimestamp:(new Date).toISOString(),sessionInfoWritten:!1,logFileDateString:null,logFilePath:null,logFileStream:null,console:null},c={reset:"[39m",debug:"[32m",info:"[37m",warn:"[33m",error:"[31m"};class l{constructor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"root";this.moduleName=e,this.debugAllowed=null}logger(e){return e?new l("root"===this.moduleName?e:this.moduleName+":"+e):this}debug(e){if(!0!==this.debugAllowed&&!1!==this.debugAllowed&&(this.debugAllowed=!!s.isDebugging("xmind:"+this.moduleName+":verbose")||!!s.isDebugging("xmind:verbose:"+this.moduleName)),!this.debugAllowed)return this;for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._handle("debug",e,n),this}info(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._handle("info",e,n),this}warn(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._handle("warn",e,n),this}error(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this._handle("error",e,n),this}_handle(e,t,n){var r=(new Date).toISOString();u.sessionInfoWritten||(f(s.sessionInfo,h),u.sessionInfoWritten=!0),f({moduleName:this.moduleName,timestamp:r,level:e,message:t,args:n},p)}configure(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sessionInfo,n=void 0===t?null:t,r=e.logFilePathPrefix,i=void 0===r?null:r,o=e.logFileRetentionCount,a=void 0===o?null:o,c=e.isDebugging,l=void 0===c?null:c;n&&(s.sessionInfo=n),i&&(!function(){u.logFileStream&&(u.logFileStream.end(),u.logFileStream=null);u.logFilePath=null,u.logFileDateString=null}(),s.logFilePathPrefix=i),"number"==typeof a&&a>=1&&(s.logFileRetentionCount=parseInt(a,10),d()),"function"==typeof l&&(s.isDebugging=l,l("xmind:logger:console")?u.console=global.console:u.console=null)}}function f(e,t){!function(e,t){if(!s.logFilePathPrefix)return;try{!function(e){if(u.logFileStream&&e===u.logFileDateString)return;u.logFileDateString=e;var t=s.logFilePathPrefix+"_"+e+".log";u.logFilePath=t,d(),o.default.ensureFileSync(t),u.logFileStream=o.default.createWriteStream(t,{flags:"a"})}((r=new Date,r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()));var n=t(e);u.logFileStream.write(n),u.logFileStream.write("\r\n")}catch(t){global.console&&global.console.trace("Failed to write log message",e,"to file",u.logFilePath,", Reason:",t)}var r}(e,t),function(e,t){if(!u.console)return;try{var n=u.console,r=n[e.level]||n.log;r||(n=global.console,r=n[e.level]||n.log);var i=t(e);i=(c[e.level]||c.reset)+i+c.reset,r.call(n,i)}catch(t){global.console&&global.console.trace("Failed to write log message",e,"to console.")}}(e,t)}function d(){if(u.logFilePath&&s.logFilePathPrefix){var e=r.default.basename(s.logFilePathPrefix)+"_",t=r.default.dirname(u.logFilePath);try{if(o.default.existsSync(t)&&o.default.lstatSync(t).isDirectory()){var n=o.default.readdirSync(t).filter(function(t){return t.startsWith(e)});if(n.length<=s.logFileRetentionCount)return;n.sort(),n.splice(n.length-s.logFileRetentionCount,s.logFileRetentionCount);for(var i in n)o.default.removeSync(r.default.join(t,i))}}catch(e){global.console&&global.console.trace('Failed to delete outdated log files in "'+t+'":',e)}}}function p(e){return"["+e.level[0].toUpperCase()+" "+e.timestamp+" "+e.moduleName+"] "+i.format.apply(void 0,[e.message].concat(e.args))}function h(e){if(e){var t=(e.version||"0.0.0")+"+"+(e.buildNumber||"0"),n=e.vendor||"(unknown vendor)";return"\r\n-------- SESSION "+u.sessionTimestamp+" ("+t+", "+process.platform+", "+process.arch+", "+n+") --------"}return"\r\n-------------------------------------------------"}t.Logger=l,t.default=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(22)),i=h(n(81)),o=h(n(44)),a=h(n(151)),s=h(n(206)),u=h(n(154)),c=h(n(12)),l=h(n(106)),f=h(n(17)),d=h(n(155)),p=n(67);function h(e){return e&&e.__esModule?e:{default:e}}var v=h(n(104)).default.logger("UsageTracker"),m=!1,g=200,y=2e4,w=4,_="zen",b="firstStartTimestamp",S=6e4,x="https://piwik.xmind.net/piwik.php";var M=u.default.arch(),k=u.default.platform();k="darwin"===k?"macosx":k,process.env.VANA_RELEASE_ENV||(process.env.VANA_RELEASE_ENV="vana_"+(process.mas?"mas":k));class A{static _loadStates(e){return e?A._readJSON(c.default.join(e,"states.json"))||{}:null}static _saveStates(e,t){e&&A._writeJSON(t,c.default.join(e,"states.json"))}static _readJSON(e){return e.endsWith(".json")&&f.default.existsSync(e)?f.default.readJsonSync(e,{encoding:"utf-8",throws:!1})||{}:{}}static _writeJSON(e,t){f.default.ensureFileSync(t),f.default.writeJsonSync(t,e,{encoding:"utf-8"})}constructor(){this.isMainProcess="browser"===process.type,this.isTrackerReady=!1,this.states={},this.session=new E,this._events=[],this.eventQueries=[],this.idsite=w,this.visitorId=null,this._idts=null,this._viewts=null,this._idvc=null,this.dimensions=new s.default,this.setDimension(5,k),this.setDimension(6,M),this.setProductIdentifier(process.env.VANA_RELEASE_ENV)}setVisiterId(e){this.visitorId=e||(0,p.UUID)(),this.setDeviceId(this.visitorId),this.isTrackerReady=!0}setDimension(e,t){this.dimensions.set("dimension"+e,t)}setAccountType(e){this.setDimension(1,e)}setDeviceId(e){this.setDimension(2,e)}setAppVersion(e){this.setDimension(3,e)}setAppRegion(e){this.setDimension(8,e)}setAppLanguage(e){this.setDimension(9,e)}setDeviceResolution(e,t){this.res=e+"x"+t}setUserID(e){this.setDimension(10,e)}setProductIdentifier(e){this.setDimension(11,e)}start(e){var t=this;this.app=e,this.dataDir=e.workspace.udc;var n=e.workspace.net;f.default.ensureDirSync(this.dataDir),this.states=A._loadStates(this.dataDir),this.checkUpdateInstallEvent(),this.states.firstVisit||(this.startTimestampStorePath=c.default.join(n,"start_timestamps.json"),this.startTimestampStore=f.default.existsSync(this.startTimestampStorePath)?f.default.readJsonSync(this.startTimestampStorePath,{throws:!1})||{}:{},this.states.firstVisit=this.startTimestampStore[b]||Date.now(),delete this.states.client_id,delete this.states.next_upload_time,f.default.removeAsync(c.default.join(this.dataDir,"records")),f.default.removeAsync(c.default.join(this.dataDir,"reports")),this.track({eventAction:"install"})),this.states.sessionCount=(0,a.default)(this.states.sessionCount)?this.states.sessionCount+1:1,this.session=new E(this.states.sessionCount,this.states.firstVisit,this.states.lastVisit),this.timer=setInterval(function(){t.dispatch()},S)}end(){this.states.sessionCount=this.session.sessionCount,this.states.firstVisit=this.session.firstVisit,this.states.lastVisit=Date.now(),A._saveStates(this.dataDir,this.states),this.timer&&clearInterval(this.timer),this.dispatch()}updateInstall(){this.track({eventAction:"updateInstall"})}startApplication(){this.track({eventAction:"applicationActive"})}checkUpdateInstallEvent(){var e=Number(this.app.pkgInfo.buildNumber);(!this.states.buildNumber||this.states.buildNumber<e)&&(this.updateInstall(),this.states.buildNumber=e)}setFirstVisitTimestamp(e){this._idts=e}setPreviousVisitTimestamp(e){this._viewts=e}increaseVisitCount(){this._idvc+=1}dispatch(){var e=this.app.preferences.get("isSendUsageData");if(!e)return this._events.length>0&&(this._events=[]),void(this.eventQueries.length>0&&(this.eventQueries=[]));if(this.isTrackerReady&&(this._events.length>0||this.eventQueries.length>0)){var t=this.eventQueries.length-g;t>0&&(this.eventQueries.splice(0,t+10),v.debug("Track delete exceed event:",t+10)),m&&v.debug("Try to dispatch events:",this._events,this.eventQueries),this.send()}}track(e){e.eventCategory=e.eventCategory||_;var t=new I(this,e);this._events.push(t),m&&v.debug("Track event:",t)}trackView(e){var t=e.actionName;if(t){var n=new I(this,arguments[0]);this.eventQueries.push(this.buildEvent(n))}}renewAccountState(){var e=this.app.vud.getModule("account").get("user"),t=this.app.activateService.getCurrentLicenseStatus(),n=this.app.vud.getModule("deviceStatus").get("machine_status"),r=t;"ee"===n&&"trial"===t&&(r="expired"),this.setAppLanguage(this.app.preferences.get("language")),this.setAppRegion(this.app.preferences.get("lastLocale")),this.setAccountType(r),this.setUserID(e)}send(){var e=this;this.renewAccountState(),this.eventQueries=this.buildEvents();var t=(0,o.default)({requests:this.eventQueries.map(function(e){return"?"+l.default.stringify(e)})});d.default.post(x).set("Content-Type","application/json").timeout(y).send(t).end(function(n,r){if(n&&m&&v.error("Usagetracker request:",n,t),r&&r.body){if(200!==r.status)return void(m&&v.error("Response wrong code:",r.status,r.body));m&&v.debug("Tracker request completed!"),e.eventQueries=[]}})}buildEvent(e){var t={idsite:this.idsite,_id:this.visitorId,cdt:e.date.toISOString(),h:e.date.getUTCHours(),m:e.date.getUTCMinutes(),s:e.date.getUTCSeconds(),res:this.res,_idts:this.session.firstVisit,_viewts:this.session.lastVisit,_idvc:this.session.sessionCount,action_name:e.actionName||null,e_c:e.eventCategory||null,e_a:e.eventAction||null,e_n:e.eventName||null,e_v:e.eventValue||null},n=this.dimensions,o=Array.isArray(n),a=0;for(n=o?n:(0,r.default)(n);;){var s;if(o){if(a>=n.length)break;s=n[a++]}else{if((a=n.next()).done)break;s=a.value}var u=s,c=u[0],l=u[1];t[c]=l}return(0,i.default)(t).map(function(e){return null===t[e]?delete t[e]:null}),t}buildEvents(){var e=this.eventQueries.length>0?this.eventQueries:[],t=this._events,n=Array.isArray(t),i=0;for(t=n?t:(0,r.default)(t);;){var o;if(n){if(i>=t.length)break;o=t[i++]}else{if((i=t.next()).done)break;o=i.value}var a=o;e.push(this.buildEvent(a))}return this._events=[],e}}class E{constructor(e,t,n){this.id=(0,p.UUID)(),this.sessionCount=e||1,this.firstVisit=t||Date.now(),this.lastVisit=n||Date.now()}}class I{constructor(e,t){void 0!==t.eventCategory&&void 0!==t.eventAction||v.error("Create event: no prop eventCategory or eventAction"),this.session=e.session,this.date=new Date,this.url=t.url,this.actionName=t.actionName||null,this.language=t.language||"en",this.eventCategory=t.eventCategory,this.eventAction=t.eventAction,this.eventName=t.eventName||null,this.eventValue=t.eventValue||1,this.customTrackingParameters=""}}t.default=new A},function(e,t){e.exports=require("querystring")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ET_CHANGE_TVUD=t.ET_CHANGE_VUD=t.tvud=t.vud=void 0;var r=p(n(496)),i=p(n(38)),o=p(n(22)),a=p(n(81)),s=p(n(44)),u=p(n(156)),c=p(n(12)),l=n(9),f=p(n(17)),d=p(n(83));function p(e){return e&&e.__esModule?e:{default:e}}function h(e){return c.default.join(l.app.workspace.vud,e+".json")}function v(e){return null!==e&&"object"===(void 0===e?"undefined":(0,u.default)(e))}function m(e,t){var n=v(e),r=v(t);if(!n||!r)return!n&&!r&&String(e)===String(t);try{return(0,s.default)(e)===(0,s.default)(t)}catch(n){return e===t}}class g{constructor(e,t,n){var r=this;this._moduleName=t,this._data=e,this._persistence=n,(0,a.default)(e).forEach(function(e){r._defProxy(e)})}get(e){return this[e]}set(e,t){var n=this._data[e];m(n,t)||(this._data[e]=t,this._defProxy(e),d.default.emit(this._persistence?w:_,{moduleName:this._moduleName,key:e,oldvalue:n,newvalue:t}),l.app.emit(this._persistence?w:_,{moduleName:this._moduleName,key:e,oldvalue:n,newvalue:t}),this._persistence&&this._save())}clear(){var e=(0,a.default)(this._data),t=Array.isArray(e),n=0;for(e=t?e:(0,o.default)(e);;){var r;if(t){if(n>=e.length)break;r=e[n++]}else{if((n=e.next()).done)break;r=n.value}var i=r;delete this[i]}this._data={},d.default.emit(this._persistence?w:_,{moduleName:this._moduleName,clear:!0}),l.app.emit(this._persistence?w:_,{moduleName:this._moduleName,clear:!0}),this._save()}update(e){var t=(0,a.default)(e),n=Array.isArray(t),r=0;for(t=n?t:(0,o.default)(t);;){var i;if(n){if(r>=t.length)break;i=t[r++]}else{if((r=t.next()).done)break;i=r.value}var s=i,u=this._data[s];m(u,e[s])||(this._data[s]=e[s],this._defProxy(s))}d.default.emit(this._persistence?w:_,{moduleName:this._moduleName}),l.app.emit(this._persistence?w:_,{moduleName:this._moduleName}),this._persistence&&this._save()}_save(){if(this._persistence){var e=h(this._moduleName);i.default.all([f.default.outputJsonAsync(e,this._data)])}}_defProxy(e){var t=this;(0,r.default)(t,e,{configurable:!0,enumerable:!0,get:function(){return t._data[e]},set:function(n){t._data[e]=n}})}}class y{constructor(e){this.persistence=e}getModule(e){if(!this[e]){var t=h(e),n=f.default.existsSync(t)&&this.persistence?f.default.readJsonSync(t,{throws:!1})||{}:{};this[e]=new g(n,e,this.persistence)}return this[e]}saveModule(e){if(this.persistence){var t=h(e);f.default.outputJsonSync(t,this[e])}}}t.vud=new y(!0),t.tvud=new y(!1);var w=t.ET_CHANGE_VUD="change:vud",_=t.ET_CHANGE_TVUD="change:tvud"},function(e,t,n){var r=n(4),i=n(2).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(2),i=n(29),o=n(50),a=n(161),s=n(7).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(84)("keys"),i=n(49);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(2).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(4),i=n(1),o=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(26)(Function.call,n(24).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:o}},function(e,t){e.exports="\t\n\v\f\r ¬†·öÄ·†é‚ÄÄ‚ÄÅ‚ÄÇ‚ÄÉ‚ÄÑ‚ÄÖ‚ÄÜ‚Äá‚Äà‚Äâ‚Ää‚ÄØ‚Åü„ÄÄ\u2028\u2029\ufeff"},function(e,t,n){var r=n(4),i=n(113).set;e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},function(e,t,n){"use strict";var r=n(32),i=n(31);e.exports=function(e){var t=String(i(this)),n="",o=r(e);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(t+=t))1&o&&(n+=t);return n}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,n){var r=n(32),i=n(31);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(50),i=n(0),o=n(20),a=n(19),s=n(18),u=n(64),c=n(121),l=n(62),f=n(25),d=n(5)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,v,m,g,y){c(n,t,v);var w,_,b,S=function(e){if(!p&&e in A)return A[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",M="values"==m,k=!1,A=e.prototype,E=A[d]||A["@@iterator"]||m&&A[m],I=E||S(m),T=m?M?S("entries"):I:void 0,C="Array"==t?A.entries||E:E;if(C&&(b=f(C.call(new e)))!==Object.prototype&&b.next&&(l(b,x,!0),r||s(b,d)||a(b,d,h)),M&&E&&"values"!==E.name&&(k=!0,I=function(){return E.call(this)}),r&&!y||!p&&!k&&A[d]||a(A,d,I),u[t]=I,u[x]=h,m)if(w={values:M?I:S("values"),keys:g?I:S("keys"),entries:T},y)for(_ in w)_ in A||o(A,_,w[_]);else i(i.P+i.F*(p||k),t,w);return w}},function(e,t,n){"use strict";var r=n(53),i=n(48),o=n(62),a={};n(19)(a,n(5)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(88),i=n(31);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}},function(e,t,n){var r=n(5)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){var r=n(64),i=n(5)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t,n){"use strict";var r=n(7),i=n(48);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},function(e,t,n){var r=n(72),i=n(5)("iterator"),o=n(64);e.exports=n(29).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(315);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){"use strict";var r=n(10),i=n(52),o=n(8);e.exports=function(e){for(var t=r(this),n=o(t.length),a=arguments.length,s=i(a>1?arguments[1]:void 0,n),u=a>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}},function(e,t,n){"use strict";var r=n(46),i=n(177),o=n(64),a=n(23);e.exports=n(120)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t,n){var r,i,o,a=n(26),s=n(167),u=n(112),c=n(108),l=n(2),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,m=0,g={},y="onreadystatechange",w=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},_=function(e){w.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete g[e]},"process"==n(27)(f)?r=function(e){f.nextTick(a(w,e,1))}:v&&v.now?r=function(e){v.now(a(w,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",_,!1)):r=y in c("script")?function(e){u.appendChild(c("script"))[y]=function(){u.removeChild(this),w.call(e)}}:function(e){setTimeout(a(w,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){var r=n(2),i=n(130).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(27)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){"use strict";var r=n(13);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){"use strict";var r=n(2),i=n(6),o=n(50),a=n(94),s=n(19),u=n(58),c=n(3),l=n(56),f=n(32),d=n(8),p=n(186),h=n(54).f,v=n(7).f,m=n(128),g=n(62),y="ArrayBuffer",w="DataView",_="prototype",b="Wrong index!",S=r[y],x=r[w],M=r.Math,k=r.RangeError,A=r.Infinity,E=S,I=M.abs,T=M.pow,C=M.floor,O=M.log,P=M.LN2,F="byteLength",N=i?"_b":"buffer",W=i?"_l":F,D=i?"_o":"byteOffset";function L(e,t,n){var r,i,o,a=Array(n),s=8*n-t-1,u=(1<<s)-1,c=u>>1,l=23===t?T(2,-24)-T(2,-77):0,f=0,d=e<0||0===e&&1/e<0?1:0;for((e=I(e))!=e||e===A?(i=e!=e?1:0,r=u):(r=C(O(e)/P),e*(o=T(2,-r))<1&&(r--,o*=2),(e+=r+c>=1?l/o:l*T(2,1-c))*o>=2&&(r++,o/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(e*o-1)*T(2,t),r+=c):(i=e*T(2,c-1)*T(2,t),r=0));t>=8;a[f++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;a[f++]=255&r,r/=256,s-=8);return a[--f]|=128*d,a}function U(e,t,n){var r,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,u=n-1,c=e[u--],l=127&c;for(c>>=7;s>0;l=256*l+e[u],u--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:c?-A:A;r+=T(2,t),l-=a}return(c?-1:1)*r*T(2,l-t)}function R(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function B(e){return[255&e]}function j(e){return[255&e,e>>8&255]}function z(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function V(e){return L(e,52,8)}function H(e){return L(e,23,4)}function q(e,t,n){v(e[_],t,{get:function(){return this[n]}})}function G(e,t,n,r){var i=p(+n);if(i+t>e[W])throw k(b);var o=e[N]._b,a=i+e[D],s=o.slice(a,a+t);return r?s:s.reverse()}function K(e,t,n,r,i,o){var a=p(+n);if(a+t>e[W])throw k(b);for(var s=e[N]._b,u=a+e[D],c=r(+i),l=0;l<t;l++)s[u+l]=c[o?l:t-l-1]}if(a.ABV){if(!c(function(){S(1)})||!c(function(){new S(-1)})||c(function(){return new S,new S(1.5),new S(NaN),S.name!=y})){for(var J,Q=(S=function(e){return l(this,S),new E(p(e))})[_]=E[_],X=h(E),Y=0;X.length>Y;)(J=X[Y++])in S||s(S,J,E[J]);o||(Q.constructor=S)}var Z=new x(new S(2)),$=x[_].setInt8;Z.setInt8(0,2147483648),Z.setInt8(1,2147483649),!Z.getInt8(0)&&Z.getInt8(1)||u(x[_],{setInt8:function(e,t){$.call(this,e,t<<24>>24)},setUint8:function(e,t){$.call(this,e,t<<24>>24)}},!0)}else S=function(e){l(this,S,y);var t=p(e);this._b=m.call(Array(t),0),this[W]=t},x=function(e,t,n){l(this,x,w),l(e,S,w);var r=e[W],i=f(t);if(i<0||i>r)throw k("Wrong offset!");if(i+(n=void 0===n?r-i:d(n))>r)throw k("Wrong length!");this[N]=e,this[D]=i,this[W]=n},i&&(q(S,F,"_l"),q(x,"buffer","_b"),q(x,F,"_l"),q(x,"byteOffset","_o")),u(x[_],{getInt8:function(e){return G(this,1,e)[0]<<24>>24},getUint8:function(e){return G(this,1,e)[0]},getInt16:function(e){var t=G(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=G(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return R(G(this,4,e,arguments[1]))},getUint32:function(e){return R(G(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return U(G(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return U(G(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){K(this,1,e,B,t)},setUint8:function(e,t){K(this,1,e,B,t)},setInt16:function(e,t){K(this,2,e,j,t,arguments[2])},setUint16:function(e,t){K(this,2,e,j,t,arguments[2])},setInt32:function(e,t){K(this,4,e,z,t,arguments[2])},setUint32:function(e,t){K(this,4,e,z,t,arguments[2])},setFloat32:function(e,t){K(this,4,e,H,t,arguments[2])},setFloat64:function(e,t){K(this,8,e,V,t,arguments[2])}});g(S,y),g(x,w),s(x[_],a.VIEW,!0),t[y]=S,t[w]=x},function(e,t,n){var r=n(36),i=n(15).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},function(e,t,n){var r=n(36);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(75);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var r=n(139),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(141)("keys"),i=n(99);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t,n){var r=n(15),i="__core-js_shared__",o=r[i]||(r[i]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";var r=n(103),i=n(14),o=n(197),a=n(47),s=n(61),u=n(77),c=n(432),l=n(78),f=n(434),d=n(16)("iterator"),p=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,n,v,m,g,y){c(n,t,v);var w,_,b,S=function(e){if(!p&&e in A)return A[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},x=t+" Iterator",M="values"==m,k=!1,A=e.prototype,E=A[d]||A["@@iterator"]||m&&A[m],I=E||S(m),T=m?M?S("entries"):I:void 0,C="Array"==t?A.entries||E:E;if(C&&(b=f(C.call(new e)))!==Object.prototype&&b.next&&(l(b,x,!0),r||s(b,d)||a(b,d,h)),M&&E&&"values"!==E.name&&(k=!0,I=function(){return E.call(this)}),r&&!y||!p&&!k&&A[d]||a(A,d,I),u[t]=I,u[x]=h,m)if(w={values:M?I:S("values"),keys:g?I:S("keys"),entries:T},y)for(_ in w)_ in A||o(A,_,w[_]);else i(i.P+i.F*(p||k),t,w);return w}},function(e,t,n){var r=n(42),i=n(433),o=n(142),a=n(140)("IE_PROTO"),s=function(){},u=function(){var e,t=n(134)("iframe"),r=o.length;for(t.style.display="none",n(198).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[o[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[a]=e):n=u(),void 0===t?n:i(n,t)}},function(e,t,n){var r=n(75),i=n(16)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r,i,o,a=n(59),s=n(440),u=n(198),c=n(134),l=n(15),f=l.process,d=l.setImmediate,p=l.clearImmediate,h=l.MessageChannel,v=l.Dispatch,m=0,g={},y="onreadystatechange",w=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},_=function(e){w.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return g[++m]=function(){s("function"==typeof e?e:Function(e),t)},r(m),m},p=function(e){delete g[e]},"process"==n(75)(f)?r=function(e){f.nextTick(a(w,e,1))}:v&&v.now?r=function(e){v.now(a(w,e,1))}:h?(o=(i=new h).port2,i.port1.onmessage=_,r=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",_,!1)):r=y in c("script")?function(e){u.appendChild(c("script"))[y]=function(){u.removeChild(this),w.call(e)}}:function(e){setTimeout(a(w,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){"use strict";var r=n(73);e.exports.f=function(e){return new function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}(e)}},function(e,t,n){var r=n(47);e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},function(e,t,n){e.exports={default:n(452),__esModule:!0}},function(e,t,n){var r=n(99)("meta"),i=n(36),o=n(61),a=n(35).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(60)(function(){return u(Object.preventExtensions({}))}),l=function(e){a(e,r,{value:{i:"O"+ ++s,w:{}}})},f=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!u(e))return"F";if(!t)return"E";l(e)}return e[r].i},getWeak:function(e,t){if(!o(e,r)){if(!u(e))return!0;if(!t)return!1;l(e)}return e[r].w},onFreeze:function(e){return c&&f.NEED&&u(e)&&!o(e,r)&&l(e),e}}},function(e,t,n){var r=n(36);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t){e.exports=require("os")},function(e,t){e.exports=require("superagent")},function(e,t,n){"use strict";t.__esModule=!0;var r=a(n(467)),i=a(n(469)),o="function"==typeof i.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof i.default&&"symbol"===o(r.default)?function(e){return void 0===e?"undefined":o(e)}:function(e){return e&&"function"==typeof i.default&&e.constructor===i.default&&e!==i.default.prototype?"symbol":void 0===e?"undefined":o(e)}},function(e,t,n){t.f=n(16)},function(e,t,n){var r=n(15),i=n(11),o=n(103),a=n(157),s=n(35).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},function(e,t){e.exports=require("electron-builder-http/out/CancellationToken")},function(e,t,n){e.exports=!n(6)&&!n(3)(function(){return 7!=Object.defineProperty(n(108)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){t.f=n(5)},function(e,t,n){var r=n(18),i=n(23),o=n(85)(!1),a=n(110)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){var r=n(7),i=n(1),o=n(51);e.exports=n(6)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(23),i=n(54).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){"use strict";var r=n(51),i=n(86),o=n(71),a=n(10),s=n(70),u=Object.assign;e.exports=!u||n(3)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var d,p=s(arguments[c++]),h=l?r(p).concat(l(p)):r(p),v=h.length,m=0;v>m;)f.call(p,d=h[m++])&&(n[d]=p[d]);return n}:u},function(e,t,n){"use strict";var r=n(13),i=n(4),o=n(167),a=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),u=function(){var r=n.concat(a.call(arguments));return this instanceof u?function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):o(t,r,e)};return i(t.prototype)&&(u.prototype=t.prototype),u}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(2).parseInt,i=n(63).trim,o=n(114),a=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(a.test(n)?16:10))}:r},function(e,t,n){var r=n(2).parseFloat,i=n(63).trim;e.exports=1/r(n(114)+"-0")!=-1/0?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(27);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=r(e))throw TypeError(t);return+e}},function(e,t,n){var r=n(4),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(117),i=Math.pow,o=i(2,-52),a=i(2,-23),s=i(2,127)*(2-a),u=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<u?c*(i/u/a+1/o-1/o)*u*a:(n=(t=(1+a/o)*i)-(t-i))>s||n!=n?c*(1/0):c*n}},function(e,t,n){var r=n(1);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(13),i=n(10),o=n(70),a=n(8);e.exports=function(e,t,n,s,u){r(t);var c=i(e),l=o(c),f=a(c.length),d=u?f-1:0,p=u?-1:1;if(n<2)for(;;){if(d in l){s=l[d],d+=p;break}if(d+=p,u?d<0:f<=d)throw TypeError("Reduce of empty array with no initial value")}for(;u?d>=0:f>d;d+=p)d in l&&(s=t(s,l[d],d,c));return s}},function(e,t,n){"use strict";var r=n(10),i=n(52),o=n(8);e.exports=[].copyWithin||function(e,t){var n=r(this),a=o(n.length),s=i(e,a),u=i(t,a),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?a:i(c,a))-u,a-s),f=1;for(u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);l-- >0;)u in n?n[s]=n[u]:delete n[s],s+=f,u+=f;return n}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){n(6)&&"g"!=/./g.flags&&n(7).f(RegExp.prototype,"flags",{configurable:!0,get:n(90)})},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(1),i=n(4),o=n(132);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(182),i=n(65);e.exports=n(93)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(7).f,i=n(53),o=n(58),a=n(26),s=n(56),u=n(57),c=n(120),l=n(177),f=n(55),d=n(6),p=n(45).fastKey,h=n(65),v=d?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&u(r,n,e[c],e)});return o(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=h(this,t),r=m(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(h(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return h(this,t)[v]}}),l},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var r=n(182),i=n(65);e.exports=n(93)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r,i=n(34)(0),o=n(20),a=n(45),s=n(165),u=n(185),c=n(4),l=n(3),f=n(65),d=a.getWeak,p=Object.isExtensible,h=u.ufstore,v={},m=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},g={get:function(e){if(c(e)){var t=d(e);return!0===t?h(f(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(f(this,"WeakMap"),e,t)}},y=e.exports=n(93)("WeakMap",m,g,u,!0,!0);l(function(){return 7!=(new y).set((Object.freeze||Object)(v),7).get(v)})&&(s((r=u.getConstructor(m,"WeakMap")).prototype,g),a.NEED=!0,i(["delete","has","get","set"],function(e){var t=y.prototype,n=t[e];o(t,e,function(t,i){if(c(t)&&!p(t)){this._f||(this._f=new r);var o=this._f[e](t,i);return"set"==e?this:o}return n.call(this,t,i)})}))},function(e,t,n){"use strict";var r=n(58),i=n(45).getWeak,o=n(1),a=n(4),s=n(56),u=n(57),c=n(34),l=n(18),f=n(65),d=c(5),p=c(6),h=0,v=function(e){return e._l||(e._l=new m)},m=function(){this.a=[]},g=function(e,t){return d(e.a,function(e){return e[0]===t})};m.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var n=g(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,o){var c=e(function(e,r){s(e,c,t,"_i"),e._t=t,e._i=h++,e._l=void 0,void 0!=r&&u(r,n,e[o],e)});return r(c.prototype,{delete:function(e){if(!a(e))return!1;var n=i(e);return!0===n?v(f(this,t)).delete(e):n&&l(n,this._i)&&delete n[this._i]},has:function(e){if(!a(e))return!1;var n=i(e);return!0===n?v(f(this,t)).has(e):n&&l(n,this._i)}}),c},def:function(e,t,n){var r=i(o(t),!0);return!0===r?v(e).set(t,n):r[e._i]=n,e},ufstore:v}},function(e,t,n){var r=n(32),i=n(8);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){var r=n(54),i=n(86),o=n(1),a=n(2).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t,n){"use strict";var r=n(87),i=n(4),o=n(8),a=n(26),s=n(5)("isConcatSpreadable");e.exports=function e(t,n,u,c,l,f,d,p){for(var h,v,m=l,g=0,y=!!d&&a(d,p,3);g<c;){if(g in u){if(h=y?y(u[g],g,n):u[g],v=!1,i(h)&&(v=void 0!==(v=h[s])?!!v:r(h)),v&&f>0)m=e(t,n,h,o(h.length),m,f-1)-1;else{if(m>=9007199254740991)throw TypeError();t[m]=h}m++}g++}return m}},function(e,t,n){var r=n(8),i=n(116),o=n(31);e.exports=function(e,t,n,a){var s=String(o(e)),u=s.length,c=void 0===n?" ":String(n),l=r(t);if(l<=u||""==c)return s;var f=l-u,d=i.call(c,Math.ceil(f/c.length));return d.length>f&&(d=d.slice(0,f)),a?d+s:s+d}},function(e,t,n){var r=n(51),i=n(23),o=n(71).f;e.exports=function(e){return function(t){for(var n,a=i(t),s=r(a),u=s.length,c=0,l=[];u>c;)o.call(a,n=s[c++])&&l.push(e?[n,a[n]]:a[n]);return l}}},function(e,t,n){var r=n(72),i=n(192);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){var r=n(57);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t){e.exports=Math.scale||function(e,t,n,r,i){return 0===arguments.length||e!=e||t!=t||n!=n||r!=r||i!=i?NaN:e===1/0||e===-1/0?e:(e-t)*(i-r)/(n-t)+r}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag",c="object"==typeof e,l=t.regeneratorRuntime;if(l)c&&(e.exports=l);else{(l=t.regeneratorRuntime=c?e.exports:{}).wrap=_;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",v={},m={};m[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(O([])));y&&y!==r&&i.call(y,a)&&(m=y);var w=M.prototype=S.prototype=Object.create(m);x.prototype=w.constructor=M,M.constructor=x,M[u]=x.displayName="GeneratorFunction",l.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},l.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,M):(e.__proto__=M,u in e||(e[u]="GeneratorFunction")),e.prototype=Object.create(w),e},l.awrap=function(e){return{__await:e}},k(A.prototype),A.prototype[s]=function(){return this},l.AsyncIterator=A,l.async=function(e,t,n,r){var i=new A(_(e,t,n,r));return l.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},k(w),w[u]="Generator",w[a]=function(){return this},w.toString=function(){return"[object Generator]"},l.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},l.values=O,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return s.type="throw",s.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=i.call(a,"catchLoc"),c=i.call(a,"finallyLoc");if(u&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function _(e,t,n,r){var i,o,a,s,u=t&&t.prototype instanceof S?t:S,c=Object.create(u.prototype),l=new C(r||[]);return c._invoke=(i=e,o=n,a=l,s=f,function(e,t){if(s===p)throw new Error("Generator is already running");if(s===h){if("throw"===e)throw t;return P()}for(a.method=e,a.arg=t;;){var n=a.delegate;if(n){var r=E(n,a);if(r){if(r===v)continue;return r}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(s===f)throw s=h,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s=p;var u=b(i,o,a);if("normal"===u.type){if(s=a.done?h:d,u.arg===v)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(s=h,a.method="throw",a.arg=u.arg)}}),c}function b(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function S(){}function x(){}function M(){}function k(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function A(e){var t;this._invoke=function(n,r){function o(){return new Promise(function(t,o){!function t(n,r,o,a){var s=b(e[n],e,r);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==typeof c&&i.call(c,"__await")?Promise.resolve(c.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(c).then(function(e){u.value=e,o(u)},a)}a(s.arg)}(n,r,t,o)})}return t=t?t.then(o,o):o()}}function E(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,E(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=b(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return o.next=o}}return{next:P}}function P(){return{value:n,done:!0}}}(function(){return this}()||Function("return this")())},function(e,t,n){e.exports=!n(37)&&!n(60)(function(){return 7!=Object.defineProperty(n(134)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(61),i=n(66),o=n(428)(!1),a=n(140)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},function(e,t,n){e.exports=n(47)},function(e,t,n){var r=n(15).document;e.exports=r&&r.documentElement},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(146),i=n(16)("iterator"),o=n(77);e.exports=n(11).getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},function(e,t,n){var r=n(42),i=n(73),o=n(16)("species");e.exports=function(e,t){var n,a=r(e).constructor;return void 0===a||void 0==(n=r(a)[o])?t:i(n)}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){var r=n(42),i=n(36),o=n(149);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){"use strict";var r=n(15),i=n(11),o=n(35),a=n(37),s=n(16)("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];a&&t&&!t[s]&&o.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t){e.exports=require("child_process")},function(e,t,n){e.exports={default:n(455),__esModule:!0}},function(e,t,n){"use strict";var r=n(35).f,i=n(145),o=n(150),a=n(59),s=n(147),u=n(80),c=n(144),l=n(199),f=n(204),d=n(37),p=n(152).fastKey,h=n(153),v=d?"_s":"size",m=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[v]=0,void 0!=r&&u(r,n,e[c],e)});return o(l.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[v]=0},delete:function(e){var n=h(this,t),r=m(n,e);if(r){var i=r.n,o=r.p;delete n._i[r.i],r.r=!0,o&&(o.n=i),i&&(i.p=o),n._f==r&&(n._f=i),n._l==r&&(n._l=o),n[v]--}return!!r},forEach:function(e){h(this,t);for(var n,r=a(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!m(h(this,t),e)}}),d&&r(l.prototype,"size",{get:function(){return h(this,t)[v]}}),l},def:function(e,t,n){var r,i,o=m(e,t);return o?o.v=n:(e._l=o={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=o),r&&(r.n=o),e[v]++,"F"!==i&&(e._i[i]=o)),e},getEntry:m,setStrong:function(e,t,n){c(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},n?"entries":"values",!n,!0),f(t)}}},function(e,t,n){"use strict";var r=n(15),i=n(14),o=n(152),a=n(60),s=n(47),u=n(150),c=n(80),l=n(147),f=n(36),d=n(78),p=n(35).f,h=n(457)(0),v=n(37);e.exports=function(e,t,n,m,g,y){var w=r[e],_=w,b=g?"set":"add",S=_&&_.prototype,x={};return v&&"function"==typeof _&&(y||S.forEach&&!a(function(){(new _).entries().next()}))?(_=t(function(t,n){l(t,_,e,"_c"),t._c=new w,void 0!=n&&c(n,g,t[b],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in S&&(!y||"clear"!=e)&&s(_.prototype,e,function(n,r){if(l(this,_,e),!t&&y&&!f(n))return"get"==e&&void 0;var i=this._c[e](0===n?0:n,r);return t?this:i})}),y||p(_.prototype,"size",{get:function(){return this._c.size}})):(_=m.getConstructor(t,e,g,b),u(_.prototype,n),o.NEED=!0),d(_,e),x[e]=_,i(i.G+i.W+i.F,x),y||m.setStrong(_,e,g),_}},function(e,t,n){var r=n(75);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(146),i=n(461);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return i(this)}}},function(e,t,n){"use strict";var r=n(14);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){"use strict";var r=n(14),i=n(73),o=n(59),a=n(80);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,u=arguments[1];return i(this),(t=void 0!==u)&&i(u),void 0==e?new this:(n=[],t?(r=0,s=o(u,arguments[2],2),a(e,!1,function(e){n.push(s(e,r++))})):a(e,!1,n.push,n),new this(n))}})}},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IPCCommandService=t.CommandService=void 0;var r=s(n(44)),i=s(n(156));t.setupCommandServiceSync=function(e,t,n){e.on("update",function(n){var r={};n&&n.deactivateDelegateId?function e(t,n,r,i){if(n.delegate){if(n.delegate.id!=i&&i)return void e(t,n.delegate,r,i);n.delegate.forEachCommand(function(e,n){for(var r={},i=["label","interactive","state"],o=0;o<i.length;o++){var a=i[o];a in n&&(r[a]=null)}"handler"in n&&(r.handler=null,r.handled=!1),t[e]=r}),e(t,n.delegate,r)}}(r,e,t,n.deactivateDelegateId):function e(t,n,r){n.forEachCommand(function(e,n){for(var r={},i=["label","interactive","state"],o=0;o<i.length;o++){var a=i[o];a in n&&(r[a]=n[a])}"handler"in n&&(r.handled=!0),t[e]=r});n.delegate&&e(t,n.delegate,r)}(r,e,t),t.sync(r)}),n.on("commandService:handleCommand",function(t,n){return r=e,i=n,o=JSON.parse(i),a=o.commandId,s=o.argument,void r.handleCommand.apply(r,[a].concat(s));var r,i,o,a,s})};var o=s(n(82)),a=n(67);function s(e){return e&&e.__esModule?e:{default:e}}class u extends o.default{constructor(){super(),this._id=(0,a.UUID)(),this._commands={},this._delegate=null,this._delegateListener=this._onDelegateUpdated.bind(this),this.on("update",this.updateCommandStates)}get id(){return this._id}forEachCommand(e){if(e)for(var t in this._commands)e(t,this._commands[t]);return this}getLabelForCommand(e){return(this.findCommand(e,function(e){return!!e.label})||{}).label}isCommandInteractive(e){return!!(this.findCommand(e,function(e){return!!e.interactive})||{}).interactive}canHandle(e){var t=this.findCommand(e,function(e){return e.handler instanceof Object&&e.handler.handle instanceof Function});return!!t&&(!t.handler.test||!!t.handler.test())}handleCommand(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(!n[0]&&0!==n[0]&&!1!==n[0]||0===n[0].length)&&(n=[]);var o=this.findCommand(e,function(e){return"object"===(0,i.default)(e.handler)&&"function"==typeof e.handler.handle});return o&&o.handler instanceof Object&&o.handler.handle instanceof Function&&o.handler.handle(n),this}registerCommands(e){for(var t in e){var n=e[t];this.updateCommand(t,n,!1),process.platform in n&&this.updateCommand(t,n[process.platform],!1)}return this.emit("update"),this}getCommandState(e){var t=this.findCommand(e,function(e){return void 0!==e.state});return t?t.state:"enabled"}updateCommandStates(){for(var e in this._commands)this.updateCommandState(this._commands[e]);if(this._delegate)for(var t in this._delegate._commands)this.updateCommandState(this._delegate._commands[t])}updateCommandState(e){e.handler&&e.handler.test?e.state=e.handler.test()?"enabled":"disabled":e.state=e.handler?"enabled":"disabled"}updateCommand(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._commands[e]||(this._commands[e]={}),i=["label","interactive","handler","state"],o=0;o<i.length;o++){var a=i[o];a in t&&(r[a]=t[a])}return n&&this.emit("update",{commandId:e}),this}clearCommands(){return this._commands={},this}get delegate(){return this._delegate}activateDelegate(e){if(e&&e!==this._delegate)return this._delegate&&this._delegate.removeListener("update",this._delegateListener),this._delegate=e,e.addListener("update",this._delegateListener),this.emit("update"),this}deactivateDelegate(e){if(e&&e===this._delegate)return this._delegate&&this._delegate.removeListener("update",this._delegateListener),this.emit("update",{deactivateDelegateId:e.id}),this._delegate=null,this.emit("update"),this}findCommand(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this._delegate&&"function"==typeof this._delegate.findCommand){var n=this._delegate.findCommand(e,t);if(n)return n}var r=this._commands[e];return!r||t&&!t(r)?null:r}_onDelegateUpdated(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];this.emit.apply(this,["update"].concat(t))}}t.CommandService=u;t.IPCCommandService=class extends u{constructor(e){super(),this._eventSender=e}updateCommand(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n.handled&&(n.handler={handle:function(n){return t._eventSender.send("commandService:handleCommand",(0,r.default)({commandId:e,argument:n}))},test:function(){return"enabled"==(t._commands[e]||{}).state}}),super.updateCommand(e,n)}sync(e){var t=this;if(e){var n=function(n){for(var i=e[n],o=t._commands[n]||(t._commands[n]={}),a=["label","interactive","state"],s=0;s<a.length;s++){var u=a[s];u in i&&(o[u]=i[u])}i.handled?o.handler={handle:function(e){return t._eventSender.send("commandService:handleCommand",(0,r.default)({commandId:n,argument:e}))},test:function(){return"enabled"==(t._commands[n]||{}).state}}:o.handler=null};for(var i in e)n(i);this.emit("update")}}}},function(e,t,n){var r=n(196),i=n(142).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(12),o=(r=i)&&r.__esModule?r:{default:r},a=n(9);a.app.__rootname=a.app.getAppPath(),a.app.__rootname.indexOf("node_modules")>-1&&(a.app.__rootname=a.app.__rootname.slice(0,a.app.__rootname.indexOf("node_modules"))),"true"===process.env.XMIND_DEV_MODE&&a.app.setPath("userData",o.default.join(a.app.__rootname,".dev/data"));var s=a.app.__rootname,u=o.default.join(s,"frameworks"),c=a.app.getPath("userData"),l=o.default.join(c,"vana"),f=o.default.join(l,"log"),d=o.default.join(l,"udc"),p=o.default.join(l,"vud"),h=o.default.join(l,"update"),v=o.default.join(l,"net"),m=o.default.join(l,"extensions"),g=o.default.join(l,"workbooks"),y=o.default.join(l,"repo"),w=o.default.join(l,"fonts"),_=o.default.join(l,"scriptcache");t.default={appRoot:s,userData:c,vana:l,frameworks:u,log:f,udc:d,vud:p,net:v,update:h,userPlugins:m,workbooks:g,seawind:y,fonts:w,scriptCache:_}},function(e,t,n){"use strict";var r=m(n(22)),i=m(n(44)),o=m(n(478)),a=m(n(151)),s=m(n(41)),u=m(n(12)),c=m(n(43)),l=m(n(106)),f=n(9),d=n(214),p=n(218),h=m(n(481)),v=m(n(482));function m(e){return e&&e.__esModule?e:{default:e}}var g="win32"===process.platform;function y(e,t){(0,s.default)(e,{webPreferences:{webSecurity:!1},acceptFirstMouse:!0}),t||"win32"==process.platform?(0,s.default)(e,{frame:!1}):"darwin"==process.platform&&(0,s.default)(e,{titleBarStyle:"hidden"}),e.show=!1;var n=new f.BrowserWindow(e);return n.webContents.setVisualZoomLevelLimits(1,1),n.webContents.on("will-navigate",function(e){e.preventDefault()}),n.commandService=new d.IPCCommandService(n.webContents),n.on("focus",function(){f.app.commandService&&f.app.commandService.activateDelegate(n.commandService),f.app.eventManager&&f.app.eventManager.emitC(n.id,p.EventTypes.WINDOW_FOCUS)}).on("closed",function(){f.app.commandService&&f.app.commandService.deactivateDelegate(n.commandService)}).on("blur",function(){f.app.commandService&&f.app.commandService.deactivateDelegate(n.commandService),f.app.eventManager&&f.app.eventManager.emitC(n.id,p.EventTypes.WINDOW_BLUR)}).on("show",function(){f.app.eventManager&&f.app.eventManager.emitC(n.id,p.EventTypes.WINDOW_SHOW)}),n.webContents.on("did-finish-load",function(){!n.isDestroyed()&&n.isFocused()&&f.app.commandService&&f.app.commandService.activateDelegate(n.commandService)}),n}function w(e,t){var n=t.workArea;e.x=n.x+Math.max((n.width-e.width)/2,0),e.y=n.y+Math.max((n.height-e.height)/2,0);var i=void 0;do{i=!1;var o=f.BrowserWindow.getAllWindows(),a=Array.isArray(o),s=0;for(o=a?o:(0,r.default)(o);;){var u;if(a){if(s>=o.length)break;u=o[s++]}else{if((s=o.next()).done)break;u=s.value}var c=u.getBounds();if(e.x>=c.x&&e.x<c.x+30&&(e.x=c.x+30,i=!0),e.y>=c.y&&e.y<c.y+30&&(e.y=c.y+30,i=!0),i)break}}while(i)}function _(){f.app.rootLogger&&f.app.rootLogger.debug("Invoke findDisplayToUse, lifecycle state is ",f.app.lifecycle.state);var e=void 0,t=f.screen.getAllDisplays();if(1===t.length)e=t[0];else{if("darwin"===process.platform){var n=f.screen.getCursorScreenPoint();e=f.screen.getDisplayNearestPoint(n)}if(!e){var r=f.BrowserWindow.getFocusedWindow();r&&(e=f.screen.getDisplayMatching(r.getBounds()))}e||!(e=f.screen.getPrimaryDisplay())&&t.length>1&&(e=t[0])}return e}function b(e){var t={},n=e.bounds.width;return n<1366?(t.defaultWidth=n,t.defaultHeight=e.bounds.height,t.popWidth=1075,t.popHeight=648,t.minWidth=710,t.minHeight=648):n<1440?(t.defaultWidth=1058,t.defaultHeight=652,t.popWidth=1075,t.popHeight=648,t.minWidth=710,t.minHeight=648):n<1600?(t.defaultWidth=1096,t.defaultHeight=676,t.popWidth=1075,t.popHeight=648,t.minWidth=710,t.minHeight=648):(t.defaultWidth=1248,t.defaultHeight=770,t.popWidth=1075,t.popHeight=648,t.minWidth=710,t.minHeight=648),t}f.app.modal=(new h.default).registerMap(v.default.app),(0,s.default)(f.BrowserWindow,{vana:{passcode:null,splash:null,mindMapEditor:{},home:null,preferences:null,notes:null,spell:null,error:null,feedback:null},openDefault:function(){return f.BrowserWindow.openMindMapEditor({source:"new://default"})},openMindMapEditor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{source:"new://default"};if(f.app.lifecycle.checkPasscode()){if((0,a.default)(f.BrowserWindow.vana.new))f.BrowserWindow.fromId(f.BrowserWindow.vana.new).hide();else{var t=f.BrowserWindow.openNew();t&&t.hide()}if(!e.source.startsWith("new:")){var n=f.BrowserWindow.getAllWindows().map(function(e){return e.id});for(var r in f.BrowserWindow.vana.mindMapEditor)if(n.includes(parseInt(r.substring(5)))){var i=f.BrowserWindow.vana.mindMapEditor[r];if(e.source==i)return void f.BrowserWindow.fromId(parseInt(r.substring(5))).show()}}var s=_(),d=b(s);e.minWidth=d.minWidth,e.minHeight=d.minHeight,e.width=d.defaultWidth,e.icon=require('path').join(__dirname, 'icon.png'),e.height=d.defaultHeight,("number"!=typeof e.x||isNaN(e.x)||"number"!=typeof e.y||isNaN(e.y))&&w(e,s);var p=y(e);new h.default(p).registerMap(v.default.MindMapEditor),p.recordDirty=function(e){p.dirty=e};var m=f.BrowserWindow.vana.mindMapEditor,g=p.id;m["vana-"+g]=e.source;var S=0;return p.on("focus",function(){f.app.notification.promotionReady(p.id,e.source),(0,o.default)(function(){f.app.statusService.increase("EDITOR_WINDOW_FOCUSED",1),S++})}),p.on("blur",function(){(0,o.default)(function(){f.app.statusService.decrease("EDITOR_WINDOW_FOCUSED",1),S--})}),p.on("closed",function(){f.app.notification.promotionReset(),f.app.statusService.decrease("EDITOR_WINDOW_FOCUSED",S),S=0,f.BrowserWindow._checkQuit(),delete m["vana-"+g]}),p.loadURL(c.default.format({protocol:"file",slashes:!0,pathname:u.default.resolve(f.app.__rootname,"out/index.html"),search:l.default.stringify({source:e.source||"new://default",mementoId:e.mementoId})})),f.app.tracker.track({eventAction:"openMindMapEditor"}),p}f.BrowserWindow.openPasscode()},_checkQuit:function(){if(!f.app.lifecycle.isBeforeQuit()){var e=f.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||f.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});(!e||e.length<1)&&"darwin"!=process.platform&&f.app.quit()}},openPreferences:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null===f.BrowserWindow.vana.preferences||void 0===f.BrowserWindow.vana.preferences||null==f.BrowserWindow.fromId(f.BrowserWindow.vana.preferences)){var t=_(),n=b(t);e.title="Preferences",e.minWidth=n.minWidth,e.minHeight=n.minHeight,e.width=640,e.maxWidth=640,e.icon=require('path').join(__dirname, 'icon.png'),e.minWidth=640,e.height=527,e.maxHeight=527,e.minHeight=527,e.resizable=!1,e.maximizable=!1,e.minimizable=!1,e.frame=!1,e.acceptFirstMouse=!0,e.fullscreenable=!1,("number"!=typeof e.x||isNaN(e.x)||"number"!=typeof e.y||isNaN(e.y))&&w(e,t),e.show=!1;var r=new f.BrowserWindow(e);return r.webContents.setVisualZoomLevelLimits(1,1),f.BrowserWindow.vana.preferences=r.id,r.on("close",function(e){if(!f.app.lifecycle.isBeforeQuit()){var t=f.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||f.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});t&&t.length>1||"darwin"==process.platform?(e.preventDefault(),r.hide()):f.app.quit()}}).on("closed",function(){return f.BrowserWindow._checkQuit()}),r.setMenu(null),r.loadURL(c.default.format({protocol:"file",slashes:!0,pathname:u.default.resolve(f.app.__rootname,"out/preferences.html")})),r}f.BrowserWindow.fromId(f.BrowserWindow.vana.preferences).show()},openNotes:function(){if(!f.BrowserWindow.vana.notes){var e={},t=_(),n=b(t);e.title="Notes",e.minWidth=n.minWidth,e.minHeight=n.minHeight,e.width=n.popWidth,e.height=n.popHeight,"x"in e&&"y"in e||w(e,t),e.title="Notes";var r=y(e);f.BrowserWindow.vana.notes=r.id,r.on("close",function(e){if(!f.app.lifecycle.isBeforeQuit()){var t=f.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||f.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});t&&t.length>1||"darwin"==process.platform?(e.preventDefault(),r.hide()):f.app.quit()}}).on("closed",function(){return f.BrowserWindow._checkQuit()}),r.setMenu(null);var i=c.default.format({protocol:"file",slashes:!0,pathname:u.default.resolve(f.app.__rootname,"out/notes-full.html")});return r.loadURL(i),r}f.BrowserWindow.fromId(f.BrowserWindow.vana.notes).show()},openSpellChecker:function(){if(!f.BrowserWindow.vana.spell){var e=new f.BrowserWindow({title:"Spelling",width:408,height:282,frame:!1,resizable:!1,fullscreenable:!1,show:!1,webPreferences:{webSecurity:!1}});f.BrowserWindow.vana.spell=e.id,e.on("show",function(){f.app.eventManager&&f.app.eventManager.emitC(e.id,p.EventTypes.WINDOW_SHOW)}),e.on("close",function(t){if(!f.app.lifecycle.isBeforeQuit()){var n=f.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||f.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});n&&n.length>1||"darwin"==process.platform?(t.preventDefault(),e.hide()):f.app.quit()}}).on("closed",function(){return f.BrowserWindow._checkQuit()}),e.setMenu(null);var t=c.default.format({protocol:"file",slashes:!0,pathname:u.default.resolve(f.app.__rootname,"out/check-spelling.html")});return e.loadURL(t),e}f.BrowserWindow.fromId(f.BrowserWindow.vana.spell).show()},openAbout:function(){if(f.BrowserWindow.vana.about){var e=f.BrowserWindow.fromId(f.BrowserWindow.vana.about);if(e)return e.show()}var t=new f.BrowserWindow({title:"About",icon:require('path').join(__dirname, 'icon.png'),width:576,height:342,frame:!1,resizable:!1,fullscreenable:!1,show:!1});return f.BrowserWindow.vana.about=t.id,t.setMenu(null),t.loadURL(c.default.format({protocol:"file",slashes:!0,pathname:u.default.resolve(f.app.__rootname,"out/about.html")})),t},openError:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new f.BrowserWindow({title:"Error",icon:require('path').join(__dirname, 'icon.png'),width:540,height:237+(g?24:0),resizable:!1,fullscreenable:!1,backgroundColor:"#FAFAFB",frame:!g,show:!1});return f.BrowserWindow.vana.error=t.id,t.__initdata=(0,i.default)(e),t.setMenu(null),t.loadURL("file://"+u.default.resolve(f.app.__rootname,"out/modal-err.html")),t.show(),t},openPasscode:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f.BrowserWindow.vana.passcode){var t=f.BrowserWindow.fromId(f.BrowserWindow.vana.passcode);if(t)return void t.show()}var n=_();("number"!=typeof e.x||isNaN(e.x)||"number"!=typeof e.y||isNaN(e.y))&&w(e,n);var r=new f.BrowserWindow({title:"Welcome to XMind",icon:require('path').join(__dirname, 'icon.png'),width:814,height:526,frame:!1,resizable:!1,fullscreenable:!1,show:!1,webPreferences:{webSecurity:!1}});return f.BrowserWindow.vana.passcode=r.id,r.setMenu(null),r.loadURL(c.default.format({protocol:"file",slashes:!0,pathname:u.default.resolve(f.app.__rootname,"out/passcode.html")})),r},openNew:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(f.app.lifecycle.checkPasscode()){if(f.BrowserWindow.vana.new){var t=f.BrowserWindow.fromId(f.BrowserWindow.vana.new);if(t)return void t.show()}var n=_(),r=b(n);e.title="New",e.icon=require('path').join(__dirname, 'icon.png'),e.minWidth=r.minWidth,e.minHeight=r.minHeight,e.width=r.popWidth,e.height=r.popHeight,"darwin"==process.platform&&(e.fullscreenable=!1),("number"!=typeof e.x||isNaN(e.x)||"number"!=typeof e.y||isNaN(e.y))&&w(e,n);var i=y(e);f.BrowserWindow.vana.new=i.id,i.on("close",function(e){if(!f.app.lifecycle.isBeforeQuit()){var t=f.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||f.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});t&&t.length>1||"darwin"==process.platform?(e.preventDefault(),i.hide()):f.app.quit()}}).on("closed",function(){return f.BrowserWindow._checkQuit()}),i.setMenu(null);return i.loadURL(c.default.format({protocol:"file",slashes:!0,pathname:u.default.resolve(f.app.__rootname,"out/new.html"),search:"placeholder=placeholder"})),i}f.BrowserWindow.openPasscode()},openFeedback:function(){var e=f.BrowserWindow.getFocusedWindow()||f.BrowserWindow.getAllWindows()[0];if(e){var t=e.getBounds(),n=t.x+(t.width-540)/2,r=t.y+(t.height-406)/2;if(f.BrowserWindow.vana.feedback){var i=f.BrowserWindow.fromId(f.BrowserWindow.vana.feedback);if(i)return i.show(),i}var o=new f.BrowserWindow({title:"Feedback",x:n,y:r,width:540,height:406,resizable:!1,fullscreenable:!1,frame:!1,show:!1,webPreferences:{webSecurity:!1}});f.BrowserWindow.vana.feedback=o.id,o.webContents.setVisualZoomLevelLimits(1,1),o.on("close",function(e){if(!f.app.lifecycle.isBeforeQuit()){var t=f.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||f.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});t&&t.length>1||"darwin"==process.platform?(e.preventDefault(),o.hide()):f.app.quit()}}).on("closed",function(){return f.BrowserWindow._checkQuit()});var a=c.default.format({protocol:"file",slashes:!0,pathname:u.default.resolve(f.app.__rootname,"out/feedback.html")});o.loadURL(a)}},openSplash:function(){var e={frame:!1,center:!0,hasShadow:!1,thickFrame:!1,resizable:!1,movable:!1,minimizable:!1,maximizable:!1,fullscreenable:!1,focusable:!1,alwaysOnTop:!0};e.width=800,e.height=500,e.show=!1;var t=new f.BrowserWindow(e);t.webContents.setVisualZoomLevelLimits(1,1),f.BrowserWindow.vana.splash=t.id,t.title="Splash";var n=c.default.format({protocol:"file",slashes:!0,pathname:u.default.resolve(f.app.__rootname,"out/splash.html")});return t.loadURL(n),t},openEvernoteAuthorize:function(){if(f.BrowserWindow.vana.evernote){var e=f.BrowserWindow.fromId(f.BrowserWindow.vana.evernote);if(e)return e.show(),e;f.BrowserWindow.vana.evernote=null}var t=new f.BrowserWindow({center:!0,resizable:!1,minimizable:!1,maximizable:!1,fullscreenable:!1,autoHideMenuBar:!0,show:!1,width:800,height:511,icon:require('path').join(__dirname, 'icon.png')});t.webContents.setVisualZoomLevelLimits(1,1),f.BrowserWindow.vana.evernote=t.id,t.title="Evernote",t.setMenu(null);var n=c.default.format({protocol:"file",slashes:!0,pathname:u.default.resolve(f.app.__rootname,"out/evernote.html")});return t.loadURL(n),t.on("close",function(){t.isDestroyed()||t.webContents.session.clearStorageData()}).on("closed",function(){return f.BrowserWindow._checkQuit()}),t},openBiggerplateAuthorize:function(){if(f.BrowserWindow.vana.biggerplate){var e=f.BrowserWindow.fromId(f.BrowserWindow.vana.biggerplate);if(e)return e.show(),e;f.BrowserWindow.vana.biggerplate=null}var t=new f.BrowserWindow({center:!0,resizable:!1,minimizable:!1,maximizable:!1,fullscreenable:!1,autoHideMenuBar:!0,show:!1,width:500,height:600,icon:require('path').join(__dirname, 'icon.png')});t.webContents.setVisualZoomLevelLimits(1,1),f.BrowserWindow.vana.biggerplate=t.id,t.title="Biggerplate",t.setMenu(null);var n=c.default.format({protocol:"file",slashes:!0,pathname:u.default.resolve(f.app.__rootname,"out/biggerplate.html")});return t.loadURL(n),t.on("close",function(){t.isDestroyed()||t.webContents.session.clearStorageData()}).on("closed",function(){return f.BrowserWindow._checkQuit()}),t},broadcast:function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];f.BrowserWindow.getAllWindows().forEach(function(t){var r;(r=t.webContents).send.apply(r,[e].concat(n))})},existWindow:function(e){return e in this.vana&&null!==this.vana[e]},getWindow:function(e){return f.BrowserWindow.vana[e]?f.BrowserWindow.fromId(f.BrowserWindow.vana[e]):null}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.EventTypes={WINDOW_FOCUS:"vana:windowfocus",WINDOW_BLUR:"vana:windowblur",WINDOW_CLOSED:"vana:windowclosed",WINDOW_SHOW:"vana:windowshow"},t.NotificationTypes={PROMOTION_READY:"promotion:ready",PROMOTION_RESET:"promotion:reset",PROMOTION_COMPLETE_ONE:"promotion:completedOne"},t.CategoryTypes={NOTIFICATION:"notification"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=y(n(41)),i=y(n(68)),o=y(n(69)),a=y(n(38)),s=y(n(82)),u=y(n(12)),c=y(n(43)),l=n(9),f=y(n(504)),d=n(159),p=y(n(220)),h=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(17)),v=y(n(505)),m=y(n(507)),g=y(n(105));function y(e){return e&&e.__esModule?e:{default:e}}t.default=class extends s.default{constructor(e){var t;t=super(),this.updateDir=u.default.join(l.app.getPath("userData"),"vana/update"),this.localInfoPath=u.default.join(this.updateDir,"localinfo.json"),this.autoDownload=!0,this.updateAvailable=!1,this.currrentVersion=f.default.valid(l.app.getVersion()),this.httpExecutor=new m.default(function(e,n){return t.emit("login",e,n)}),this._untilAppReady=new a.default(function(e){l.app.isReady()?e():l.app.on("ready",e)}),e&&this.setFeedURL(e)}skip(){var e=this;return(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.localInfo||!e.localInfo.downloaded){t.next=4;break}return e.localInfo.downloaded.skip=!0,t.next=4,h.outputJsonAsync(e.localInfoPath,e.localInfo);case 4:case"end":return t.stop()}},t,e)}))()}checkForUpdates(){var e=this,t=this.checkForUpdatesPromise;if(null!=t)return t;try{t=this._checkForUpdates()}catch(e){console.log(e)}this.checkForUpdatesPromise=t;var n=function(){return e.checkForUpdatesPromise=null};return t.then(n).catch(function(t){l.app.rootLogger.error("catched error in checkForUpdates",t),e.emit("update-not-available",{info:e.localInfo}),n()}),t}_checkForUpdates(){var e=this;return(0,o.default)(i.default.mark(function t(){return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._untilAppReady;case 2:return e.updateDir=u.default.join(l.app.getPath("userData"),"vana/update"),e.localInfoPath=u.default.join(e.updateDir,"localinfo.json"),e.emit("checking-for-update"),t.next=7,e.doCheckForUpdates();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}},t,e)}))()}doCheckForUpdates(){var e=this;return(0,o.default)(i.default.mark(function t(){var n,r,o,a,s;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return null==e.clientPromise&&(e.clientPromise=e.loadUpdateConfig().then(function(t){return e.createClient(t)})),t.next=3,e.clientPromise;case 3:return(n=t.sent).setRequestHeaders(e.requestHeaders),t.next=7,n.getLatestVersion();case 7:if((r=t.sent).path||(r.path=c.default.parse(r.url).path),null!=(o=f.default.valid(r.version))){t.next=12;break}throw new Error('Latest version (from update server) is not valid semver version: "'+o);case 12:return t.next=14,h.existsAsync(e.localInfoPath);case 14:if(t.sent){t.next=21;break}return t.next=18,h.ensureDirAsync(e.updateDir);case 18:e.localInfo={latest:r,downloaded:{}},t.next=25;break;case 21:return t.next=23,h.readJsonAsync(e.localInfoPath);case 23:e.localInfo=t.sent,e.localInfo.latest=r;case 25:return t.next=27,h.outputJsonAsync(e.localInfoPath,e.localInfo);case 27:if(!f.default.lte(o,e.currrentVersion)){t.next=31;break}return e.updateAvailable=!1,e.emit("update-not-available",e.localInfo),t.abrupt("return",{info:e.localInfo});case 31:if(a=e.autoDownload,!e.localInfo.downloaded||!e.localInfo.downloaded.version){t.next=40;break}if(!f.default.lte(o,e.localInfo.downloaded.version)||!f.default.lt(e.currrentVersion,e.localInfo.downloaded.version)){t.next=40;break}if(e.updateAvailable=!0,a=!1,!e.localInfo.downloaded.skip){t.next=40;break}return e.onUpdateAvailable({releaseJsonUrl:e.versionInfo.releaseJsonUrl,url:e.versionInfo.url,path:e.versionInfo.path,version:e.versionInfo.version,downloaded:!0,skipped:!0}),t.abrupt("return",{info:e.localInfo});case 40:return e.updateAvailable=!0,e.versionInfo=r,s="win32"==process.platform&&!a,e.onUpdateAvailable({releaseJsonUrl:e.versionInfo.releaseJsonUrl,url:e.versionInfo.url,path:e.versionInfo.path,version:e.versionInfo.version,skipped:!1,downloaded:s}),s&&e.emit("update-downloaded",e.versionInfo),t.abrupt("return",{info:e.localInfo,downloadPromise:a?e.downloadUpdate(new d.CancellationToken):null});case 46:case"end":return t.stop()}},t,e)}))()}onUpdateAvailable(e){this.emit("update-available",e)}downloadUpdate(){var e=arguments,t=this;return(0,o.default)(i.default.mark(function n(){var r,o,a;return i.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.length>0&&void 0!==e[0]?e[0]:new d.CancellationToken,null!=t.versionInfo){n.next=6;break}throw o="Please check update first",a=new Error(o),t.emit("error",a,o),a;case 6:return n.next=8,t.doDownloadUpdate(t.versionInfo,r);case 8:return n.abrupt("return",n.sent);case 9:case"end":return n.stop()}},n,t)}))()}loadUpdateConfig(){var e=this;return(0,o.default)(i.default.mark(function t(){var n;return i.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return null==e._appUpdateConfigPath&&(e._appUpdateConfigPath=u.default.join(process.resourcesPath,"app-update.yml")),t.next=3,h.readFileAsync(e._appUpdateConfigPath,"utf-8");case 3:return n=t.sent,t.abrupt("return",p.default.safeLoad(n));case 5:case"end":return t.stop()}},t,e)}))()}set updateConfigPath(e){this.clientPromise=null,this._appUpdateConfigPath=e}computeRequestHeaders(e){var t=this.requestHeaders;return null!=e.headers?null==t?e.headers:(0,r.default)({},e.headers,t):t}createClient(e){return new v.default(e,this.httpExecutor)}quitAndInstall(){g.default.track({eventAction:"newInstall"})}}},function(e,t){e.exports=require("js-yaml")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(44)),i=f(n(38)),o=f(n(68)),a=f(n(22)),s=f(n(69)),u=f(n(12)),c=f(n(17)),l=f(n(512));function f(e){return e&&e.__esModule?e:{default:e}}var d=[".ttf",".otf",".woff",".woff2",".ttc",".dfont"];t.default=new class{constructor(){}getSystemFontDirs(){var e=[];if("darwin"===process.platform)e=e.concat([u.default.join(process.env.HOME,"Library","Fonts"),u.default.join("/","Library","Fonts"),u.default.join("/","System","Library","Fonts"),u.default.join("/","System","Library","Assets","com_apple_MobileAsset_Font3"),u.default.join("/","System","Library","Assets","com_apple_MobileAsset_Font4")]);else if("win32"===process.platform){var t=process.env.windir||process.env.WINDIR;e=e.concat([u.default.join(t,"Fonts")])}else{var n=process.env.HOME;e=e.concat([u.default.join(n,".fonts"),u.default.join(n,".local","share","fonts"),u.default.join("/","usr","share","fonts"),u.default.join("/","usr","local","share","fonts")])}return e}doGetFontPaths(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,s.default)(o.default.mark(function r(){var i,s,l,f,p,h,v,m;return o.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,c.default.readdirAsync(e);case 3:i=r.sent,s=i,l=Array.isArray(s),f=0,s=l?s:(0,a.default)(s);case 5:if(!l){r.next=11;break}if(!(f>=s.length)){r.next=8;break}return r.abrupt("break",29);case 8:p=s[f++],r.next=15;break;case 11:if(!(f=s.next()).done){r.next=14;break}return r.abrupt("break",29);case 14:p=f.value;case 15:return h=p,v=u.default.join(e,h),r.next=19,c.default.lstatAsync(v);case 19:if(!r.sent.isDirectory()){r.next=25;break}return r.next=23,t.doGetFontPaths(v,n);case 23:r.next=27;break;case 25:m=u.default.extname(v).toLowerCase(),d.includes(m)&&n.push(v);case 27:r.next=5;break;case 29:r.next=33;break;case 31:r.prev=31,r.t0=r.catch(0);case 33:return r.abrupt("return",n);case 34:case"end":return r.stop()}},r,t,[[0,31]])}))()}getSystemFontPaths(){var e=this;return(0,s.default)(o.default.mark(function t(){var n,r,i,s,u,c,l,f;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],r=e.getSystemFontDirs(),i=r,s=Array.isArray(i),u=0,i=s?i:(0,a.default)(i);case 3:if(!s){t.next=9;break}if(!(u>=i.length)){t.next=6;break}return t.abrupt("break",20);case 6:c=i[u++],t.next=13;break;case 9:if(!(u=i.next()).done){t.next=12;break}return t.abrupt("break",20);case 12:c=u.value;case 13:return l=c,t.next=16,e.doGetFontPaths(l);case 16:f=t.sent,n=n.concat(f);case 18:t.next=3;break;case 20:return t.abrupt("return",n);case 21:case"end":return t.stop()}},t,e)}))()}getFontPaths(e){var t=this,n=e.customDir,r=void 0===n?null:n,i=e.system,a=void 0!==i&&i;return(0,s.default)(o.default.mark(function e(){var n,i,s;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!a){e.next=6;break}return e.next=4,t.getSystemFontPaths();case 4:i=e.sent,n=n.concat(i);case 6:return e.next=8,t.doGetFontPaths(r);case 8:return s=e.sent,n=n.concat(s),e.abrupt("return",n);case 11:case"end":return e.stop()}},e,t)}))()}doGetFonts(e){var t=this;return new i.default(function(n){l.default.open(e,function(r,i){if(r)console.log(r,e),n([]);else{var o=[];if(i.fonts){var s=i.fonts,u=Array.isArray(s),c=0;for(s=u?s:(0,a.default)(s);;){var l;if(u){if(c>=s.length)break;l=s[c++]}else{if((c=s.next()).done)break;l=c.value}var f=l;if(f.familyName){var d=t.generateFont(f,e);d&&o.push(d)}}}else{var p=t.generateFont(i,e);p&&o.push(p)}n(o)}})})}generateFont(e,t){if(e.name&&e.familyName){var n=e.familyName;e.name&&e.name.records&&e.name.records.preferredFamily&&e.name.records.preferredFamily.en?n=e.name.records.preferredFamily.en:e.name&&e.name.records&&e.name.records.fontFamily&&e.name.records.fontFamily.en&&(n=e.name.records.fontFamily.en);var r=e.subfamilyName;return e.name&&e.name.records&&e.name.records.preferredSubfamily&&e.name.records.preferredSubfamily.en?r=e.name.records.preferredSubfamily.en:e.name&&e.name.records&&e.name.records.fontSubfamily&&e.name.records.fontSubfamily.en&&(r=e.name.records.fontSubfamily.en),{family:n,style:r,weight:e["OS/2"]?e["OS/2"].usWeightClass:null,monospace:e.post&&0!=e.post.isFixedPitch,path:t,fsSelection:e["OS/2"]?e["OS/2"].fsSelection:null}}}getFontsFromPath(e){var t=this;return(0,s.default)(o.default.mark(function n(){return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",t.doGetFonts(e));case 1:case"end":return n.stop()}},n,t)}))()}getFonts(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.customDir,i=void 0===n?null:n,u=t.system,c=void 0===u||u;return(0,s.default)(o.default.mark(function t(){var n,s,u,l,f,d,p,h;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=[],t.next=3,e.getFontPaths({customDir:i,system:c});case 3:s=t.sent,u=s,l=Array.isArray(u),f=0,u=l?u:(0,a.default)(u);case 5:if(!l){t.next=11;break}if(!(f>=u.length)){t.next=8;break}return t.abrupt("break",22);case 8:d=u[f++],t.next=15;break;case 11:if(!(f=u.next()).done){t.next=14;break}return t.abrupt("break",22);case 14:d=f.value;case 15:return p=d,t.next=18,e.doGetFonts(p);case 18:h=t.sent,n=n.concat(h);case 20:t.next=5;break;case 22:return t.abrupt("return",(0,r.default)(n));case 23:case"end":return t.stop()}},t,e)}))()}getFontsWithCached(e){var t=this;return(0,s.default)(o.default.mark(function n(){return o.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.cachedFonts){n.next=2;break}return n.abrupt("return",t.cachedFonts);case 2:return n.next=4,t.getFonts(e);case 4:return t.cachedFonts=n.sent,n.abrupt("return",t.cachedFonts);case 6:case"end":return n.stop()}},n,t)}))()}}},function(e,t,n){n(223),e.exports=n(424)},function(e,t,n){"use strict";if(n(224),n(194),n(421),global._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");global._babelPolyfill=!0;var r="defineProperty";function i(e,t,n){e[t]||Object[r](e,t,{writable:!0,configurable:!0,value:n})}i(String.prototype,"padLeft","".padStart),i(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(e){[][e]&&i(Array,e,Function.call.bind([][e]))})},function(e,t,n){n(225),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(279),n(280),n(281),n(282),n(283),n(284),n(285),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(305),n(306),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(316),n(317),n(318),n(319),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(129),n(329),n(330),n(178),n(331),n(332),n(333),n(334),n(335),n(181),n(183),n(184),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(345),n(346),n(347),n(348),n(349),n(350),n(351),n(352),n(353),n(354),n(355),n(356),n(357),n(358),n(359),n(360),n(361),n(362),n(363),n(364),n(365),n(366),n(367),n(368),n(369),n(370),n(371),n(372),n(373),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(392),n(393),n(394),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410),n(411),n(412),n(413),n(414),n(415),n(416),n(417),n(418),n(419),n(420),e.exports=n(29)},function(e,t,n){"use strict";var r=n(2),i=n(18),o=n(6),a=n(0),s=n(20),u=n(45).KEY,c=n(3),l=n(84),f=n(62),d=n(49),p=n(5),h=n(161),v=n(109),m=n(226),g=n(87),y=n(1),w=n(23),_=n(30),b=n(48),S=n(53),x=n(164),M=n(24),k=n(7),A=n(51),E=M.f,I=k.f,T=x.f,C=r.Symbol,O=r.JSON,P=O&&O.stringify,F="prototype",N=p("_hidden"),W=p("toPrimitive"),D={}.propertyIsEnumerable,L=l("symbol-registry"),U=l("symbols"),R=l("op-symbols"),B=Object[F],j="function"==typeof C,z=r.QObject,V=!z||!z[F]||!z[F].findChild,H=o&&c(function(){return 7!=S(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=E(B,t);r&&delete B[t],I(e,t,n),r&&e!==B&&I(B,t,r)}:I,q=function(e){var t=U[e]=S(C[F]);return t._k=e,t},G=j&&"symbol"==typeof C.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof C},K=function(e,t,n){return e===B&&K(R,t,n),y(e),t=_(t,!0),y(n),i(U,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=S(n,{enumerable:b(0,!1)})):(i(e,N)||I(e,N,b(1,{})),e[N][t]=!0),H(e,t,n)):I(e,t,n)},J=function(e,t){y(e);for(var n,r=m(t=w(t)),i=0,o=r.length;o>i;)K(e,n=r[i++],t[n]);return e},Q=function(e){var t=D.call(this,e=_(e,!0));return!(this===B&&i(U,e)&&!i(R,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,N)&&this[N][e])||t)},X=function(e,t){if(e=w(e),t=_(t,!0),e!==B||!i(U,t)||i(R,t)){var n=E(e,t);return!n||!i(U,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},Y=function(e){for(var t,n=T(w(e)),r=[],o=0;n.length>o;)i(U,t=n[o++])||t==N||t==u||r.push(t);return r},Z=function(e){for(var t,n=e===B,r=T(n?R:w(e)),o=[],a=0;r.length>a;)!i(U,t=r[a++])||n&&!i(B,t)||o.push(U[t]);return o};j||(s((C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(R,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),H(this,e,b(1,n))};return o&&V&&H(B,e,{configurable:!0,set:t}),q(e)})[F],"toString",function(){return this._k}),M.f=X,k.f=K,n(54).f=x.f=Y,n(71).f=Q,n(86).f=Z,o&&!n(50)&&s(B,"propertyIsEnumerable",Q,!0),h.f=function(e){return q(p(e))}),a(a.G+a.W+a.F*!j,{Symbol:C});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)p($[ee++]);for(var te=A(p.store),ne=0;te.length>ne;)v(te[ne++]);a(a.S+a.F*!j,"Symbol",{for:function(e){return i(L,e+="")?L[e]:L[e]=C(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!j,"Object",{create:function(e,t){return void 0===t?S(e):J(S(e),t)},defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:Y,getOwnPropertySymbols:Z}),O&&a(a.S+a.F*(!j||c(function(){var e=C();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!G(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return"function"==typeof(t=r[1])&&(n=t),!n&&g(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,P.apply(O,r)}}}),C[F][W]||n(19)(C[F],W,C[F].valueOf),f(C,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(51),i=n(86),o=n(71);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(0);r(r.S,"Object",{create:n(53)})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperty:n(7).f})},function(e,t,n){var r=n(0);r(r.S+r.F*!n(6),"Object",{defineProperties:n(163)})},function(e,t,n){var r=n(23),i=n(24).f;n(33)("getOwnPropertyDescriptor",function(){return function(e,t){return i(r(e),t)}})},function(e,t,n){var r=n(10),i=n(25);n(33)("getPrototypeOf",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(10),i=n(51);n(33)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){n(33)("getOwnPropertyNames",function(){return n(164).f})},function(e,t,n){var r=n(4),i=n(45).onFreeze;n(33)("freeze",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(4),i=n(45).onFreeze;n(33)("seal",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(4),i=n(45).onFreeze;n(33)("preventExtensions",function(e){return function(t){return e&&r(t)?e(i(t)):t}})},function(e,t,n){var r=n(4);n(33)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(4);n(33)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(4);n(33)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(165)})},function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(242)})},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(113).set})},function(e,t,n){"use strict";var r=n(72),i={};i[n(5)("toStringTag")]="z",i+""!="[object z]"&&n(20)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(0);r(r.P,"Function",{bind:n(166)})},function(e,t,n){var r=n(7).f,i=Function.prototype,o=/^\s*function ([^ (]*)/;"name"in i||n(6)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(4),i=n(25),o=n(5)("hasInstance"),a=Function.prototype;o in a||n(7).f(a,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=i(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(0),i=n(168);r(r.G+r.F*(parseInt!=i),{parseInt:i})},function(e,t,n){var r=n(0),i=n(169);r(r.G+r.F*(parseFloat!=i),{parseFloat:i})},function(e,t,n){"use strict";var r=n(2),i=n(18),o=n(27),a=n(115),s=n(30),u=n(3),c=n(54).f,l=n(24).f,f=n(7).f,d=n(63).trim,p=r.Number,h=p,v=p.prototype,m="Number"==o(n(53)(v)),g="trim"in String.prototype,y=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,i,o=(t=g?t.trim():d(t,3)).charCodeAt(0);if(43===o||45===o){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+t}for(var a,u=t.slice(2),c=0,l=u.length;c<l;c++)if((a=u.charCodeAt(c))<48||a>i)return NaN;return parseInt(u,r)}}return+t};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof p&&(m?u(function(){v.valueOf.call(n)}):"Number"!=o(n))?a(new h(y(t)),n,p):y(t)};for(var w,_=n(6)?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),b=0;_.length>b;b++)i(h,w=_[b])&&!i(p,w)&&f(p,w,l(h,w));p.prototype=v,v.constructor=p,n(20)(r,"Number",p)}},function(e,t,n){"use strict";var r=n(0),i=n(32),o=n(170),a=n(116),s=1..toFixed,u=Math.floor,c=[0,0,0,0,0,0],l="Number.toFixed: incorrect invocation!",f=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*c[n],c[n]=r%1e7,r=u(r/1e7)},d=function(e){for(var t=6,n=0;--t>=0;)n+=c[t],c[t]=u(n/e),n=n%e*1e7},p=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==c[e]){var n=String(c[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},h=function(e,t,n){return 0===t?n:t%2==1?h(e,t-1,n*e):h(e*e,t/2,n)};r(r.P+r.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(3)(function(){s.call({})})),"Number",{toFixed:function(e){var t,n,r,s,u=o(this,l),c=i(e),v="",m="0";if(c<0||c>20)throw RangeError(l);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(v="-",u=-u),u>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(u*h(2,69,1))-69)<0?u*h(2,-t,1):u/h(2,t,1),n*=4503599627370496,(t=52-t)>0){for(f(0,n),r=c;r>=7;)f(1e7,0),r-=7;for(f(h(10,r,1),0),r=t-1;r>=23;)d(1<<23),r-=23;d(1<<r),f(1,1),d(2),m=p()}else f(0,n),f(1<<-t,0),m=p()+a.call("0",c);return m=c>0?v+((s=m.length)<=c?"0."+a.call("0",c-s)+m:m.slice(0,s-c)+"."+m.slice(s-c)):v+m}})},function(e,t,n){"use strict";var r=n(0),i=n(3),o=n(170),a=1..toPrecision;r(r.P+r.F*(i(function(){return"1"!==a.call(1,void 0)})||!i(function(){a.call({})})),"Number",{toPrecision:function(e){var t=o(this,"Number#toPrecision: incorrect invocation!");return void 0===e?a.call(t):a.call(t,e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(0),i=n(2).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(171)})},function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(0),i=n(171),o=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&o(e)<=9007199254740991}})},function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(0),i=n(169);r(r.S+r.F*(Number.parseFloat!=i),"Number",{parseFloat:i})},function(e,t,n){var r=n(0),i=n(168);r(r.S+r.F*(Number.parseInt!=i),"Number",{parseInt:i})},function(e,t,n){var r=n(0),i=n(172),o=Math.sqrt,a=Math.acosh;r(r.S+r.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+o(e-1)*o(e+1))}})},function(e,t,n){var r=n(0),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(0),i=n(117);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})},function(e,t,n){var r=n(0),i=n(118);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})},function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(173)})},function(e,t,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,o=0,a=0,s=arguments.length,u=0;a<s;)u<(n=i(arguments[a++]))?(o=o*(r=u/n)*r+1,u=n):o+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(o)}})},function(e,t,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(3)(function(){return-5!=i(4294967295,5)||2!=i.length}),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r;return 0|i*o+((65535&n>>>16)*o+i*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(172)})},function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(117)})},function(e,t,n){var r=n(0),i=n(118),o=Math.exp;r(r.S+r.F*n(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(o(e-1)-o(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(0),i=n(118),o=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(o(e)+o(-e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){var r=n(0),i=n(52),o=String.fromCharCode,a=String.fromCodePoint;r(r.S+r.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,a=0;r>a;){if(t=+arguments[a++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){var r=n(0),i=n(23),o=n(8);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=o(t.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(t[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(e,t,n){"use strict";n(63)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";var r=n(119)(!0);n(120)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var r=n(0),i=n(119)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(122),a="".endsWith;r(r.P+r.F*n(123)("endsWith"),"String",{endsWith:function(e){var t=o(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),u=String(e);return a?a.call(t,u,s):t.slice(s-u.length,s)===u}})},function(e,t,n){"use strict";var r=n(0),i=n(122);r(r.P+r.F*n(123)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(116)})},function(e,t,n){"use strict";var r=n(0),i=n(8),o=n(122),a="startsWith",s=""[a];r(r.P+r.F*n(123)(a),"String",{startsWith:function(e){var t=o(this,e,a),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return s?s.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(21)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(21)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(21)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(21)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";n(21)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(21)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(21)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){"use strict";n(21)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";n(21)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";n(21)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";n(21)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(21)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(21)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){var r=n(0);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(30);r(r.P+r.F*n(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=i(this),n=o(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(0),i=n(304);r(r.P+r.F*(Date.prototype.toISOString!==i),"Date",{toISOString:i})},function(e,t,n){"use strict";var r=n(3),i=Date.prototype.getTime,o=Date.prototype.toISOString,a=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=o.call(new Date(-5e13-1))})||!r(function(){o.call(new Date(NaN))})?function(){if(!isFinite(i.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"."+(t>99?t:"0"+a(t))+"Z"}:o},function(e,t,n){var r=Date.prototype,i=r.toString,o=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(20)(r,"toString",function(){var e=o.call(this);return e==e?i.call(this):"Invalid Date"})},function(e,t,n){var r=n(5)("toPrimitive"),i=Date.prototype;r in i||n(19)(i,r,n(307))},function(e,t,n){"use strict";var r=n(1),i=n(30);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!=e)}},function(e,t,n){var r=n(0);r(r.S,"Array",{isArray:n(87)})},function(e,t,n){"use strict";var r=n(26),i=n(0),o=n(10),a=n(174),s=n(124),u=n(8),c=n(125),l=n(126);i(i.S+i.F*!n(89)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,d=o(e),p="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,g=0,y=l(d);if(m&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==y||p==Array&&s(y))for(n=new p(t=u(d.length));t>g;g++)c(n,g,m?v(d[g],g):d[g]);else for(f=y.call(d),n=new p;!(i=f.next()).done;g++)c(n,g,m?a(f,v,[i.value,g],!0):i.value);return n.length=g,n}})},function(e,t,n){"use strict";var r=n(0),i=n(125);r(r.S+r.F*n(3)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(0),i=n(23),o=[].join;r(r.P+r.F*(n(70)!=Object||!n(28)(o)),"Array",{join:function(e){return o.call(i(this),void 0===e?",":e)}})},function(e,t,n){"use strict";var r=n(0),i=n(112),o=n(27),a=n(52),s=n(8),u=[].slice;r(r.P+r.F*n(3)(function(){i&&u.call(i)}),"Array",{slice:function(e,t){var n=s(this.length),r=o(this);if(t=void 0===t?n:t,"Array"==r)return u.call(this,e,t);for(var i=a(e,n),c=a(t,n),l=s(c-i),f=Array(l),d=0;d<l;d++)f[d]="String"==r?this.charAt(i+d):this[i+d];return f}})},function(e,t,n){"use strict";var r=n(0),i=n(13),o=n(10),a=n(3),s=[].sort,u=[1,2,3];r(r.P+r.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!n(28)(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},function(e,t,n){"use strict";var r=n(0),i=n(34)(0),o=n(28)([].forEach,!0);r(r.P+r.F*!o,"Array",{forEach:function(e){return i(this,e,arguments[1])}})},function(e,t,n){var r=n(4),i=n(87),o=n(5)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){"use strict";var r=n(0),i=n(34)(1);r(r.P+r.F*!n(28)([].map,!0),"Array",{map:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(34)(2);r(r.P+r.F*!n(28)([].filter,!0),"Array",{filter:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(34)(3);r(r.P+r.F*!n(28)([].some,!0),"Array",{some:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(34)(4);r(r.P+r.F*!n(28)([].every,!0),"Array",{every:function(e){return i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(175);r(r.P+r.F*!n(28)([].reduce,!0),"Array",{reduce:function(e){return i(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(0),i=n(175);r(r.P+r.F*!n(28)([].reduceRight,!0),"Array",{reduceRight:function(e){return i(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(85)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(a||!n(28)(o)),"Array",{indexOf:function(e){return a?o.apply(this,arguments)||0:i(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(0),i=n(23),o=n(32),a=n(8),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(u||!n(28)(s)),"Array",{lastIndexOf:function(e){if(u)return s.apply(this,arguments)||0;var t=i(this),n=a(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,o(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(176)}),n(46)("copyWithin")},function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(128)}),n(46)("fill")},function(e,t,n){"use strict";var r=n(0),i=n(34)(5),o=!0;"find"in[]&&Array(1).find(function(){o=!1}),r(r.P+r.F*o,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(46)("find")},function(e,t,n){"use strict";var r=n(0),i=n(34)(6),o=!0;"findIndex"in[]&&Array(1).findIndex(function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(46)("findIndex")},function(e,t,n){n(55)("Array")},function(e,t,n){var r=n(2),i=n(115),o=n(7).f,a=n(54).f,s=n(88),u=n(90),c=r.RegExp,l=c,f=c.prototype,d=/a/g,p=/a/g,h=new c(d)!==d;if(n(6)&&(!h||n(3)(function(){return p[n(5)("match")]=!1,c(d)!=d||c(p)==p||"/a/i"!=c(d,"i")}))){c=function(e,t){var n=this instanceof c,r=s(e),o=void 0===t;return!n&&r&&e.constructor===c&&o?e:i(h?new l(r&&!o?e.source:e,t):l((r=e instanceof c)?e.source:e,r&&o?u.call(e):t),n?this:f,c)};for(var v=function(e){e in c||o(c,e,{configurable:!0,get:function(){return l[e]},set:function(t){l[e]=t}})},m=a(l),g=0;m.length>g;)v(m[g++]);f.constructor=c,c.prototype=f,n(20)(r,"RegExp",c)}n(55)("RegExp")},function(e,t,n){"use strict";n(178);var r=n(1),i=n(90),o=n(6),a=/./.toString,s=function(e){n(20)(RegExp.prototype,"toString",e,!0)};n(3)(function(){return"/a/b"!=a.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?i.call(e):void 0)}):"toString"!=a.name&&s(function(){return a.call(this)})},function(e,t,n){n(91)("match",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(91)("replace",2,function(e,t,n){return[function(r,i){"use strict";var o=e(this),a=void 0==r?void 0:r[t];return void 0!==a?a.call(r,o,i):n.call(String(o),r,i)},n]})},function(e,t,n){n(91)("search",1,function(e,t,n){return[function(n){"use strict";var r=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]})},function(e,t,n){n(91)("split",2,function(e,t,r){"use strict";var i=n(88),o=r,a=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return o.call(n,e,t);var r,u,c,l,f,d=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,v=void 0===t?4294967295:t>>>0,m=new RegExp(e.source,p+"g");for(s||(r=new RegExp("^"+m.source+"$(?!\\s)",p));(u=m.exec(n))&&!((c=u.index+u[0].length)>h&&(d.push(n.slice(h,u.index)),!s&&u.length>1&&u[0].replace(r,function(){for(f=1;f<arguments.length-2;f++)void 0===arguments[f]&&(u[f]=void 0)}),u.length>1&&u.index<n.length&&a.apply(d,u.slice(1)),l=u[0].length,h=c,d.length>=v));)m.lastIndex===u.index&&m.lastIndex++;return h===n.length?!l&&m.test("")||d.push(""):d.push(n.slice(h)),d.length>v?d.slice(0,v):d}}else"0".split(void 0,0).length&&(r=function(e,t){return void 0===e&&0===t?[]:o.call(this,e,t)});return[function(n,i){var o=e(this),a=void 0==n?void 0:n[t];return void 0!==a?a.call(n,o,i):r.call(String(o),n,i)},r]})},function(e,t,n){"use strict";var r,i,o,a,s=n(50),u=n(2),c=n(26),l=n(72),f=n(0),d=n(4),p=n(13),h=n(56),v=n(57),m=n(92),g=n(130).set,y=n(131)(),w=n(132),_=n(179),b=n(180),S="Promise",x=u.TypeError,M=u.process,k=u[S],A="process"==l(M),E=function(){},I=i=w.f,T=!!function(){try{var e=k.resolve(1),t=(e.constructor={})[n(5)("species")]=function(e){e(E,E)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof t}catch(e){}}(),C=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},O=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{a?(i||(2==e._h&&N(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?u(x("Promise-chain cycle")):(o=C(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&P(e)})}},P=function(e){g.call(u,function(){var t,n,r,i=e._v,o=F(e);if(o&&(t=_(function(){A?M.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=A||F(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},F=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if((t=n[r++]).fail||!F(t.promise))return!1;return!0},N=function(e){g.call(u,function(){var t;A?M.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},W=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),O(t,!0))},D=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=C(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,c(D,r,1),c(W,r,1))}catch(e){W.call(r,e)}}):(n._v=e,n._s=1,O(n,!1))}catch(e){W.call({_w:n,_d:!1},e)}}};T||(k=function(e){h(this,k,S,"_h"),p(e),r.call(this);try{e(c(D,this,1),c(W,this,1))}catch(e){W.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(58)(k.prototype,{then:function(e,t){var n=I(m(this,k));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?M.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&O(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(D,e,1),this.reject=c(W,e,1)},w.f=I=function(e){return e===k||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!T,{Promise:k}),n(62)(k,S),n(55)(S),a=n(29)[S],f(f.S+f.F*!T,S,{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!T),S,{resolve:function(e){return b(s&&this===a?k:this,e)}}),f(f.S+f.F*!(T&&n(89)(function(e){k.all(e).catch(E)})),S,{all:function(e){var t=this,n=I(t),r=n.resolve,i=n.reject,o=_(function(){var n=[],o=0,a=1;v(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=I(t),r=n.reject,i=_(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){"use strict";var r=n(185),i=n(65);n(93)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){"use strict";var r=n(0),i=n(94),o=n(133),a=n(1),s=n(52),u=n(8),c=n(4),l=n(2).ArrayBuffer,f=n(92),d=o.ArrayBuffer,p=o.DataView,h=i.ABV&&l.isView,v=d.prototype.slice,m=i.VIEW,g="ArrayBuffer";r(r.G+r.W+r.F*(l!==d),{ArrayBuffer:d}),r(r.S+r.F*!i.CONSTR,g,{isView:function(e){return h&&h(e)||c(e)&&m in e}}),r(r.P+r.U+r.F*n(3)(function(){return!new d(2).slice(1,void 0).byteLength}),g,{slice:function(e,t){if(void 0!==v&&void 0===t)return v.call(a(this),e);for(var n=a(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),o=new(f(this,d))(u(i-r)),c=new p(this),l=new p(o),h=0;r<i;)l.setUint8(h++,c.getUint8(r++));return o}}),n(55)(g)},function(e,t,n){var r=n(0);r(r.G+r.W+r.F*!n(94).ABV,{DataView:n(133).DataView})},function(e,t,n){n(39)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(39)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(39)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(39)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(39)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(39)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(39)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(39)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(39)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){var r=n(0),i=n(13),o=n(1),a=(n(2).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(3)(function(){a(function(){})}),"Reflect",{apply:function(e,t,n){var r=i(e),u=o(n);return a?a(r,t,u):s.call(r,t,u)}})},function(e,t,n){var r=n(0),i=n(53),o=n(13),a=n(1),s=n(4),u=n(3),c=n(166),l=(n(2).Reflect||{}).construct,f=u(function(){function e(){}return!(l(function(){},[],e)instanceof e)}),d=!u(function(){l(function(){})});r(r.S+r.F*(f||d),"Reflect",{construct:function(e,t){o(e),a(t);var n=arguments.length<3?e:o(arguments[2]);if(d&&!f)return l(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})},function(e,t,n){var r=n(7),i=n(0),o=n(1),a=n(30);i(i.S+i.F*n(3)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){o(e),t=a(t,!0),o(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(0),i=n(24).f,o=n(1);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(o(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){"use strict";var r=n(0),i=n(1),o=function(e){this._t=i(e),this._i=0;var t,n=this._k=[];for(t in e)n.push(t)};n(121)(o,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),r(r.S,"Reflect",{enumerate:function(e){return new o(e)}})},function(e,t,n){var r=n(24),i=n(25),o=n(18),a=n(0),s=n(4),u=n(1);a(a.S,"Reflect",{get:function e(t,n){var a,c,l=arguments.length<3?t:arguments[2];return u(t)===l?t[n]:(a=r.f(t,n))?o(a,"value")?a.value:void 0!==a.get?a.get.call(l):void 0:s(c=i(t))?e(c,n,l):void 0}})},function(e,t,n){var r=n(24),i=n(0),o=n(1);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(o(e),t)}})},function(e,t,n){var r=n(0),i=n(25),o=n(1);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(o(e))}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(0),i=n(1),o=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!o||o(e)}})},function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(187)})},function(e,t,n){var r=n(0),i=n(1),o=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return o&&o(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(7),i=n(24),o=n(25),a=n(18),s=n(0),u=n(48),c=n(1),l=n(4);s(s.S,"Reflect",{set:function e(t,n,s){var f,d,p=arguments.length<4?t:arguments[3],h=i.f(c(t),n);if(!h){if(l(d=o(t)))return e(d,n,s,p);h=u(0)}return a(h,"value")?!(!1===h.writable||!l(p)||((f=i.f(p,n)||u(0)).value=s,r.f(p,n,f),0)):void 0!==h.set&&(h.set.call(p,s),!0)}})},function(e,t,n){var r=n(0),i=n(113);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){"use strict";var r=n(0),i=n(85)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(46)("includes")},function(e,t,n){"use strict";var r=n(0),i=n(188),o=n(10),a=n(8),s=n(13),u=n(127);r(r.P,"Array",{flatMap:function(e){var t,n,r=o(this);return s(e),t=a(r.length),n=u(r,0),i(n,r,r,t,0,1,e,arguments[1]),n}}),n(46)("flatMap")},function(e,t,n){"use strict";var r=n(0),i=n(188),o=n(10),a=n(8),s=n(32),u=n(127);r(r.P,"Array",{flatten:function(){var e=arguments[0],t=o(this),n=a(t.length),r=u(t,0);return i(r,t,t,n,0,void 0===e?1:s(e)),r}}),n(46)("flatten")},function(e,t,n){"use strict";var r=n(0),i=n(119)(!0);r(r.P,"String",{at:function(e){return i(this,e)}})},function(e,t,n){"use strict";var r=n(0),i=n(189);r(r.P,"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(0),i=n(189);r(r.P,"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";n(63)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(63)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var r=n(0),i=n(31),o=n(8),a=n(88),s=n(90),u=RegExp.prototype,c=function(e,t){this._r=e,this._s=t};n(121)(c,"RegExp String",function(){var e=this._r.exec(this._s);return{value:e,done:null===e}}),r(r.P,"String",{matchAll:function(e){if(i(this),!a(e))throw TypeError(e+" is not a regexp!");var t=String(this),n="flags"in u?String(e.flags):s.call(e),r=new RegExp(e.source,~n.indexOf("g")?n:"g"+n);return r.lastIndex=o(e.lastIndex),new c(r,t)}})},function(e,t,n){n(109)("asyncIterator")},function(e,t,n){n(109)("observable")},function(e,t,n){var r=n(0),i=n(187),o=n(23),a=n(24),s=n(125);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=o(e),u=a.f,c=i(r),l={},f=0;c.length>f;)void 0!==(n=u(r,t=c[f++]))&&s(l,t,n);return l}})},function(e,t,n){var r=n(0),i=n(190)(!1);r(r.S,"Object",{values:function(e){return i(e)}})},function(e,t,n){var r=n(0),i=n(190)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(13),a=n(7);n(6)&&r(r.P+n(95),"Object",{__defineGetter__:function(e,t){a.f(i(this),e,{get:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(13),a=n(7);n(6)&&r(r.P+n(95),"Object",{__defineSetter__:function(e,t){a.f(i(this),e,{set:o(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(30),a=n(25),s=n(24).f;n(6)&&r(r.P+n(95),"Object",{__lookupGetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(0),i=n(10),o=n(30),a=n(25),s=n(24).f;n(6)&&r(r.P+n(95),"Object",{__lookupSetter__:function(e){var t,n=i(this),r=o(e,!0);do{if(t=s(n,r))return t.set}while(n=a(n))}})},function(e,t,n){var r=n(0);r(r.P+r.R,"Map",{toJSON:n(191)("Map")})},function(e,t,n){var r=n(0);r(r.P+r.R,"Set",{toJSON:n(191)("Set")})},function(e,t,n){n(96)("Map")},function(e,t,n){n(96)("Set")},function(e,t,n){n(96)("WeakMap")},function(e,t,n){n(96)("WeakSet")},function(e,t,n){n(97)("Map")},function(e,t,n){n(97)("Set")},function(e,t,n){n(97)("WeakMap")},function(e,t,n){n(97)("WeakSet")},function(e,t,n){var r=n(0);r(r.G,{global:n(2)})},function(e,t,n){var r=n(0);r(r.S,"System",{global:n(2)})},function(e,t,n){var r=n(0),i=n(27);r(r.S,"Error",{isError:function(e){return"Error"===i(e)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{clamp:function(e,t,n){return Math.min(n,Math.max(t,e))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{DEG_PER_RAD:Math.PI/180})},function(e,t,n){var r=n(0),i=180/Math.PI;r(r.S,"Math",{degrees:function(e){return e*i}})},function(e,t,n){var r=n(0),i=n(193),o=n(173);r(r.S,"Math",{fscale:function(e,t,n,r,a){return o(i(e,t,n,r,a))}})},function(e,t,n){var r=n(0);r(r.S,"Math",{iaddh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)+(r>>>0)+((i&o|(i|o)&~(i+o>>>0))>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{isubh:function(e,t,n,r){var i=e>>>0,o=n>>>0;return(t>>>0)-(r>>>0)-((~i&o|~(i^o)&i-o>>>0)>>>31)|0}})},function(e,t,n){var r=n(0);r(r.S,"Math",{imulh:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r,a=n>>16,s=r>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>16)+((i*s>>>0)+(65535&u)>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{RAD_PER_DEG:180/Math.PI})},function(e,t,n){var r=n(0),i=Math.PI/180;r(r.S,"Math",{radians:function(e){return e*i}})},function(e,t,n){var r=n(0);r(r.S,"Math",{scale:n(193)})},function(e,t,n){var r=n(0);r(r.S,"Math",{umulh:function(e,t){var n=+e,r=+t,i=65535&n,o=65535&r,a=n>>>16,s=r>>>16,u=(a*o>>>0)+(i*o>>>16);return a*s+(u>>>16)+((i*s>>>0)+(65535&u)>>>16)}})},function(e,t,n){var r=n(0);r(r.S,"Math",{signbit:function(e){return(e=+e)!=e?e:0==e?1/e==1/0:e>0}})},function(e,t,n){"use strict";var r=n(0),i=n(29),o=n(2),a=n(92),s=n(180);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(0),i=n(132),o=n(179);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){var r=n(40),i=n(1),o=r.key,a=r.set;r.exp({defineMetadata:function(e,t,n,r){a(e,t,i(n),o(r))}})},function(e,t,n){var r=n(40),i=n(1),o=r.key,a=r.map,s=r.store;r.exp({deleteMetadata:function(e,t){var n=arguments.length<3?void 0:o(arguments[2]),r=a(i(t),n,!1);if(void 0===r||!r.delete(e))return!1;if(r.size)return!0;var u=s.get(t);return u.delete(n),!!u.size||s.delete(t)}})},function(e,t,n){var r=n(40),i=n(1),o=n(25),a=r.has,s=r.get,u=r.key,c=function(e,t,n){if(a(e,t,n))return s(e,t,n);var r=o(t);return null!==r?c(e,r,n):void 0};r.exp({getMetadata:function(e,t){return c(e,i(t),arguments.length<3?void 0:u(arguments[2]))}})},function(e,t,n){var r=n(183),i=n(192),o=n(40),a=n(1),s=n(25),u=o.keys,c=o.key,l=function(e,t){var n=u(e,t),o=s(e);if(null===o)return n;var a=l(o,t);return a.length?n.length?i(new r(n.concat(a))):a:n};o.exp({getMetadataKeys:function(e){return l(a(e),arguments.length<2?void 0:c(arguments[1]))}})},function(e,t,n){var r=n(40),i=n(1),o=r.get,a=r.key;r.exp({getOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(40),i=n(1),o=r.keys,a=r.key;r.exp({getOwnMetadataKeys:function(e){return o(i(e),arguments.length<2?void 0:a(arguments[1]))}})},function(e,t,n){var r=n(40),i=n(1),o=n(25),a=r.has,s=r.key,u=function(e,t,n){if(a(e,t,n))return!0;var r=o(t);return null!==r&&u(e,r,n)};r.exp({hasMetadata:function(e,t){return u(e,i(t),arguments.length<3?void 0:s(arguments[2]))}})},function(e,t,n){var r=n(40),i=n(1),o=r.has,a=r.key;r.exp({hasOwnMetadata:function(e,t){return o(e,i(t),arguments.length<3?void 0:a(arguments[2]))}})},function(e,t,n){var r=n(40),i=n(1),o=n(13),a=r.key,s=r.set;r.exp({metadata:function(e,t){return function(n,r){s(e,t,(void 0!==r?i:o)(n),a(r))}}})},function(e,t,n){var r=n(0),i=n(131)(),o=n(2).process,a="process"==n(27)(o);r(r.G,{asap:function(e){var t=a&&o.domain;i(t?t.bind(e):e)}})},function(e,t,n){"use strict";var r=n(0),i=n(2),o=n(29),a=n(131)(),s=n(5)("observable"),u=n(13),c=n(1),l=n(56),f=n(58),d=n(19),p=n(57),h=p.RETURN,v=function(e){return null==e?void 0:u(e)},m=function(e){var t=e._c;t&&(e._c=void 0,t())},g=function(e){return void 0===e._o},y=function(e){g(e)||(e._o=void 0,m(e))},w=function(e,t){c(e),this._c=void 0,this._o=e,e=new _(this);try{var n=t(e),r=n;null!=n&&("function"==typeof n.unsubscribe?n=function(){r.unsubscribe()}:u(n),this._c=n)}catch(t){return void e.error(t)}g(this)&&m(this)};w.prototype=f({},{unsubscribe:function(){y(this)}});var _=function(e){this._s=e};_.prototype=f({},{next:function(e){var t=this._s;if(!g(t)){var n=t._o;try{var r=v(n.next);if(r)return r.call(n,e)}catch(e){try{y(t)}finally{throw e}}}},error:function(e){var t=this._s;if(g(t))throw e;var n=t._o;t._o=void 0;try{var r=v(n.error);if(!r)throw e;e=r.call(n,e)}catch(e){try{m(t)}finally{throw e}}return m(t),e},complete:function(e){var t=this._s;if(!g(t)){var n=t._o;t._o=void 0;try{var r=v(n.complete);e=r?r.call(n,e):void 0}catch(e){try{m(t)}finally{throw e}}return m(t),e}}});var b=function(e){l(this,b,"Observable","_f")._f=u(e)};f(b.prototype,{subscribe:function(e){return new w(e,this._f)},forEach:function(e){var t=this;return new(o.Promise||i.Promise)(function(n,r){u(e);var i=t.subscribe({next:function(t){try{return e(t)}catch(e){r(e),i.unsubscribe()}},error:r,complete:n})})}}),f(b,{from:function(e){var t="function"==typeof this?this:b,n=v(c(e)[s]);if(n){var r=c(n.call(e));return r.constructor===t?r:new t(function(e){return r.subscribe(e)})}return new t(function(t){var n=!1;return a(function(){if(!n){try{if(p(e,!1,function(e){if(t.next(e),n)return h})===h)return}catch(e){if(n)throw e;return void t.error(e)}t.complete()}}),function(){n=!0}})},of:function(){for(var e=0,t=arguments.length,n=Array(t);e<t;)n[e]=arguments[e++];return new("function"==typeof this?this:b)(function(e){var t=!1;return a(function(){if(!t){for(var r=0;r<n.length;++r)if(e.next(n[r]),t)return;e.complete()}}),function(){t=!0}})}}),d(b.prototype,s,function(){return this}),r(r.G,{Observable:b}),n(55)("Observable")},function(e,t,n){var r=n(2),i=n(0),o=r.navigator,a=[].slice,s=!!o&&/MSIE .\./.test(o.userAgent),u=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&a.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})},function(e,t,n){var r=n(0),i=n(130);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){for(var r=n(129),i=n(51),o=n(20),a=n(2),s=n(19),u=n(64),c=n(5),l=c("iterator"),f=c("toStringTag"),d=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),v=0;v<h.length;v++){var m,g=h[v],y=p[g],w=a[g],_=w&&w.prototype;if(_&&(_[l]||s(_,l,d),_[f]||s(_,f,g),u[g]=d,y))for(m in r)_[m]||o(_,m,r[m],!0)}},function(e,t,n){n(422),e.exports=n(29).RegExp.escape},function(e,t,n){var r=n(0),i=n(423)(/[\\^$*+?.()|[\]{}]/g,"\\$&");r(r.S,"RegExp",{escape:function(e){return i(e)}})},function(e,t){e.exports=function(e,t){var n=t===Object(t)?function(e){return t[e]}:t;return function(t){return String(t).replace(e,n)}}},function(e,t,n){"use strict";var r=O(n(41)),i=O(n(38)),o=O(n(22)),a=O(n(12)),s=O(n(43)),u=O(n(205)),c=O(n(17)),l=n(9),f=O(n(104)),d=O(n(105)),p=n(67),h=n(466),v=O(n(477)),m=O(n(216));n(217);var g=n(483),y=n(487),w=O(n(495)),_=n(107),b=n(499),S=O(n(83)),x=O(n(500)),M=n(510),k=O(n(513)),A=O(n(221)),E=O(n(514)),I=O(n(515)),T=O(n(517)),C=O(n(518));function O(e){return e&&e.__esModule?e:{default:e}}E.default.setup(),global.app=l.app,l.crashReporter.start({productName:"XMind Zen",companyName:"XMind Ltd.",submitURL:"http://www.xmind.net/_api/vana-error-report",uploadToServer:!0}),function(){var e=function(e,t){var n=a.default.resolve(a.default.dirname(process.execPath),"..","Update.exe");u.default.spawn(n,e,{detached:!0}).on("close",t)};if("win32"===process.platform){var t=process.argv[1],n=a.default.basename(process.execPath);if("--squirrel-install"===t||"--squirrel-updated"===t)return e(["--createShortcut="+n],l.app.quit),!0;if("--squirrel-uninstall"===t)return e(["--removeShortcut="+n],l.app.quit),!0;if("--squirrel-obsolete"===t)return l.app.quit(),!0}return!1}()&&l.app.quit();var P={};P=n(519),l.app.pkgInfo=P,f.default.configure({sessionInfo:{version:P.version,buildNumber:P.buildNumber,vendor:(P.vendor||{}).name||"cathy"},logFilePathPrefix:a.default.join(m.default.log,"app"),isDebugging:"true"===process.env.XMIND_DEV_MODE||P.version.indexOf("-alpha")>=0||P.version.indexOf("-beta")>=0?function(){return!0}:p.isDebugging});var F=f.default.logger("main");l.app.workspace=m.default,l.app.rootLogger=f.default,l.app.eventManager=S.default,l.app.vud=_.vud,l.app.tvud=_.tvud,l.app.autoUpdater=x.default,l.app.lifecycle=k.default,l.app.throwError=function(){setTimeout(function(e){throw Error("Throw error manually.")},0)},k.default.startup(),l.app.activateService=new I.default({vud:_.vud,superagent:n(155),app:l.app,tvud:_.tvud}),l.app.commandService=new h.CommandService,l.app.keyBindings=new y.KeyBindings(F),l.app.mainMenu=new g.VanaMenu,l.app.errorHandler=new p.SimpleErrorHandler(F),l.app.statusService=new C.default({logger:F}),l.app.localizer=new v.default(a.default.join(l.app.workspace.appRoot,"locales")),l.app.fontService=A.default,l.app.tracker=d.default,l.app.tracker.start(l.app),(0,M.initPreferences)(l.app,_.vud),process.on("uncaughtException",function(e){e&&l.app.errorHandler.handle(e)}),process.on("unhandledRejection",function(e){e&&l.app.errorHandler.handle(e)});for(var N=function(e){l.app.on(e,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];l.BrowserWindow.broadcast.apply(l.BrowserWindow,[e].concat(n))})},W=[_.ET_CHANGE_VUD,_.ET_CHANGE_TVUD],D=0;D<W.length;D++){N(W[D])}l.app.commandService.registerCommands(w.default),l.app.keyBindings.activate(),l.app.mainMenu.activate(),l.app.on("change:vud",function(e){"preferences"===e.moduleName&&"general.locale"===e.key&&l.app.localizer.updateLocale({locales:[l.app.vud.getModule("preferences").get("general.locale")]})});var L=!1;function U(){l.app.clearRecentDocuments(),l.app.notification=new b.NotificationService,l.app.notification.start(),d.default.startApplication(),d.default.setAppVersion(P.version);var e=l.screen.getPrimaryDisplay().bounds;if(d.default.setDeviceResolution(e.width,e.height),(0,T.default)(function(e){F.info("machineUUID is :",e),l.app.machine_id=e,l.app.activateService.startupCheck(),d.default.setVisiterId(e)}),k.default.checkPasscode()){F.debug("Application start up, lifecycle state is ",k.default.state),l.app.errorHandler.dialog=l.dialog;var t=l.app.lifecycle.startupFilesToOpen||[],n=!1,r=l.app.workspace.workbooks;if(c.default.existsSync(r)){var i=function(e){var t=a.default.join(r,e),i=a.default.join(t,".memento.json");c.default.existsSync(i)?c.default.readJsonAsync(i).then(function(e){if(n=!0,e.source.startsWith("cloud:")){var t=l.app.vud.getModule("account").get("authorization"),r=l.app.vud.getModule("preferences").get("enableSeawind");if(!t||!r)return}F.debug("Recover: ",e.source),l.BrowserWindow.openMindMapEditor({source:e.source,mementoId:e.docId})}).catch(function(e){F.warn("fail to read mementoJSON,",e),c.default.removeAsync(t).catch(function(e){F.warn("fail to remove workbook path",e)})}):(F.warn("mementoJSON '"+i+"' dosen't exist, try to remove temp workbook path"),c.default.removeAsync(t).catch(function(e){F.warn("fail to remove workbook path",e)}))},u=c.default.readdirSync(r),f=Array.isArray(u),p=0;for(u=f?u:(0,o.default)(u);;){var h;if(f){if(p>=u.length)break;h=u[p++]}else{if((p=u.next()).done)break;h=p.value}i(h)}}if(t.length>0){var v=[],m=t,g=Array.isArray(m),y=0;for(m=g?m:(0,o.default)(m);;){var w;if(g){if(y>=m.length)break;w=m[y++]}else{if((y=m.next()).done)break;w=y.value}var _=w;v.includes(_)||(n=!0,F.debug("Startup to open file:",_),l.BrowserWindow.openMindMapEditor({source:s.default.format({protocol:"file",slashes:!0,pathname:_})}),v.push(_))}}t=[],n||(F.debug("Startup to open home"),l.BrowserWindow.openNew())}else l.BrowserWindow.openPasscode()}k.default.onReady(function(){L&&U()}),i.default.all([new i.default(function(e){e(l.app.vud.getModule("preferences"))}).then(function(e){return l.app.localizer.updateLocale({locales:["en-US",l.app.getLocale(),e["general.locale"]],logger:f.default.logger("nls")})})]).then(function(){(L=!0)&&k.default.isReady()&&U()}),(0,r.default)(l.dialog,{showMessageBox2:function(e,t){l.app.commandService.deactivateDelegate(e.commandService);var n=l.dialog.showMessageBox(e,t);return l.app.commandService.activateDelegate(e.commandService),n}})},function(e,t,n){n(426),e.exports=n(11).Object.assign},function(e,t,n){var r=n(14);r(r.S+r.F,"Object",{assign:n(427)})},function(e,t,n){"use strict";var r=n(74),i=n(143),o=n(100),a=n(101),s=n(136),u=Object.assign;e.exports=!u||n(60)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r})?function(e,t){for(var n=a(e),u=arguments.length,c=1,l=i.f,f=o.f;u>c;)for(var d,p=s(arguments[c++]),h=l?r(p).concat(l(p)):r(p),v=h.length,m=0;v>m;)f.call(p,d=h[m++])&&(n[d]=p[d]);return n}:u},function(e,t,n){var r=n(66),i=n(138),o=n(429);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},function(e,t,n){var r=n(139),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},function(e,t,n){n(102),n(76),n(79),n(437),n(443),n(444),e.exports=n(11).Promise},function(e,t,n){var r=n(139),i=n(137);e.exports=function(e){return function(t,n){var o,a,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(o=s.charCodeAt(u))<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):a-56320+(o-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(145),i=n(98),o=n(78),a={};n(47)(a,n(16)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(a,{next:i(1,n)}),o(e,t+" Iterator")}},function(e,t,n){var r=n(35),i=n(42),o=n(74);e.exports=n(37)?Object.defineProperties:function(e,t){i(e);for(var n,a=o(t),s=a.length,u=0;s>u;)r.f(e,n=a[u++],t[n]);return e}},function(e,t,n){var r=n(61),i=n(101),o=n(140)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){"use strict";var r=n(436),i=n(199),o=n(77),a=n(66);e.exports=n(144)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r,i,o,a,s=n(103),u=n(15),c=n(59),l=n(146),f=n(14),d=n(36),p=n(73),h=n(147),v=n(80),m=n(201),g=n(148).set,y=n(441)(),w=n(149),_=n(202),b=n(203),S="Promise",x=u.TypeError,M=u.process,k=u[S],A="process"==l(M),E=function(){},I=i=w.f,T=!!function(){try{var e=k.resolve(1),t=(e.constructor={})[n(16)("species")]=function(e){e(E,E)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof t}catch(e){}}(),C=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},O=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){for(var r=e._v,i=1==e._s,o=0,a=function(t){var n,o,a=i?t.ok:t.fail,s=t.resolve,u=t.reject,c=t.domain;try{a?(i||(2==e._h&&N(e),e._h=1),!0===a?n=r:(c&&c.enter(),n=a(r),c&&c.exit()),n===t.promise?u(x("Promise-chain cycle")):(o=C(n))?o.call(n,s,u):s(n)):u(r)}catch(e){u(e)}};n.length>o;)a(n[o++]);e._c=[],e._n=!1,t&&!e._h&&P(e)})}},P=function(e){g.call(u,function(){var t,n,r,i=e._v,o=F(e);if(o&&(t=_(function(){A?M.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=A||F(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},F=function(e){if(1==e._h)return!1;for(var t,n=e._a||e._c,r=0;n.length>r;)if((t=n[r++]).fail||!F(t.promise))return!1;return!0},N=function(e){g.call(u,function(){var t;A?M.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},W=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),O(t,!0))},D=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw x("Promise can't be resolved itself");(t=C(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,c(D,r,1),c(W,r,1))}catch(e){W.call(r,e)}}):(n._v=e,n._s=1,O(n,!1))}catch(e){W.call({_w:n,_d:!1},e)}}};T||(k=function(e){h(this,k,S,"_h"),p(e),r.call(this);try{e(c(D,this,1),c(W,this,1))}catch(e){W.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(150)(k.prototype,{then:function(e,t){var n=I(m(this,k));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=A?M.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&O(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=c(D,e,1),this.reject=c(W,e,1)},w.f=I=function(e){return e===k||e===a?new o(e):i(e)}),f(f.G+f.W+f.F*!T,{Promise:k}),n(78)(k,S),n(204)(S),a=n(11)[S],f(f.S+f.F*!T,S,{reject:function(e){var t=I(this);return(0,t.reject)(e),t.promise}}),f(f.S+f.F*(s||!T),S,{resolve:function(e){return b(s&&this===a?k:this,e)}}),f(f.S+f.F*!(T&&n(442)(function(e){k.all(e).catch(E)})),S,{all:function(e){var t=this,n=I(t),r=n.resolve,i=n.reject,o=_(function(){var n=[],o=0,a=1;v(e,!1,function(e){var s=o++,u=!1;n.push(void 0),a++,t.resolve(e).then(function(e){u||(u=!0,n[s]=e,--a||r(n))},i)}),--a||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=I(t),r=n.reject,i=_(function(){v(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},function(e,t,n){var r=n(42);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},function(e,t,n){var r=n(77),i=n(16)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){var r=n(15),i=n(148).set,o=r.MutationObserver||r.WebKitMutationObserver,a=r.process,s=r.Promise,u="process"==n(75)(a);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=a.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){a.nextTick(c)};else if(o){var l=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}else if(s&&s.resolve){var d=s.resolve();n=function(){d.then(c)}}else n=function(){i.call(r,c)};return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},function(e,t,n){var r=n(16)("iterator"),i=!1;try{var o=[7][r]();o.return=function(){i=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(e){}return n}},function(e,t,n){"use strict";var r=n(14),i=n(11),o=n(15),a=n(201),s=n(203);r(r.P+r.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){"use strict";var r=n(14),i=n(149),o=n(202);r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},function(e,t,n){n(79),n(76),e.exports=n(446)},function(e,t,n){var r=n(42),i=n(200);e.exports=n(11).getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},function(e,t){e.exports=require("util")},function(e,t,n){n(449),e.exports=n(11).Object.keys},function(e,t,n){var r=n(101),i=n(74);n(450)("keys",function(){return function(e){return i(r(e))}})},function(e,t,n){var r=n(14),i=n(11),o=n(60);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o(function(){n(1)}),"Object",a)}},function(e,t,n){var r=n(11),i=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},function(e,t,n){n(453),e.exports=n(11).Number.isInteger},function(e,t,n){var r=n(14);r(r.S,"Number",{isInteger:n(454)})},function(e,t,n){var r=n(36),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){n(102),n(76),n(79),n(456),n(460),n(462),n(463),e.exports=n(11).Map},function(e,t,n){"use strict";var r=n(207),i=n(153);e.exports=n(208)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(59),i=n(136),o=n(101),a=n(138),s=n(458);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,l=4==e,f=6==e,d=5==e||f,p=t||s;return function(t,s,h){for(var v,m,g=o(t),y=i(g),w=r(s,h,3),_=a(y.length),b=0,S=n?p(t,_):u?p(t,0):void 0;_>b;b++)if((d||b in y)&&(m=w(v=y[b],b,g),e))if(n)S[b]=m;else if(m)switch(e){case 3:return!0;case 5:return v;case 6:return b;case 2:S.push(v)}else if(l)return!1;return f?-1:c||l?l:S}}},function(e,t,n){var r=n(459);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(36),i=n(209),o=n(16)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[o])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(14);r(r.P+r.R,"Map",{toJSON:n(210)("Map")})},function(e,t,n){var r=n(80);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(211)("Map")},function(e,t,n){n(212)("Map")},function(e,t){e.exports=require("debug")},function(e,t){e.exports=require("crypto-js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandService=void 0;var r=n(214);t.CommandService=r.CommandService},function(e,t,n){e.exports={default:n(468),__esModule:!0}},function(e,t,n){n(76),n(79),e.exports=n(157).f("iterator")},function(e,t,n){e.exports={default:n(470),__esModule:!0}},function(e,t,n){n(471),n(102),n(475),n(476),e.exports=n(11).Symbol},function(e,t,n){"use strict";var r=n(15),i=n(61),o=n(37),a=n(14),s=n(197),u=n(152).KEY,c=n(60),l=n(141),f=n(78),d=n(99),p=n(16),h=n(157),v=n(158),m=n(472),g=n(209),y=n(42),w=n(66),_=n(135),b=n(98),S=n(145),x=n(473),M=n(474),k=n(35),A=n(74),E=M.f,I=k.f,T=x.f,C=r.Symbol,O=r.JSON,P=O&&O.stringify,F="prototype",N=p("_hidden"),W=p("toPrimitive"),D={}.propertyIsEnumerable,L=l("symbol-registry"),U=l("symbols"),R=l("op-symbols"),B=Object[F],j="function"==typeof C,z=r.QObject,V=!z||!z[F]||!z[F].findChild,H=o&&c(function(){return 7!=S(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=E(B,t);r&&delete B[t],I(e,t,n),r&&e!==B&&I(B,t,r)}:I,q=function(e){var t=U[e]=S(C[F]);return t._k=e,t},G=j&&"symbol"==typeof C.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof C},K=function(e,t,n){return e===B&&K(R,t,n),y(e),t=_(t,!0),y(n),i(U,t)?(n.enumerable?(i(e,N)&&e[N][t]&&(e[N][t]=!1),n=S(n,{enumerable:b(0,!1)})):(i(e,N)||I(e,N,b(1,{})),e[N][t]=!0),H(e,t,n)):I(e,t,n)},J=function(e,t){y(e);for(var n,r=m(t=w(t)),i=0,o=r.length;o>i;)K(e,n=r[i++],t[n]);return e},Q=function(e){var t=D.call(this,e=_(e,!0));return!(this===B&&i(U,e)&&!i(R,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,N)&&this[N][e])||t)},X=function(e,t){if(e=w(e),t=_(t,!0),e!==B||!i(U,t)||i(R,t)){var n=E(e,t);return!n||!i(U,t)||i(e,N)&&e[N][t]||(n.enumerable=!0),n}},Y=function(e){for(var t,n=T(w(e)),r=[],o=0;n.length>o;)i(U,t=n[o++])||t==N||t==u||r.push(t);return r},Z=function(e){for(var t,n=e===B,r=T(n?R:w(e)),o=[],a=0;r.length>a;)!i(U,t=r[a++])||n&&!i(B,t)||o.push(U[t]);return o};j||(s((C=function(){if(this instanceof C)throw TypeError("Symbol is not a constructor!");var e=d(arguments.length>0?arguments[0]:void 0),t=function(n){this===B&&t.call(R,n),i(this,N)&&i(this[N],e)&&(this[N][e]=!1),H(this,e,b(1,n))};return o&&V&&H(B,e,{configurable:!0,set:t}),q(e)})[F],"toString",function(){return this._k}),M.f=X,k.f=K,n(215).f=x.f=Y,n(100).f=Q,n(143).f=Z,o&&!n(103)&&s(B,"propertyIsEnumerable",Q,!0),h.f=function(e){return q(p(e))}),a(a.G+a.W+a.F*!j,{Symbol:C});for(var $="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;$.length>ee;)p($[ee++]);for(var te=A(p.store),ne=0;te.length>ne;)v(te[ne++]);a(a.S+a.F*!j,"Symbol",{for:function(e){return i(L,e+="")?L[e]:L[e]=C(e)},keyFor:function(e){if(!G(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!j,"Object",{create:function(e,t){return void 0===t?S(e):J(S(e),t)},defineProperty:K,defineProperties:J,getOwnPropertyDescriptor:X,getOwnPropertyNames:Y,getOwnPropertySymbols:Z}),O&&a(a.S+a.F*(!j||c(function(){var e=C();return"[null]"!=P([e])||"{}"!=P({a:e})||"{}"!=P(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!G(e)){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);return"function"==typeof(t=r[1])&&(n=t),!n&&g(t)||(t=function(e,t){if(n&&(t=n.call(this,e,t)),!G(t))return t}),r[1]=t,P.apply(O,r)}}}),C[F][W]||n(47)(C[F],W,C[F].valueOf),f(C,"Symbol"),f(Math,"Math",!0),f(r.JSON,"JSON",!0)},function(e,t,n){var r=n(74),i=n(143),o=n(100);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var a,s=n(e),u=o.f,c=0;s.length>c;)u.call(e,a=s[c++])&&t.push(a);return t}},function(e,t,n){var r=n(66),i=n(215).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?function(e){try{return i(e)}catch(e){return a.slice()}}(e):i(r(e))}},function(e,t,n){var r=n(100),i=n(98),o=n(66),a=n(135),s=n(61),u=n(195),c=Object.getOwnPropertyDescriptor;t.f=n(37)?c:function(e,t){if(e=o(e),t=a(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}},function(e,t,n){n(158)("asyncIterator")},function(e,t,n){n(158)("observable")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=p(n(41)),i=p(n(44)),o=p(n(81)),a=p(n(156)),s=p(n(38)),u=p(n(12)),c=p(n(82)),l=p(n(17)),f=p(n(104)),d=p(n(9));function p(e){return e&&e.__esModule?e:{default:e}}var h="translation.json",v=f.default.logger("localize");t.default=class extends c.default{constructor(e){super(),this._defaultLocaleDir=e,this._translation=null;var t=d.default.remote?d.default.remote.app.__rootname:d.default.app.__rootname;this.__newTransFilePath=u.default.join(t,"locales","new_translations.json"),this.__new_translation=null,this.__haveMore=!1}localize(e){var t=void 0;if(!this._translation)return e;(t=e in this._translation?this._translation[e]:e)||(t=e);for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(r.length>0){var o=r.shift();if("object"===(void 0===t?"undefined":(0,a.default)(t))?t=o in t?t[o]:e:r.unshift(o),r.length>0)for(var s=0,u=r.length;s<u;s++){var c=new RegExp("\\$"+(s+1),"g");t=t.replace(c,r[s])}}return t}_dev_save_translation(e){(e||"string"==typeof e)&&(this.__new_translation||(this.__new_translation={},setInterval(this._dev_sync_translation.bind(this),1e3)),this.__new_translation[e]||(this.__haveMore=!0,this.__new_translation[e]=!0))}_dev_sync_translation(){var e=this;this.__haveMore&&(l.default.existsSync(this.__newTransFilePath)?l.default.readFile(this.__newTransFilePath,function(t,n){if(!t)try{var r=JSON.parse(n.toString());e._dev_mergeAndSync(r,e.__new_translation)}catch(e){return}}):this._dev_mergeAndSync({},this.__new_translation))}_dev_mergeAndSync(e,t){this.__haveMore=!1;var n={};(0,o.default)(e).concat((0,o.default)(t)).sort().forEach(function(e){n[e]=!0}),this.__new_translation=n,l.default.writeFile(this.__newTransFilePath,(0,i.default)(n,null,2)),console.log("Write file")}updateLocale(e){var t=this,n=e.locales,i=void 0===n?[]:n,o=e.searchPath,a=void 0===o?this._defaultLocaleDir:o;return this._translation={},new s.default(function(e,n){var o=[];i.forEach(function(e){if(e){var t=function(e){if(!e)return null;var t=e.indexOf("-");return t<0?e:e.substr(0,t)}(e);t&&o.push(t),e!==t&&o.push(e)}}),v.debug("Locales to load: %s",o),s.default.all(o.map(function(e,t){return new s.default(function(n){if(!t)return n({});var r=u.default.join(u.default.join(e,t),h);l.default.readFileAsync(r).then(JSON.parse).then(n).catch(function(){return n({})})})}.bind(t,a))).then(function(e){e.forEach(function(e){(0,r.default)(t._translation,e)})}).then(function(){var e=t._locale;t._locale=i.pop(),t.emit("change:locale",{oldvalue:e,newvalue:t._locale})}).then(e).catch(n)})}}},function(e,t,n){e.exports={default:n(479),__esModule:!0}},function(e,t,n){n(480),e.exports=n(11).setImmediate},function(e,t,n){var r=n(14),i=n(148);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(44)),i=s(n(41)),o=n(9),a=s(n(83));function s(e){return e&&e.__esModule?e:{default:e}}var u="win32"===process.platform,c="darwin"===process.platform;function l(e){c?(e.hide(),e.removeAllListeners()):(e.getParentWindow().focus(),e.close())}t.default=class{constructor(e){e&&(e.modal=this,this.parent=e),this.modals={},this.sizeEnum={small:540,middle:640,large:740}}register(e,t){var n={width:540,height:237,static:!1};this.modals[e]=(0,i.default)(n,t)}registerMap(e){for(var t in e){var n=e[t];this.register(t,n)}return this}createGlobalModal(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.modals[e],r=new o.BrowserWindow({title:t,show:!1,width:n.width,height:n.height+(u&&!n.hiddenTitlebar?24:0),useContentSize:!0,backgroundColor:"#FAFAFB",frame:!(!1===n.frame),resizable:!1,alwaysOnTop:n.alwaysOnTop||!1});return this.modals[e].modal=r,r.on("closed",function(){!function(){if(!o.app.lifecycle.isBeforeQuit()){var e=o.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||o.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});(!e||e.length<1)&&"darwin"!=process.platform&&o.app.quit()}}()}),r}createModal(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.modals[e];return this.modals[e].modal=new o.BrowserWindow({title:t,parent:n.global?null:this.parent,modal:!n.global,show:!1,width:n.width,height:n.height+(u&&!n.hiddenTitlebar?24:0),useContentSize:!0,backgroundColor:"#FAFAFB",frame:!u||!1===n.frame,resizable:!1}),c&&this.modals[e].modal.loadURL(this.modals[e].path),this.modals[e].modal}showModal(e,t,n,i){"function"==typeof t&&(i=n,n=t,t=null),i||(i=n,n=null);var o=this.modals[e];if(o)if(o.global)this.showGlobalModal(e,t,n,i);else{var s=void 0;c?(s=o.modal)||(s=this.createModal(e,t&&t.title?t.title:"")):s=this.createModal(e),s.setMenu(null),s.__initdata=(0,r.default)(t);var u={update:function(e){a.default.emitC(s.id,"update:model",(0,r.default)(e))},done:function(){l(s)}};s.webContents.once("dom-ready",function(){a.default.on(s.id,"modal:submit",function(e){i?i(u,JSON.parse(e)):l(s)}),n&&n(u,{type:"start"})}),c?s.reload():s.loadURL(o.path)}else i&&i(new Error("the "+e+" has not register!"))}showGlobalModal(e,t,n,i){var o=this.modals[e];if(o.modal&&!o.modal.isDestroyed())return o.modal.show();var s=void 0;(s=this.createGlobalModal(e,t&&t.title?t.title:"")).setMenu(null),s.__initdata=(0,r.default)(t);var u={update:function(e){a.default.emitC(s.id,"update:model",(0,r.default)(e))},done:function(){s.close(),o.modal=null}};s.webContents.once("dom-ready",function(){a.default.on(s.id,"modal:submit",function(e){i?i(u,JSON.parse(e)):(s.close(),o.modal=null)}),n&&n(u,{type:"start"})}),s.loadURL(o.path)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(12),o=(r=i)&&r.__esModule?r:{default:r},a=n(9);t.default={app:{signin:{height:400,width:640,global:!0,static:!0,hiddenTitlebar:!0,frame:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-signin.html")},activatealert:{height:400,width:640,global:!0,hiddenTitlebar:!0,frame:!1,alwaysOnTop:!0,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-activateAlert.html")},activate:{height:600,width:814,global:!0,hiddenTitlebar:!0,frame:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-activate.html")},congratulate:{height:400,width:640,global:!0,hiddenTitlebar:!0,frame:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-congratulate.html")}},MindMapEditor:{share:{height:417,width:640,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-share.html")},saveEvernote:{height:256,width:540,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-evernote.html")},print:{height:477,width:740,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-print.html")},setpassword:{width:540,height:237,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-setpassword.html")},error:{width:540,height:237,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-err.html")},enterpassword:{width:540,height:237,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-enterpassword.html")},copylink:{width:540,height:210,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-copylinkToShare.html")},saveoldversion:{width:540,height:210,static:!1,path:"file://"+o.default.resolve(a.app.__rootname,"out/modal-saveoldversion.html")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VanaMenu=void 0;var r=l(n(22)),i=l(n(44)),o=l(n(484)),a=n(9),s=l(n(485)),u=n(67),c=n(486);function l(e){return e&&e.__esModule?e:{default:e}}function f(){return new a.MenuItem({type:"separator"})}function d(){var e=a.app.tvud.getModule("autoUpdater").get("state");return"checking-for-update"==e||"update-available"==e?{label:"Checking",forceDisable:!0}:"update-downloaded"==e?{label:"Restart To Update",click:function(){a.app.autoUpdater.quitAndInstall(!1,!0)}}:{}}t.VanaMenu=class{constructor(){this._active=!1,this._menuUpdater=new u.RunOnceScheduler(this._doUpdateMenu.bind(this),10),this._updateMenuListener=this.updateMenu.bind(this)}activate(){this._active=!0,this._commandService=a.app.commandService,this._commandService&&this._commandService.on("update",this._updateMenuListener),a.app.keyBindings.on("update",this._updateMenuListener),a.app.localizer&&a.app.localizer.on("change:locale",this._updateMenuListener),this._install()}deactivate(){this._active=!1,this._commandService&&(this._commandService.removeListener("update",this._updateMenuListener),this._commandService=null),a.app.keyBindings.removeListener("update",this._updateMenuListener),a.app.localizer&&a.app.localizer.removeListener("change:locale",this._updateMenuListener)}updateMenu(){this._menuUpdater.schedule()}_doUpdateMenu(){this._active&&this._install()}_install(){var e=new a.Menu;if(this._fillMainMenu(e),a.Menu.setApplicationMenu(e),"darwin"===process.platform&&!this._appMenuInstalled){var t=new a.Menu;this._fillDockMenu(t),a.app.dock.setMenu(t),this._appMenuInstalled=!0}}_fillDockMenu(e){e.append(this._commandItem("new",{mnemonic:"N"}))}_fillMainMenu(e){if("darwin"===process.platform){var t=new a.Menu;this._fillMacApplicationMenu(t),e.append(new a.MenuItem({submenu:t}))}var n=new a.Menu;this._fillFileMenu(n),e.append(new a.MenuItem({submenu:n,label:this._label("File",{mnemonic:"F"})}));var r=new a.Menu;this._fillEditMenu(r),e.append(new a.MenuItem({submenu:r,label:this._label("Edit",{mnemonic:"E"})}));var i=new a.Menu;this._fillInsertMenu(i),e.append(new a.MenuItem({submenu:i,label:this._label("Insert",{mnemonic:"I"})}));var o=new a.Menu;if(this._fillViewMenu(o),e.append(new a.MenuItem({submenu:o,label:this._label("View",{mnemonic:"V"})})),"darwin"===process.platform){var s=new a.Menu;this._fillMacWindowMenu(s),e.append(new a.MenuItem({submenu:s,role:"window",label:this._label("Window",{mnemonic:"W"})}))}var u=new a.Menu;this._fillHelpMenu(u),e.append(new a.MenuItem({submenu:u,role:"help",label:this._label("Help",{mnemonic:"H"})}))}_fillMacApplicationMenu(e){e.append(this._commandItem("about",{label:"About {}",args:[a.app.getName()]})),e.append(this._commandItem("checkForUpdates",d())),e.append(f()),e.append(this._commandItem("preferences")),e.append(f()),e.append(new a.MenuItem({role:"hide",label:this._label("Hide {}",{args:[a.app.getName()]})})),e.append(new a.MenuItem({role:"hideothers",label:this._label("Hide Others")})),e.append(new a.MenuItem({role:"unhide",label:this._label("Show All")})),e.append(f()),e.append(new a.MenuItem({role:"quit",label:this._label("Quit {}",{args:[a.app.getName()]})}))}popMenu(e,t){var n=new a.Menu;switch(e){case"file":this._fillFileMenu(n);break;case"edit":this._fillEditMenu(n);break;case"help":this._fillHelpMenu(n);break;case"insert":this._fillInsertMenu(n);break;case"view":this._fillViewMenu(n)}n.popup(a.BrowserWindow.getFocusedWindow(),t.x,t.y)}_fillFileMenu(e){e.append(this._commandItem("new",{mnemonic:"M"})),e.append(this._commandItem("open",{mnemonic:"O"}));var t=new a.Menu;this._fillRecentMenu(t),e.append(new a.MenuItem({submenu:t,label:this._label("Open Recent",{})})),e.append(f()),e.append(this._commandItem("save",{mnemonic:"S"})),e.append(this._commandItem("saveAs",{mnemonic:"E"})),e.append(f()),e.append(this._commandItem("workbench.setpassword")),e.append(f());var n=new a.Menu;this._fillImportmenu(n),e.append(new a.MenuItem({submenu:n,label:this._label("Import From",{})}));var r=new a.Menu;this._fillExportMenu(r),e.append(new a.MenuItem({submenu:r,label:this._label("Export To",{})})),e.append(f()),e.append(this._commandItem("print",{mnemonic:"P"})),e.append(f()),"darwin"!==process.platform?e.append(this._commandItem("closeWindow"),{label:this._label("Close Window")}):e.append(new a.MenuItem({role:"close",label:this._label("Close Window")})),"darwin"!==process.platform&&(e.append(f()),e.append(new a.MenuItem({role:"quit",label:this._label("Exit",{mnemonic:"X"})})))}_fillRecentMenu(e){var t=this,n=this;function s(){var e=a.app.vud.getModule("home").get("recentOpened");return e?"string"==typeof e?JSON.parse(e):e:[]}function u(e){a.app.vud.getModule("home").set("recentOpened",(0,i.default)(e))}var l=s(),d=function(r){var i=(0,c.getFileNameFromUri)(r.uri);if(!i)return"continue";e.append(t._commandItem("openrecentfileitem",{click:function(){var e=r.uri;if(a.app.tvud.getModule("recent").set("toOpenTargets",[e]),e.startsWith("file://")){if("win32"==process.platform?o.default.existsSync(e.substr(8)):o.default.existsSync(e.substr(7)))return a.BrowserWindow.openMindMapEditor({source:e});u(s().filter(function(t){return t.uri!==e})),a.dialog.showMessageBox({type:"error",title:"XMind",message:a.app.localizer.localize("Open Recent"),detail:a.app.localizer.localize("This file does not exist. It may have been deleted or moved to another location."),buttons:[a.app.localizer.localize("OK")],cancelId:0}),n._commandService.emit("update")}},label:i,literal:!0}))},p=l.slice(0,10),h=Array.isArray(p),v=0;for(p=h?p:(0,r.default)(p);;){var m;if(h){if(v>=p.length)break;m=p[v++]}else{if((v=p.next()).done)break;m=v.value}var g=m;d(g)}l&&l.length&&e.append(f()),e.append(this._commandItem("cleanRecent"))}_fillExportMenu(e){e.append(this._commandItem("workbench.exportPng1")),e.append(this._commandItem("workbench.exportPdfMap")),e.append(this._commandItem("workbench.exportMd"))}_fillImportmenu(e){e.append(this._commandItem("workbench.importMindmanager")),e.append(this._commandItem("workbench.importFreemind")),e.append(this._commandItem("workbench.importLighten"))}_fillEditMenu(e){if(e.append(this._commandItem("undo",{documentRole:"undo",mnemonic:"U"})),e.append(this._commandItem("redo",{documentRole:"redo",mnemonic:"R"})),e.append(f()),e.append(this._commandItem("cut",{documentRole:"cut",mnemonic:"T"})),e.append(this._commandItem("copy",{documentRole:"copy",mnemonic:"C"})),e.append(this._commandItem("paste",{documentRole:"paste",mnemonic:"E"})),e.append(this._commandItem("duplicate",{mnemonic:"L"})),e.append(this._commandItem("delete",{documentRole:"delete",mnemonic:"D"})),e.append(f()),e.append(this._commandItem("editor.copyStyle")),e.append(this._commandItem("editor.pasteStyle")),e.append(this._commandItem("editor.resetStyle")),e.append(f()),e.append(this._commandItem("editor.focusAndSelectCenter")),e.append(this._commandItem("editor.selectAll",{documentRole:"selectall",label:"Select All"})),e.append(f()),e.append(this._commandItem("editor.toggleBranch")),this._commandService&&this._commandService.findCommand("editor.align")){e.append(f());var t=new a.Menu;this._fillAlignMenu(t),e.append(new a.MenuItem({submenu:t,label:this._label("Align Floating Topic",{})}))}e.append(f()),e.append(this._commandItem("workbench.toggleFindAndReplace")),e.append(this._commandItem("workbench.toggleOutline")),"darwin"!==process.platform&&(e.append(f()),e.append(this._commandItem("preferences",{mnemonic:"P"})))}_fillAlignMenu(e){var t=this,n="editor.align";["Left","Center","Right"].forEach(function(r){e.append(t._commandItem(n,{arg:r.toLowerCase(),label:r}))}),e.append(f()),["Top","Middle","Bottom"].forEach(function(r){e.append(t._commandItem(n,{arg:r.toLowerCase(),label:r}))})}_fillInsertMenu(e){e.append(this._commandItem("editor.addSubTopic")),e.append(this._commandItem("editor.addTopic")),e.append(this._commandItem("editor.addTopicBefore")),e.append(this._commandItem("editor.addParentTopic")),e.append(this._commandItem("editor.preAddFloatingTopic")),e.append(this._commandItem("editor.addCallout")),e.append(f()),e.append(this._commandItem("editor.addRelationship",{})),e.append(this._commandItem("editor.addBoundary",{})),e.append(this._commandItem("editor.addSummary",{})),e.append(f()),e.append(this._commandItem("editor.showNotesEditor",{})),e.append(this._commandItem("editor.showLabelEditor",{})),e.append(this._commandItem("editor.showHyperlinkEditor",{})),e.append(this._commandItem("editor.addAttachment",{})),e.append(f()),e.append(this._commandItem("workbench.toggleMarkerPanel",{})),e.append(this._commandItem("editor.addLocalImage",{})),e.append(this._commandItem("workbench.showSticker")),e.append(f()),e.append(this._commandItem("editor.addSheet",{}))}_fillViewMenu(e){e.append(this._commandItem("editor.zoomIn",{})),e.append(this._commandItem("editor.zoomOut",{})),e.append(this._commandItem("editor.resetZoom",{})),e.append(this._commandItem("editor.fitMap",{})),e.append(f()),e.append(this._commandItem("workbench.toggleZenMode",{})),e.append(f()),e.append(this._commandItem("workbench.toggleFormatPanel")),e.append(this._commandItem("workbench.toggleImagePanel")),e.append(f()),e.append(this._commandItem("workbench.toggleNavigationPanel")),e.append(f());var t=new a.Menu;this._fillToolbarMenu(t),e.append(new a.MenuItem({submenu:t,label:this._label("Toolbar",{})})),e.append(f()),e.append(this._commandItem("editor.toggleSheetBar"))}_fillWorkspaceMenu(e){e.append(this._commandItem("workbench.toggleFormatPanel",{})),e.append(this._commandItem("workbench.toggleImagePanel",{})),e.append(this._commandItem("workbench.toggleMarkerPanel",{})),e.append(f()),e.append(this._commandItem("workbench.toggleRightPanel",{}))}_fillNavigationMenu(e){e.append(this._commandItem("workbench.toggleOutline",{})),e.append(this._commandItem("workbench.toggleFindAndReplace",{})),e.append(f()),e.append(this._commandItem("workbench.toggleNavigationPanel",{}))}_fillToolbarMenu(e){e.append(this._commandItem("workbench.iconOnly",{})),e.append(this._commandItem("workbench.iconAndText",{}))}_fillMacWindowMenu(e){e.append(new a.MenuItem({role:"minimize",label:this._label("Minimize")})),e.append(new a.MenuItem({role:"zoom",label:this._label("Zoom")})),e.append(f()),e.append(new a.MenuItem({role:"front",label:this._label("Bring All to Front")}))}_fillHelpMenu(e){"sub"!==a.app.activateService.getCurrentLicenseStatus()&&(e.append(this._commandItem("activate")),e.append(f()));var t=a.app.vud.getModule("account"),n=t.get("user");n&&n.startsWith("_xmind_")&&(n=t.get("primary_email")),n&&e.append(this._commandItem("workbench.profile",{label:n,literal:!0})),e.append(this._commandItem("sign",{label:n?"Sign Out":"Sign In"})),e.append(f()),e.append(this._commandItem("editor.support",{})),e.append(this._commandItem("workbench.feedback",{})),"win32"==process.platform&&(e.append(f()),e.append(this._commandItem("checkForUpdates",d()))),e.append(f()),e.append(this._commandItem("editor.toggleKeyAssist")),e.append(f()),e.append(this._commandItem("editor.toggleBeginnerMode")),e.append(this._commandItem("editor.toggleBeginnerModeTips")),"darwin"!==process.platform&&(e.append(f()),e.append(this._commandItem("about",{mnemonic:"A"})))}_label(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.args,r=void 0===n?[]:n,i=t.interactive,o=void 0!==i&&i;return e=a.app.localizer.localize(e).toString(),r.length>0&&(e=s.default.apply(void 0,[e].concat(r))),o&&(e+="..."),e}_commandItem(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;if(this._commandService){var r=n._commandService.findCommand(e);!r.handler&&t.documentRole?(a.app.keyBindings.documentAcceleratorCommands.add(e),t.role=t.documentRole):(t.click=t.click||function(){n._commandService&&n._commandService.handleCommand(e,t.arg)},t.enabled=!t.forceDisable&&this._commandService.canHandle(e)&&"enabled"===this._commandService.getCommandState(e)&&a.app.lifecycle.state>=3),t.label=t.label||this._commandService.getLabelForCommand(e),t.accelerator=t.accelerator||a.app.keyBindings.getKeyBinding(e),t.interactive=t.interactive||this._commandService.isCommandInteractive(e)}return t.label=t.literal?t.label:this._label(t.label,t),new a.MenuItem(t)}}},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("string-format")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFileNameFromUri=function(e){if(e.startsWith("file://")){var t=o.default.parse(e).pathname;return t?(t=decodeURIComponent(t),"win32"===process.platform&&t.startsWith("/")&&(t=t.substring(1)),a.basename(t)):""}return""};var r,i=n(43),o=(r=i)&&r.__esModule?r:{default:r};var a=n(12)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyBindings=void 0;var r=u(n(22)),i=u(n(206)),o=u(n(488)),a=u(n(82)),s=u(n(494));function u(e){return e&&e.__esModule?e:{default:e}}var c={Meta:32768,Ctrl:16384,Shift:8192,Alt:4096,Char:4095},l={48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",188:",",190:".",186:";",219:"[",221:"]",192:"`",189:"-",187:"=",220:"\\",222:"'",191:"/",18:"Alt",20:"CapsLock",17:"Control",16:"Shift",13:"Enter",32:"Spacebar",9:"Tab",8:"Backspace",46:"Delete",35:"End",36:"Home",45:"Insert",34:"PageDown",33:"PageUp",40:"Down",37:"Left",39:"Right",38:"Up",27:"Escape",44:"PrintScreen",145:"ScrollLock",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",124:"F13",125:"F14",126:"F15",127:"F16",128:"F17",129:"F18",130:"F19",131:"F20",132:"F21",133:"F22",134:"F23",135:"F24",144:"NumLock",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9",107:"NumpadAdd",194:"NumpadComma",110:"NumpadDecimal",111:"NumpadDivide",12:"NumpadEqual",106:"NumpadMultiply",109:"NumpadSubtract"};t.KeyBindings=class extends a.default{constructor(e){super(),this.logger=e,this.commandMenuAcceleratorCommands=new o.default,this.documentAcceleratorCommands=new o.default,this.userKeyBindingCommands=new o.default,this.binaryKeyBindingsMap=new i.default}activate(){var e=s.default,t=Array.isArray(e),n=0;for(e=t?e:(0,r.default)(e);;){var i;if(t){if(n>=e.length)break;i=e[n++]}else{if((n=e.next()).done)break;i=n.value}var o=i,a=o.command;process.platform in o?o[process.platform].accelerator&&this._internalBinding(o[process.platform].accelerator,a):o.accelerator&&this._internalBinding(o.accelerator,a)}var u=[],c=u,l=Array.isArray(c),f=0;for(c=l?c:(0,r.default)(c);;){var d;if(l){if(f>=c.length)break;d=c[f++]}else{if((f=c.next()).done)break;d=f.value}var p=d;this.userKeyBindingCommands.add(p.command),this._internalBinding(p.accelerator,p.command)}this.emit("update")}_internalBinding(e,t){if(e){var n=this._toBinaryKeyBinding(e),r=this.binaryKeyBindingsMap.get(n);r&&r!=t&&this.logger?this.logger.error("KeyBinding conflicted ("+r+" VS "+t+")."):this.binaryKeyBindingsMap.set(n,t)}else this._internalUnbinding(e,t)}_internalUnbinding(e,t){if(e){var n=this._toBinaryKeyBinding(e);this.binaryKeyBindingsMap.delete(n)}else{var i=this.binaryKeyBindingsMap.keys(),o=Array.isArray(i),a=0;for(i=o?i:(0,r.default)(i);;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}var u=s;this.binaryKeyBindingsMap.get(u)==t&&this.binaryKeyBindingsMap.delete(u)}}}binding(e,t){this.userKeyBindingCommands.add(t),this._internalBinding(e,t),this.emit("update")}unbinding(e,t){this.userKeyBindingCommands.add(t),this._internalUnbinding(e,t),this.emit("update")}getCommand(e){var t=this._toBinaryKeyBinding(e);return this.binaryKeyBindingsMap.get(t)}getKeyBinding(e){var t=this.binaryKeyBindingsMap.keys(),n=Array.isArray(t),i=0;for(t=n?t:(0,r.default)(t);;){var o;if(n){if(i>=t.length)break;o=t[i++]}else{if((i=t.next()).done)break;o=i.value}var a=o;if(this.binaryKeyBindingsMap.get(a)==e)return this._toKeyBinding(a)}}generateKeyBinding(e,t){var n="darwin"==process.platform&&t.hasMeta?"Command+":"";return n+=t.hasCtrl?"Ctrl+":"",n+=t.hasShift?"Shift+":"",n+=t.hasAlt?"Alt+":"",n+=l[e]}_toKeyBinding(e){var t="darwin"==process.platform&&e&c.Meta?"Command+":"";return t+=e&c.Ctrl?"Ctrl+":"",t+=e&c.Shift?"Shift+":"",t+=e&c.Alt?"Alt+":"",t+=l[e&c.Char]}_toBinaryKeyBinding(e){var t=e.split("+"),n=0,i=t,o=Array.isArray(i),a=0;for(i=o?i:(0,r.default)(i);;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}var u=s;switch(u){case"Command":case"Cmd":n|=c.Meta;break;case"Control":case"Ctrl":n|=c.Ctrl;break;case"CommandOrCtrl":case"CmdOrCtrl":"darwin"==process.platform?n|=c.Meta:n|=c.Ctrl;break;case"Shift":n|=c.Shift;break;case"Alt":case"Option":n|=c.Alt;break;case"AltGr":case"Super":break;default:for(var f in l)if(u==l[f]){n|=f;break}}}return n}}},function(e,t,n){e.exports={default:n(489),__esModule:!0}},function(e,t,n){n(102),n(76),n(79),n(490),n(491),n(492),n(493),e.exports=n(11).Set},function(e,t,n){"use strict";var r=n(207),i=n(153);e.exports=n(208)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){var r=n(14);r(r.P+r.R,"Set",{toJSON:n(210)("Set")})},function(e,t,n){n(211)("Set")},function(e,t,n){n(212)("Set")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{command:"new",accelerator:"CmdOrCtrl+N"},{command:"open",accelerator:"CmdOrCtrl+O"},{command:"save",accelerator:"CmdOrCtrl+S"},{command:"saveAs",accelerator:"CmdOrCtrl+Shift+S"},{command:"undo",accelerator:"CmdOrCtrl+Z"},{command:"redo",accelerator:"CmdOrCtrl+Y",darwin:{accelerator:"Cmd+Shift+Z"}},{command:"cut",accelerator:"CmdOrCtrl+X"},{command:"copy",accelerator:"CmdOrCtrl+C"},{command:"paste",accelerator:"CmdOrCtrl+V"},{command:"duplicate",accelerator:"CmdOrCtrl+D"},{command:"delete",accelerator:"Delete"},{command:"delete",accelerator:"Backspace"},{command:"print",accelerator:"CmdOrCtrl+P"},{command:"preferences",accelerator:"CmdOrCtrl+Shift+P",darwin:{accelerator:"Cmd+,"}},{command:"workbench.toggleZenMode",accelerator:"CmdOrCtrl+Alt+F"},{command:"workbench.exitFullScreen",accelerator:"Escape"},{command:"toggleFullScreen",accelerator:"Ctrl+Cmd+F"},{command:"closeWindow",accelerator:"CmdOrCtrl+W"},{command:"workbench.openNew",accelerator:"CmdOrCtrl+Shift+H"},{command:"workbench.toggleFormatPanel",accelerator:"CmdOrCtrl+I"},{command:"workbench.toggelStatusBar"},{command:"workbench.toggleFindAndReplace",accelerator:"CmdOrCtrl+F"},{command:"editor.goToCentralTopic",accelerator:"CmdOrCtrl+Home"},{command:"editor.moveUp",accelerator:"Alt+Up"},{command:"editor.moveDown",accelerator:"Alt+Down"},{command:"editor.moveLeft",accelerator:"Alt+Left"},{command:"editor.moveRight",accelerator:"Alt+Right"},{command:"editor.zoomIn",accelerator:"Shift+CmdOrCtrl+="},{command:"editor.zoomOut",accelerator:"CmdOrCtrl+-"},{command:"editor.resetZoom",accelerator:"CmdOrCtrl+0"},{command:"editor.zoomIn",accelerator:"CmdOrCtrl+="},{command:"editor.addSubTopic",accelerator:"Tab"},{command:"editor.addSubTopic",accelerator:"Insert"},{command:"editor.addTopic",accelerator:"Enter"},{command:"editor.addTopicBefore",accelerator:"Shift+Enter"},{command:"editor.addParentTopic",accelerator:"CmdOrCtrl+Enter"},{command:"editor.addBoundary",accelerator:"Shift+CmdOrCtrl+B"},{command:"editor.addRelationship",accelerator:"Shift+CmdOrCtrl+L"},{command:"editor.addSummary",accelerator:"Shift+CmdOrCtrl+]"},{command:"editor.copyStyle",accelerator:"CmdOrCtrl+Alt+C"},{command:"editor.pasteStyle",accelerator:"CmdOrCtrl+Alt+V"},{command:"editor.showNotesEditor",accelerator:"Shift+CmdOrCtrl+N"},{command:"editor.showHyperlinkEditor",accelerator:"CmdOrCtrl+K"},{command:"editor.selectionNavigateUp",accelerator:"Up"},{command:"editor.selectionNavigateDown",accelerator:"Down"},{command:"editor.selectionNavigateLeft",accelerator:"Left"},{command:"editor.selectionNavigateRight",accelerator:"Right"},{command:"editor.selectionNavigateUpWithShift",accelerator:"CmdOrCtrl+Up"},{command:"editor.selectionNavigateDownWithShift",accelerator:"CmdOrCtrl+Down"},{command:"editor.selectionNavigateLeftWithShift",accelerator:"CmdOrCtrl+Left"},{command:"editor.selectionNavigateRightWithShift",accelerator:"CmdOrCtrl+Right"},{command:"editor.selectAll",accelerator:"CmdOrCtrl+A"},{command:"editor.addMarkerOne",accelerator:"CmdOrCtrl+1"},{command:"editor.addMarkerTwo",accelerator:"CmdOrCtrl+2"},{command:"editor.addMarkerThree",accelerator:"CmdOrCtrl+3"},{command:"editor.addMarkerFour",accelerator:"CmdOrCtrl+4"},{command:"editor.addMarkerFive",accelerator:"CmdOrCtrl+5"},{command:"editor.addMarkerSix",accelerator:"CmdOrCtrl+6"},{command:"editor.addMarkerSeven",accelerator:"CmdOrCtrl+7"},{command:"editor.toggleBranch",accelerator:"CmdOrCtrl+/"},{command:"editor.showEditBox",accelerator:"Spacebar"}]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(22)),i=c(n(151)),o=c(n(41)),a=c(n(43)),s=c(n(106)),u=n(9);function c(e){return e&&e.__esModule?e:{default:e}}function l(e){u.BrowserWindow.openHome(e.length>0?{homeSelection:e[0].homeSelection}:{})}function f(e,t,n){u.dialog.showOpenDialog({properties:["openFile","createDirectory","multiSelections"],filters:[{name:e,extensions:t}]},function(e){e&&e.length&&setTimeout(function(){var t=e,i=Array.isArray(t),o=0;for(t=i?t:(0,r.default)(t);;){var c;if(i){if(o>=t.length)break;c=t[o++]}else{if((o=t.next()).done)break;c=o.value}var l=c;u.BrowserWindow.openMindMapEditor({source:a.default.format({protocol:"import",hostname:n,slashes:!0,search:s.default.stringify({source:l})})})}},0)})}n(67),n(217),t.default=(0,o.default)({},{new:{label:"New",interactive:!0,handler:{handle:function(){u.BrowserWindow.openNew()}}},open:{label:"Open",interactive:!0,handler:{handle:function(){var e="win32"===process.platform;!e&&(0,i.default)(u.BrowserWindow.vana.new)&&u.BrowserWindow.fromId(u.BrowserWindow.vana.new).hide();u.dialog.showOpenDialog({properties:["openFile","createDirectory","multiSelections"],filters:[{name:u.app.localizer.localize("XMind Workbook"),extensions:["xmind"]},{name:u.app.localizer.localize("XMind Template"),extensions:["xmt"]}]},function(t){t&&t.length&&setTimeout(function(){for(var n=t,o=Array.isArray(n),s=0,n=o?n:(0,r.default)(n);;){var c;if(o){if(s>=n.length)break;c=n[s++]}else{if((s=n.next()).done)break;c=s.value}var l=c;u.BrowserWindow.openMindMapEditor({source:a.default.format({protocol:"file",slashes:!0,pathname:l})}),e&&(0,i.default)(u.BrowserWindow.vana.new)&&u.BrowserWindow.fromId(u.BrowserWindow.vana.new).hide()}},0)}),u.app.tracker.track({eventCategory:"CommandService",eventAction:"openExist"})}}},recentPage:{label:"More...",handler:{handle:function(){l([{homeSelection:"recent"}])}}},cleanRecent:{label:"Clear Menu",handler:{handle:function(){u.app.vud.getModule("home").set("recentOpened",[]),u.app.mainMenu.updateMenu()},test:function(){var e=u.app.vud.getModule("home").get("recentOpened"),t=e?"string"==typeof e?JSON.parse(e):e:[];return t&&t.length}}},openrecentfileitem:{label:"(None)...",handler:{handle:function(){}}},save:{label:"Save"},saveAs:{label:"Save As",interactive:!0},closeWindow:{label:"Close Window",handler:{handle:function(){var e=u.BrowserWindow.getFocusedWindow();e&&e.close()}}},undo:{label:"Undo"},redo:{label:"Redo"},cut:{label:"Cut"},copy:{label:"Copy"},paste:{label:"Paste"},duplicate:{label:"Duplicate"},delete:{label:"Delete"},checkForUpdates:{label:"Check For Updates",interactive:!0,handler:{handle:function(){"update-downloaded"==u.app.tvud.getModule("autoUpdater").get("state")?u.app.autoUpdater.quitAndInstall(!1,!0):(u.app.tvud.getModule("autoUpdater").set("state","checking-for-update"),u.app.tvud.getModule("autoUpdater").set("checkForUpdatesType","user"),u.app.autoUpdater.checkForUpdates())}}},"workbench.setpassword":{label:"Set Password"},"workbench.fileProperties":{label:"File Properties",handler:{}},"workbench.exportMd":{label:"Text",interactive:!0},"workbench.exportTxt":{label:"TXT",interactive:!0},"workbench.exportWord":{label:"Word",interactive:!0},"workbench.exportPpt":{label:"PPT",interactive:!0},"workbench.exportPdf":{label:"PDF",interactive:!0},"workbench.exportPdfMap":{label:"PDF",interactive:!0},"workbench.exportPng1":{label:"PNG",interactive:!0},"workbench.exportSvg":{label:"SVG"},"workbench.importMindmanager":{label:"MindManager",interactive:!0,handler:{handle:function(){f("Mindmanager",["mmap"],"mindmanager")}}},"workbench.importNovamind":{label:"Novamind",interactive:!0,handler:{handle:function(){f("Novamind",["nm5"],"novamind")}}},"workbench.importFreemind":{label:"Freemind",interactive:!0,handler:{handle:function(){f("Freemind",["mm"],"freemind")}}},"workbench.importLighten":{label:"Lighten",interactive:!0,handler:{handle:function(){f("Lighten",["lighten"],"lighten")}}},"workbench.toggleToolbarText":{label:"Show/Hide Toolbar Text"},"workbench.toggleNavigationPanel":{label:"Show Navigation Panel"},"workbench.toggleRightPanel":{label:"Toggle Workspace"},"workbench.toggleImagePanel":{label:"Show Icon Panel"},"workbench.toggleFormatPanel":{label:"Show Format Panel"},"workbench.profile":{label:"Profile",handler:{handle:function(){var e=u.app.vud.getModule("account");e&&e.user&&u.shell.openExternal(decodeURIComponent(encodeURIComponent("http://www.xmind."+e.domain+"/xmind/account/"+e.user)))}}},sign:{label:"Sign In",handler:{}},"workbench.toggleOutline":{label:"Outline"},"workbench.toggleMarkerPanel":{label:"Marker"},"workbench.toggleFindAndReplace":{label:"Find / Replace"},"workbench.iconOnly":{label:"Icon Only"},"workbench.iconAndText":{label:"Icon And Text"},"workbench.toggelStatusBar":{label:"Show Status Bar"},"workbench.showSticker":{label:"Sticker"},about:{label:"About XMind",handler:{}},"workbench.feedback":{label:"Feedback",handler:{}},preferences:{label:"Preferences",interactive:!0,handler:{handle:function(){u.BrowserWindow.openPreferences()}}},"workbench.openHome":{label:"Home",interactive:!0,handler:{handle:l}},toggleFullScreen:{label:"Toggle Full Screen"}},{"workbench.toggleZenMode":{label:"ZEN Mode"},share:{label:"Share"},print:{label:"Print",interactive:!0},"editor.toggleSheetBar":{label:"Hide Sheet Bar"},"editor.showHome":{label:"Show Home"},"editor.addSheet":{label:"New Sheet"},"editor.addTopic":{label:"Topic After"},"editor.addSubTopic":{label:"Subtopic"},"editor.addTopicBefore":{label:"Topic Before"},"editor.addParentTopic":{label:"Parent Topic"},"editor.preAddFloatingTopic":{label:"Floating Topic"},"editor.addCallout":{label:"Callout"},"editor.addRelationship":{label:"Relationship"},"editor.addBoundary":{label:"Boundary"},"editor.addSummary":{label:"Summary"},"editor.addLocalImage":{label:"Local Image"},"editor.showNotesEditor":{label:"Notes"},"editor.showLabelEditor":{label:"Label"},"editor.showHyperlinkEditor":{label:"Hyperlink"},"editor.addAttachment":{label:"Attachment"},"editor.changeFontSize":{label:"Change Font Size"},"editor.changeStructure":{label:"Change Structure"},"editor.changeBranchLineStyle":{label:"Change Branch Line Style"},"editor.changeFontFamily":{label:"Change Font Family"},"editor.changeTextColor":{label:"Change Text Color"},"editor.changeLineColor":{label:"Change Line Color"},"editor.changeShapeColor":{label:"Change Fill Color"},"editor.changeBorderColor":{label:"Change Border Line Color"},"editor.changeLineWidth":{label:"Change Line Width"},"editor.changeBorderWidth":{label:"Change Border Width"},"editor.changeFontWeight":{label:"Change Font Weight"},"editor.changeFontStyle":{label:"Change Font Style"},"editor.changeTextDecoration":{label:"Change Text Decoration"},"editor.changeShapeClass":{label:"Change Shape Class"},"editor.changeStartArrowType":{label:"Change Start Arrow Type"},"editor.changeEndArrowType":{label:"Change End Arrow Type"},"editor.changeSheetBackground":{label:"Change Sheet Background"},"editor.changeLegendDisplay":{label:"Change Legend Display"},"editor.changeInfoItemDisplay":{label:"Change InfoItem Diaplay"},"editor.changeLineTapered":{label:"Change Line Tapered"},"editor.changeColorGradient":{label:"Change Color Gradient"},"editor.changeTheme":{label:"Change Theme"},"editor.changeTextAlign":{label:"Change Text Align"},"editor.zoom":{label:"Zoom"},"editor.select":{label:"Select"},"editor.changeTitle":{label:"Change Title"},"editor.copyStyle":{label:"Copy Style"},"editor.pasteStyle":{label:"Paste Style"},"editor.resetStyle":{label:"Reset Style"},"editor.focusAndSelectCenter":{label:"Go to Central Topic"},"editor.toggleBranch":{label:"Fold / Unfold Subtopics"},"editor.changeSheetTitle":{label:"Change Sheet Title"},"editor.zoomIn":{label:"Zoom In"},"editor.zoomOut":{label:"Zoom Out"},"editor.resetZoom":{label:"Actual Size"},"editor.fitMap":{label:"Fit Map"},"editor.selectAll":{label:"Select All"},"editor.removeAudioNotes":{label:"Delete Audio"},"editor.account":{label:"My XMind Account"},"editor.support":{label:"Support",handler:{}},"editor.license":{label:"License"},"editor.toggleKeyAssist":{label:"Key Assist"},"editor.toggleBeginnerMode":{label:"Get Started"},"editor.toggleBeginnerModeTips":{label:"Show Tips"},"editor.toggleMarkerPopoverInZenMode":{label:"Marker"},"editor.toggleStylePopoverInZenMode":{label:"Style"},"editor.showEditBox":{label:"Show Edit Box"},activate:{label:"Activate Now",handler:{}}})},function(e,t,n){e.exports={default:n(497),__esModule:!0}},function(e,t,n){n(498);var r=n(11).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(14);r(r.S+r.F*!n(37),"Object",{defineProperty:n(35).f})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationService=void 0;var r=v(n(22)),i=v(n(81)),o=v(n(12)),a=v(n(154)),s=v(n(43)),u=v(n(106)),c=n(9),l=v(n(17)),f=v(n(155)),d=n(218),p=v(n(104)),h=v(n(83));function v(e){return e&&e.__esModule?e:{default:e}}var m=p.default.logger("Notification"),g="https://www.xmind.net/_api/events";var y="_code",w="events",_="firstStartTimestamp",b="startTimestamp1",S="startTimestamp2",x="startTimestamp3",M=50,k={darwin:"macosx",win32:"win32",linux:"linux"};t.NotificationService=class{constructor(){this.eventStorePath=o.default.join(c.app.workspace.net,"events.json"),this.startTimestampStorePath=o.default.join(c.app.workspace.net,"start_timestamps.json"),this.pkgStorePath=o.default.join(c.app.workspace.appRoot,"package.json"),this.eventStore=l.default.existsSync(this.eventStorePath)?l.default.readJsonSync(this.eventStorePath,{throws:!1})||{}:{},this.startTimestampStore=l.default.existsSync(this.startTimestampStorePath)?l.default.readJsonSync(this.startTimestampStorePath,{throws:!1})||{}:{},this.pkgStore=l.default.existsSync(this.pkgStorePath)?l.default.readJsonSync(this.pkgStorePath,{throws:!1})||{}:{},this.promotionQueue=[],this.promotionStatus=!0,this.currentWinId=null,this.notificationReady=!1}start(){this._recordStartTimestamp(),this.getEvents(),this.setEvents()}promotionReady(e,t){var n=this;if(e&&t){var r=s.default.parse(t).query,i="true"===u.default.parse(r).tutorial;i||(this.currentWinId=e,setTimeout(function(){n.pushPromotion()},1e3))}}promotionReset(){this.currentWinId=null,this.promotionStatus=!0}setEvents(){var e=this;h.default.on(d.CategoryTypes.NOTIFICATION,d.NotificationTypes.PROMOTION_COMPLETE_ONE,function(t){t.winid&&t.eventid&&e.promotionQueue.length>0&&t.eventid===e.promotionQueue[0].id&&(e.eventStore[t.eventid]=e.promotionQueue.shift(),e._saveEventStore(),e.currentWinId=t.winid,e.promotionStatus=!0,e.pushPromotion())})}pushPromotion(){var e=this;this.promotionStatus&&this.notificationReady&&(0!==this.promotionQueue.length?(this.promotionStatus=!1,setTimeout(function(){h.default.emitC(e.currentWinId,"promotion:show",{event:e.promotionQueue[0],winid:e.currentWinId})},5e3)):h.default.off(d.CategoryTypes.NOTIFICATION,d.NotificationTypes.PROMOTION_COMPLETE_ONE))}getEvents(){var e=this;if(this.pkgStore&&(0,i.default)(this.pkgStore).length<1)return!1;var t="vana_"+(k[a.default.platform()]||"")+(process.mas?"_mas":""),n=[this.pkgStore.version,this.pkgStore.buildNumber].join("."),o=a.default.arch(),s=c.app.preferences.get("language"),u=c.app.activateService.getCurrentLicenseStatus(),l=this.startTimestampStore[_],d=this.startTimestampStore[b],p=this.startTimestampStore[S],h=this.startTimestampStore[x],v={p:t,v:n,ar:o,nl:s,ac:u,lic:"",ts0:l,ts1:d,ts2:p,ts3:h,os:a.default.platform(),version:this.pkgStore.version,buildid:n,arch:o,distrib:t,account_type:u,license_info:""};v[_]=l,v[b]=d,v[S]=p,v[x]=h,f.default.get(g).query(v).end(function(t,n){if(t)m.error("events error: ",t,v);else{if(n&&n.body){if(200!==n.status&&200!==n.body[y])return void m.error("get events wrong code:",n.body[y]);var i=n.body[w],o=Array.isArray(i),a=0;for(i=o?i:(0,r.default)(i);;){var s;if(o){if(a>=i.length)break;s=i[a++]}else{if((a=i.next()).done)break;s=a.value}var u=s;u.id&&e._isValid(u)&&"popup"===u.style&&e.promotionQueue.push(u)}}m.debug("promotion queue:",e.promotionQueue),e.notificationReady=!0}})}_recordStartTimestamp(){var e=this.startTimestampStore[_];e||(this.startTimestampStore[_]=Date.now());var t=this.startTimestampStore[S],n=this.startTimestampStore[x];this.startTimestampStore[b]=t||Date.now(),this.startTimestampStore[S]=n||Date.now(),this.startTimestampStore[x]=Date.now(),this._saveStartTimestampStore()}_saveStartTimestampStore(){l.default.outputJsonSync(this.startTimestampStorePath,this.startTimestampStore)}_saveEventStore(){var e=this,t=(0,i.default)(this.eventStore),n=t.length-M;n>0&&t.slice(0,n).map(function(t){return delete e.eventStore[t]}),l.default.outputJsonSync(this.eventStorePath,this.eventStore)}_isValid(e){var t=s.default.parse(e.url);if(!t||!t.host||t.host.search(/xmind.(net|cn)$/)<0)return m.warn("wrong url from event id:",e.id),!1;var n=e.prompt;return"once"===n?!(e.id in this.eventStore):"never"!==n&&!!["startup","always","every12","every24"].includes(n)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=n(67),o=s(n(501)),a=s(n(83));function s(e){return e&&e.__esModule?e:{default:e}}o.default.on("checking-for-update",function(){a.default.emit("autoupdater:checking-for-update"),r.app.tvud.getModule("autoUpdater").set("state","checking-for-update")}),a.default.on("all","change:tvud",function(e){"autoUpdater"===e.moduleName&&"state"===e.key&&r.app.commandService&&r.app.commandService.updateCommand("checkForUpdates")}),o.default.on("update-available",function(e){a.default.emit("autoupdate:update-available",{info:e}),r.app.tvud.getModule("autoUpdater").set("state","update-available");var t="user"==r.app.tvud.getModule("autoUpdater").get("checkForUpdatesType");!e.downloaded||e.skipped&&!t||r.app.statusService.onceInStatus("EDITOR_WINDOW_FOCUSED").then(function(){a.default.emit("notification:inner",{winid:r.BrowserWindow.getFocusedWindow().id,options:{id:(0,i.UUID)(),tips:r.app.localizer.localize("A newer version of XMind is found."),linkText:r.app.localizer.localize("What's New"),link:"zh-CN"!==r.app.preferences.get("language")?"https://www.xmind.net/xmind/zen-release-notes/":"https://www.xmind.cn/xmind/zen-release-notes/",unhidable:!0,buttons:[{text:r.app.localizer.localize("Skip"),onclick:function(){o.default.skip()}},{text:r.app.localizer.localize("Update"),onclick:function(){o.default.quitAndInstall(!1,!0)}}]}})}),r.app.tvud.getModule("autoUpdater").set("checkForUpdatesType","none")}),o.default.on("update-not-available",function(e){a.default.emit("autoupdate:update-not-available",{info:e}),r.app.tvud.getModule("autoUpdater").set("state","update-not-available"),"user"==r.app.tvud.getModule("autoUpdater").get("checkForUpdatesType")&&r.app.statusService.onceInStatus("EDITOR_WINDOW_FOCUSED").then(function(){a.default.emit("notification:inner",{winid:r.BrowserWindow.getFocusedWindow().id,options:{id:(0,i.UUID)(),tips:r.app.localizer.localize("XMind is currently the newest version.")}})}),r.app.tvud.getModule("autoUpdater").set("checkForUpdatesType","none")}),o.default.on("download-process",function(e){a.default.emit("autoupdate:download-process",{info:e})}),o.default.on("update-downloaded",function(e){a.default.emit("autoupdate:update-downloaded",{info:e}),r.app.tvud.getModule("autoUpdater").set("state","update-downloaded"),r.app.tvud.getModule("autoUpdater").set("checkForUpdatesType","none"),r.app.statusService.onceInStatus("EDITOR_WINDOW_FOCUSED").then(function(){a.default.emit("notification:inner",{winid:r.BrowserWindow.getFocusedWindow().id,options:{id:(0,i.UUID)(),tips:r.app.localizer.localize("A newer version of XMind is found."),linkText:r.app.localizer.localize("What's New"),link:"zh-CN"!==r.app.preferences.get("language")?"https://www.xmind.net/xmind/zen-release-notes/":"https://www.xmind.cn/xmind/zen-release-notes/",buttons:[{text:r.app.localizer.localize("Skip This Version"),onclick:function(){o.default.skip()}},{text:r.app.localizer.localize("Update Now"),onclick:function(){o.default.quitAndInstall(!1,!0)}}]}})})}),t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),i=a(n(502)),o=a(n(509));function a(e){return e&&e.__esModule?e:{default:e}}var s=void 0;s="win32"===process.platform?new i.default:"darwin"===process.platform?new o.default:r.autoUpdater,t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(68)),i=f(n(69)),o=f(n(205)),a=f(n(12)),s=n(9),u=n(159),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(17)),l=f(n(219));function f(e){return e&&e.__esModule?e:{default:e}}t.default=class extends l.default{constructor(){super(),this.quitAndInstallCalled=!1}doDownloadUpdate(e,t){var n=this;return(0,i.default)(r.default.mark(function i(){var o,s;return r.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o={skipDirCreation:!0,headers:n.computeRequestHeaders(e),cancellationToken:t,sha2:null==e?null:e.sha2},n.listenerCount("download-progress")>0&&(o.onProgress=function(e){return this.emit("download-progress",e)}),s=a.default.join(n.updateDir,e.name),r.prev=3,r.next=6,n.httpExecutor.download(e.url,s,o);case 6:r.next=14;break;case 8:r.prev=8,r.t0=r.catch(3);try{c.removeAsync(n.updateDir)}catch(e){}return r.t0 instanceof u.CancellationError&&n.emit("update-cancelled",n.versionInfo),n.emit("error",r.t0),r.abrupt("return",null);case 14:return n.localInfo.downloaded={version:n.versionInfo.version,setupPath:s,skip:!1},c.outputJsonAsync(n.localInfoPath,n.localInfo),n.emit("update-downloaded",n.versionInfo),r.abrupt("return",s);case 18:case"end":return r.stop()}},i,n,[[3,8]])}))()}quitAndInstall(){super.quitAndInstall(),s.app.lifecycle.state=4;var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.install(e,t)&&s.app.quit()}install(e,t){if(this.quitAndInstallCalled)return!1;var n=this.localInfo.downloaded.setupPath;if(!this.updateAvailable||null==n){var r="No update available, can not quit and install";return this.emit("error",new Error(r),r),!1}this.quitAndInstallCalled=!0;var i=["--updated"];e&&i.push("/S"),t&&i.push("--force-run");var s={detached:!0,stdio:"ignore"};try{o.default.spawn(n,i,s).unref()}catch(e){if("UNKNOWN"===e.code||"EACCES"===e.code)try{o.default.spawn(a.default.join(process.resourcesPath,"elevate.exe"),[n].concat(i),s).unref()}catch(e){}}return!0}}},function(e,t,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(194),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(e){r.regeneratorRuntime=void 0}},function(e,t){e.exports=require("semver")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(68)),i=f(n(41)),o=f(n(69)),a=f(n(43)),s=f(n(12)),u=f(n(220)),c=n(159),l=f(n(506));function f(e){return e&&e.__esModule?e:{default:e}}function d(){var e=p();if("darwin"===e)return"-mac";if("win32"===e){if("64"===l.default.arch)return"-win64";if("32"===l.default.arch)return"-win32"}else if("linux"===e)return"-linux"}function p(){return process.env.TEST_UPDATER_PLATFORM||process.platform}t.default=class{constructor(e,t){this.configuration=e,this.executor=t,this.baseUrl=a.default.parse(this.configuration.url),this.channel=this.configuration.channel?""+this.configuration.channel+d():"latest"+d()}setRequestHeaders(e){this.requestHeaders=e}getLatestVersion(){var e=this;return(0,o.default)(r.default.mark(function t(){var n,o,l,f,d;return r.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.channel,n=r+"."+("darwin"===p()?"json":"yml"),o=s.default.posix.resolve(e.baseUrl.pathname||"/",n),l={hostname:e.baseUrl.hostname,path:""+o+(e.baseUrl.search||""),protocol:e.baseUrl.protocol,headers:e.requestHeaders||void 0},null!=e.baseUrl.port&&(l.port=parseInt(e.baseUrl.port,10)),t.next=6,e.executor.request(l,new c.CancellationToken);case 6:return f=t.sent,n.endsWith("yml")&&(f=u.default.safeLoad(f)),n.endsWith("json")&&"string"==typeof f&&(f=JSON.parse(f)),f.url||(d=s.default.posix.resolve(e.baseUrl.pathname||"/",f.path),f.url=a.default.format((0,i.default)(e.baseUrl,{pathname:d})),f.name=s.default.posix.basename(f.path)),"darwin"===p()&&(f.releaseJsonUrl=a.default.format((0,i.default)({},e.baseUrl,{pathname:o}))),t.abrupt("return",f);case 13:case"end":return t.stop()}var r},t,e)}))()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(17)),i=a(n(216)),o=a(n(12));function a(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.readJSONSync(o.default.join(i.default.appRoot,"package.json"))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(41)),i=d(n(68)),o=d(n(69)),a=d(n(12)),s=d(n(43)),u=f(n(508)),c=f(n(17)),l=n(9);function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e){return e&&e.__esModule?e:{default:e}}var p="vana-electron-updater";t.default=class extends u.HttpExecutor{constructor(){super()}download(e,t,n){var r=this;return(0,o.default)(i.default.mark(function o(){return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(null!=n&&n.skipDirCreation){i.next=3;break}return i.next=3,c.ensureDirAsync(a.default.dirname(t));case 3:return i.abrupt("return",n.cancellationToken.createPromise(function(i,o,a){var c=s.default.parse(e),l=u.configureRequestOptions({protocol:c.protocol,hostname:c.hostname,path:c.path,port:c.port?parseInt(c.port,10):void 0,headers:n.headers||void 0});r.doDownload(l,t,0,n,function(e){null==e?i(t):o(e)},a)}));case 4:case"end":return i.stop()}},o,r)}))()}doApiRequest(e,t,n){var a=arguments,s=this;return(0,o.default)(i.default.mark(function o(){var u;return i.default.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return u=a.length>3&&void 0!==a[3]?a[3]:0,i.next=3,t.createPromise(function(i,o,a){var c=l.net.request((0,r.default)({session:l.session.fromPartition(p)},e)).on("response",function(r){try{s.handleResponse(r,e,t,i,o,u,n)}catch(e){o(e)}}).on("error",function(e){console.log(e)});s.addProxyLoginHandler(c),s.addTimeOutHandler(c,o),c.on("error",o),n(c,o),a(function(){return c.abort()})});case 3:return i.abrupt("return",i.sent);case 4:case"end":return i.stop()}},o,s)}))()}doRequest(e,t){var n=l.net.request((0,r.default)({session:l.session.fromPartition(p)},e),t);return this.addProxyLoginHandler(n),n}addProxyLoginHandler(e){null!=this.proxyLoginCallback&&e.on("login",this.proxyLoginCallback)}}},function(e,t){e.exports=require("electron-builder-http")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(38)),i=u(n(41)),o=n(9),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(17)),s=u(n(219));function u(e){return e&&e.__esModule?e:{default:e}}t.default=class extends s.default{constructor(e){var t;t=super(e),this.nativeUpdater=o.autoUpdater,this.nativeUpdater.on("error",function(e){t.emit("error",e)}),this.nativeUpdater.on("update-downloaded",function(){t.localInfo.downloaded={version:t.versionInfo.version,skip:!1},a.outputJsonAsync(t.localInfoPath,t.localInfo),t.emit("update-downloaded",t.localInfo)})}onUpdateAvailable(e){this.nativeUpdater.setFeedURL(e.releaseJsonUrl,(0,i.default)({"Cache-Control":"no-cache"},this.computeRequestHeaders(e))),super.onUpdateAvailable(e)}doDownloadUpdate(e,t){return this.nativeUpdater.checkForUpdates(),r.default.resolve()}quitAndInstall(){super.quitAndInstall(),o.app.lifecycle.state=4,this.nativeUpdater.quitAndInstall()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=v(n(22)),o=v(n(68)),a=v(n(69)),s=v(n(44)),u=(r=(0,a.default)(o.default.mark(function e(){var t,n,r,a,s,u,c,l,d,h,v,m,g,y;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={Default:{style:{fontFamily:""},text:"Default"}},e.next=3,p.default.getFontsWithCached();case 3:if(!(n=e.sent)){e.next=43;break}n=JSON.parse(n),r=[],a={},s=n,u=Array.isArray(s),c=0,s=u?s:(0,i.default)(s);case 9:if(!u){e.next=15;break}if(!(c>=s.length)){e.next=12;break}return e.abrupt("break",27);case 12:l=s[c++],e.next=19;break;case 15:if(!(c=s.next()).done){e.next=18;break}return e.abrupt("break",27);case 18:l=c.value;case 19:if((d=l)&&d.family&&d.family.startsWith&&!d.family.startsWith(".")){e.next=23;break}return d&&d.family&&!d.family.startsWith&&f.app.rootLogger.warn("unknow font.family:",d.family),e.abrupt("continue",25);case 23:a[d.family]={style:{fontFamily:d.family},text:d.family},r.push(d.family);case 25:e.next=9;break;case 27:r.sort(),h=r,v=Array.isArray(h),m=0,h=v?h:(0,i.default)(h);case 29:if(!v){e.next=35;break}if(!(m>=h.length)){e.next=32;break}return e.abrupt("break",43);case 32:g=h[m++],e.next=39;break;case 35:if(!(m=h.next()).done){e.next=38;break}return e.abrupt("break",43);case 38:g=m.value;case 39:t[y=g]=a[y];case 41:e.next=29;break;case 43:return e.abrupt("return",t);case 44:case"end":return e.stop()}},e,this)})),function(){return r.apply(this,arguments)});t.initPreferences=function(e){var t=c.default.join(e.getPath("userData"),"vana/vud","preferences.json"),n=void 0;try{n=JSON.parse(l.default.readFileSync(t,"utf8"))}catch(e){n={}}var r=h.vud.getModule("preferences");for(var i in g)void 0===n[i]&&(n[i]=g[i]),null==r.get(i)&&r.set(i,g[i]);e.preferences=new b(n,r,t),e.on("ready",function(){var t=e.getLocale();m[t]||(t="en-US"),e.preferences.get("lastLocale")!==t&&e.preferences.update({lastLocale:t,"general.locale":t,language:t}),h.vud.getModule("account").get("user")||("zh-CN"!==e.preferences.get("language")?h.vud.getModule("account").set("domain","net"):h.vud.getModule("account").set("domain","cn"))})};var c=v(n(12)),l=v(n(17)),f=n(9),d=v(n(511)),p=v(n(221)),h=n(107);function v(e){return e&&e.__esModule?e:{default:e}}var m={"en-US":"English","zh-CN":"ÁÆÄ‰Ωì‰∏≠Êñá","de-DE":"Deutsch","fr-FR":"Fran√ßais","zh-TW":"ÁπÅÈ´î‰∏≠Êñá","ja-JP":"Êó•Êú¨Ë™û"},g={"general.locale":f.app.getLocale()||"en-US",zoomlevel:"100%",mapThemeChangeAction:"ASK_WHAT_TO_DO_EACH_TIME",exportWithWaterMask:"Yes",shareItem:["public link","private link","blog","email","evernote","biggerplate","facebook","twitter","pinterest"],maxUndo:20,isSendUsageData:!0,enableSeawind:!0,autoSyncWorkbook:!0,CJKFont:"Default",lastLocale:f.app.getLocale()},y={general:{language:{selection:m,selected:g["general.locale"]},zoom:{selection:{"50%":"50%","80%":"80%","100%":"100%","120%":"120%","150%":"150%","200%":"200%","300%":"300%"},selected:g.zoomlevel},mapThemeChangeAction:{selection:{OVERRIDE_CUSTOM_SETTINGS:"Override custom settings",KEEP_CUSTOM_SETTINGS:"Keep custom settings",ASK_WHAT_TO_DO_EACH_TIME:"Ask what to do each time"},selected:g.mapThemeChangeAction},exportWithwaterMaskOptions:{selection:{Yes:"Yes",No:"No"},selected:g.exportWithWaterMask},CJKFonts:{selection:u(),selected:g.CJKFont}},share:{selection:{"public link":{title:"public link",clickable:!1},"private link":{title:"private link",clickable:!1},blog:{title:"blog",clickable:!1},email:{title:"email",clickable:!0},evernote:{title:"evernote",clickable:!0},biggerplate:{title:"biggerplate",clickable:!0},facebook:{title:"facebook",clickable:!0},twitter:{title:"twitter",clickable:!0},pinterest:{title:"pinterest",clickable:!0}},selected:[].concat(g.shareItem)},advanced:{maxUndo:{selection:{10:10,20:20,50:50,100:100},selected:g.maxUndo},isSendUsageData:g.isSendUsageData}},w=["facebook","twitter","pinterest","public link","private link","blog"],_=["cn"];class b{constructor(e,t,n){this._settings=d.default.cloneDeep(y),this._language=e["general.locale"],this._zoomlevel=e.zoomlevel,this._mapThemeChangeAction=e.mapThemeChangeAction,this._exportWithWaterMask=e.exportWithWaterMask,this._shareItem=e.shareItem,this._maxUndo=e.maxUndo,this._isSendUsageData=e.isSendUsageData,this._enableSeawind=e.enableSeawind,this._autoSyncWorkbook=e.autoSyncWorkbook,this._blocks=w,this._lastLocale=e.lastLocale,this._cjkFont=e.CJKFont||"Default",this.path=n,this.pvud=t,this.keys={"general.locale":"_language",language:"_language",lastLocale:"_lastLocale",zoomlevel:"_zoomlevel",mapThemeChangeAction:"_mapThemeChangeAction",exportWithWaterMask:"_exportWithWaterMask",shareItem:"_shareItem",maxUndo:"_maxUndo",isSendUsageData:"_isSendUsageData",enableSeawind:"_enableSeawind",autoSyncWorkbook:"_autoSyncWorkbook",settings:"_settings",blocks:"_blocks",CJKFont:"_cjkFont"}}get(e){if("shareItem"===e){var t=h.vud.getModule("account").get("domain");if(t||(t="zh-CN"===this[this.keys.language]?"cn":"net"),_.indexOf(t)>-1)return S(this[this.keys[e]])}return this[this.keys[e]]}getSettings(){var e=d.default.cloneDeep(this._settings),t=h.vud.getModule("account").get("domain");return t||(t="zh-CN"===this[this.keys.language]?"cn":"net"),_.indexOf(t)>-1&&(e.share.selection=S(e.share.selection),e.share.selected=S(e.share.selected)),e}getAll(){return{"general.locale":this.get("general.locale"),language:this.get("language"),zoomlevel:this.get("zoomlevel"),mapThemeChangeAction:this.get("mapThemeChangeAction"),exportWithWaterMask:this.get("exportWithWaterMask"),shareItem:this.get("shareItem"),maxUndo:this.get("maxUndo"),isSendUsageData:this.get("isSendUsageData"),enableSeawind:this.get("enableSeawind"),autoSyncWorkbook:this.get("autoSyncWorkbook"),CJKFont:this.get("CJKFont")}}set(e,t){this[this.keys[e]]=t,this.pvud.set(e,t),l.default.writeFileSync(this.path,(0,s.default)(this.getAll()),"utf8")}update(e){var t=this[this.keys.language];for(var n in e)this[this.keys[n]]=e[n],this.pvud.set(n,e[n]);if(t!==this[this.keys.language]&&!h.vud.getModule("account").get("user")){var r="zh-CN"===this[this.keys.language]?"cn":"net";h.vud.getModule("account").set("domain",r)}l.default.ensureFileSync(this.path),l.default.writeFileSync(this.path,(0,s.default)(this.getAll()),"utf8")}loadFont(){var e=this;return(0,a.default)(o.default.mark(function t(){var n;return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u();case 2:return n=t.sent,e._settings.general.CJKFonts.selection=n,t.abrupt("return",e._settings.general.CJKFonts);case 5:case"end":return t.stop()}},t,e)}))()}}function S(e){if(Array.isArray(e))return e.filter(function(e){return-1===w.indexOf(e)});if("[object Object]"===toString.call(e)){var t={};for(var n in e)-1===w.indexOf(n)&&(t[n]=e[n]);return t}return e}f.app.on("change:vud",function(e){if("account"===e.moduleName&&f.app.preferences.update({shareItem:d.default.cloneDeep(g.shareItem)}),"deviceStatus"===e.moduleName&&"license"===e.key){var t=f.app.activateService.getLicense();(t&&"sub"!==t.status||!t)&&f.app.preferences.update({exportWithWaterMask:"Yes"})}})},function(e,t){e.exports=require("lodash")},function(e,t){e.exports=require("fontkit")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(22)),i=c(n(43)),o=n(9),a=c(n(17)),s=n(107),u=c(n(105));function c(e){return e&&e.__esModule?e:{default:e}}class l{constructor(){this.readyListeners=[]}startup(){"darwin"!==process.platform&&this.forceSingleInstance(),this.state=l.APP_STATE_STARTING,this.startupFilesToOpen=[],this.initAppListeners()}get state(){return s.tvud.getModule(l.TVUD_MODULE).get(l.MODULE_KEY_STATE)||l.APP_STATE_STARTING}set state(e){s.tvud.getModule(l.TVUD_MODULE).set(l.MODULE_KEY_STATE,e)}isReady(){return s.tvud.getModule(l.TVUD_MODULE).get(l.MODULE_KEY_STATE)==l.APP_STATE_READY}onReady(e){this.readyListeners.push(e)}isBeforeQuit(){return s.tvud.getModule(l.TVUD_MODULE).get(l.MODULE_KEY_STATE)==l.APP_STATE_BEFORE_QUIT}forceSingleInstance(){var e=this,t=o.app.makeSingleInstance(function(t,n){o.app.rootLogger.info("[Single Instance]",t,n);var s,u=t.filter(function(e){return a.default.existsSync(e)&&e.endsWith(".xmind")});if(e.state>=l.APP_STATE_READY)if(u&&u.length>0){var c=u,f=Array.isArray(c),d=0;for(c=f?c:(0,r.default)(c);;){var p;if(f){if(d>=c.length)break;p=c[d++]}else{if((d=c.next()).done)break;p=d.value}var h=p;o.BrowserWindow.openMindMapEditor({source:i.default.format({protocol:"file",slashes:!0,pathname:h})})}}else o.BrowserWindow.openNew();else e.startupFilesToOpen=(s=e.startupFilesToOpen).concat.apply(s,u)});t&&o.app.exit()}forceReady(){o.app.rootLogger.debug("Application ready. Starting up services...."),this.state=l.APP_STATE_READY}checkPasscode(){return"true"===s.vud.getModule("passcode").get("hadAgreement")}initAppListeners(){var e=this;o.app.on("ready",function(){o.app.rootLogger.debug("Application ready. Starting up services...."),e.state=l.APP_STATE_READY,setTimeout(function(){o.app.autoUpdater.checkForUpdates()},12e3);var t=e.readyListeners,n=Array.isArray(t),i=0;for(t=n?t:(0,r.default)(t);;){var a;if(n){if(i>=t.length)break;a=t[i++]}else{if((i=t.next()).done)break;a=i.value}a()}}),o.app.on("will-finish-launching",function(){var t;o.app.rootLogger.info("Application will finish launching."),e.state=l.APP_STATE_WILL_FINISH_LAUNCH;var n=process.argv.filter(function(e){return a.default.existsSync(e)&&e.endsWith(".xmind")});e.startupFilesToOpen=(t=e.startupFilesToOpen).concat.apply(t,n),o.app.on("open-file",function(t,n){o.app.rootLogger.info("Application open file: ",n),t.preventDefault(),n&&n.endsWith(".xmind")&&(e.isReady()?o.BrowserWindow.openMindMapEditor({source:i.default.format({protocol:"file",slashes:!0,pathname:n})}):e.startupFilesToOpen.push(n))}),o.app.on("open-url",function(e,t){o.app.rootLogger.info("Application open url: ",t),e.preventDefault()})}),o.app.on("activate",function(){function t(){var e=o.BrowserWindow.getAllWindows().filter(function(e){return e.isVisible()||o.BrowserWindow.vana.mindMapEditor["vana-"+e.id]});0==e.length?(o.app.rootLogger.debug("App activated. Open home window..."),o.BrowserWindow.openNew()):(o.app.rootLogger.debug("App activated. Focused window will be shown."),e[0].show())}"darwin"===process.platform&&(e.state<l.APP_STATE_READY?o.app.once("ready",function(){t()}):e.state===l.APP_STATE_READY&&t())}),o.app.on("before-quit",function(){o.app.rootLogger.debug("Before application quit."),e.state=l.APP_STATE_BEFORE_QUIT}),o.app.on("will-quit",function(){o.app.mainMenu.deactivate(),e.state=l.APP_STATE_WILL_QUIT,u.default.end()}),o.app.on("window-all-closed",function(){"darwin"!==process.platform?(o.app.rootLogger.debug("All windows closed. Quit application...."),o.app.exit()):o.app.rootLogger.debug("All windows closed. Application stay alive.")})}}l.TVUD_MODULE="lifecycle",l.MODULE_KEY_STATE="state",l.APP_STATE_STARTING=1,l.APP_STATE_WILL_FINISH_LAUNCH=2,l.APP_STATE_READY=3,l.APP_STATE_BEFORE_QUIT=4,l.APP_STATE_WILL_QUIT=5,l.APP_STATE_QUIT=6,t.default=new l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(22)),i=u(n(38)),o=n(107),a=n(9),s=u(n(105));function u(e){return e&&e.__esModule?e:{default:e}}var c={getUserData:{handle:function(e,t){var n=e.moduleName,r=e.key;t(o.vud.getModule(n).get(r))}},setUserData:{handle:function(e,t){var n=e.moduleName,r=e.key,i=e.value;t(o.vud.getModule(n).set(r,i))}},clearUserData:{handle:function(e,t){var n=e.moduleName;t(o.vud.getModule(n).clear())}},trackEvent:{handle:function(e,t){var n=e.eventCategory,r=void 0===n?null:n,i=e.eventAction,o=e.eventName,a=void 0===o?null:o,u=e.eventValue,c=void 0===u?null:u;t(s.default.track({eventCategory:r,eventAction:i,eventName:a,eventValue:c}))}},trackView:{handle:function(e,t){var n=e.viewPath;t(s.default.track({viewPath:n}))}}};t.default={setup:function(){var e=this,t=function(t){a.ipcMain.on("async:"+t,function(n,r){c[t].handle.call(e,r,function(e){n.sender.send("async:"+t+"-reply",{result:e})})}),a.ipcMain.on("sync:"+t,function(n,r){c[t].handle.call(e,r,function(e){n.returnValue={result:e}})})};for(var n in c)t(n)},send:function(e,t){return new i.default(function(n){var o=[],s=function(n){o.push(new i.default(function(r){a.ipcMain.once("async:"+e+"-reply",function(e,t){return r(t.result)}),n.webContents.send("async:"+e,t)}))},u=a.BrowserWindow.getAllWindows(),c=Array.isArray(u),l=0;for(u=c?u:(0,r.default)(u);;){var f;if(c){if(l>=u.length)break;f=u[l++]}else{if((l=u.next()).done)break;f=l.value}s(f)}i.default.all(o).then(function(e){return n(e)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(9),o=n(516),a=(r=o)&&r.__esModule?r:{default:r};var s=5e3;t.default=class extends a.default{startupCheck(){this._initTvud(),this.checkMachineId(),this.cronActivateTask(),this.checkMachineEE()}checkActivateStatus(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n=arguments[1],r=this.vud.getModule("account"),o=r.get("uid");if(!o)return n(!1);this.checkActive(function(r,o){if(r)i.app.rootLogger.info("[chack activate per 1 hours error]",r),setTimeout(function(){e.checkActivateStatus(2*t,n)},1e3*t);else{if(clearTimeout(e.cronCheckExpireTaskTimer),o.type===e.STATUS.TRIAL){if(e.getCurrentLicenseStatus()!==e.STATUS.TRIAL){var a=i.app.vud.getModule("deviceStatus");e.setLicense(o.data),a.set("machine_status",null),a.set("will_expired_notify",null),a.set("expired_notify",null)}}else if(o.type===e.STATUS.SUB){if(e.getCurrentLicenseStatus()!==e.STATUS.SUB){i.app.modal.modals.activate.modal&&!i.app.modal.modals.activate.modal.isDestroyed()&&i.app.modal.modals.activate.modal.destroy(),setTimeout(function(){return i.app.modal.showModal("congratulate")},s);var u=i.app.vud.getModule("deviceStatus");u.set("will_expired_notify",null),u.set("expired_notify",null)}e.setMachineAsEE(),e.setLicense(o.data)}else if(o.type===e.STATUS.EXPIRED){if(e.getCurrentLicenseStatus()!==e.STATUS.EXPIRED){var c=i.app.vud.getModule("deviceStatus");c.get("expired_notify")||(c.set("expired_notify",!0),setTimeout(function(){return i.dialog.showMessageBox({title:"XMind ZEN",message:i.app.localizer.localize("Your subscription has expired!"),detail:i.app.localizer.localize("You can‚Äôt export, print or save mind map before renewing XMind.")})},s))}e.setMachineAsEE(),e.setLicense(o.data)}else o.type===e.STATUS.EXCEED_MAX_DEVICE?setTimeout(function(){return i.app.modal.showModal("signin",{devices:o.devices,type:"unlink device"})},s):o.type===e.STATUS.KICK_OUT?setTimeout(function(){e.logout(),i.dialog.showMessageBox({title:"XMind ZEN",message:i.app.localizer.localize("Signed Out"),detail:i.app.localizer.localize("You have been signed out from this device. Please keep your account safe.")})},s):o.type===e.STATUS.TOKEN_ERROR&&e.logout();n(!0)}})}checkMachineId(){var e=this.getLicense();e&&e.device_id&&i.app.machine_id!==e.device_id&&(this.setMachineAsEE(),this.logout(),i.dialog.showMessageBox({title:"XMind ZEN",message:i.app.localizer.localize("Unable to verify subscription."),detail:i.app.localizer.localize("Your subscription status can‚Äôt be verified, please try to sign in again.")}))}cronActivateTask(){var e=this;clearTimeout(this.cronActivateTaskTimer),this.checkActivateStatus(5,function(t){e.cronActivateTaskTimer=setTimeout(e.cronActivateTask.bind(e),36e5)})}checkMachineEE(){var e=this.vud.getModule("account"),t=e.get("uid");t||"ee"!==this.getMachineStatus()?"expired"===this.getCurrentLicenseStatus()&&i.dialog.showMessageBox({title:"XMind ZEN",message:i.app.localizer.localize("Your subscription has expired."),detail:i.app.localizer.localize("You can‚Äôt export, print or save mind map before renewing XMind.")}):i.dialog.showMessageBox({title:"XMind ZEN",message:i.app.localizer.localize("Your trial is ended."),detail:i.app.localizer.localize("You can‚Äôt export, print or save mind map. Subscribe now to enjoy full features.")})}setTimeoutToShowMessageBox(e,t){setTimeout(function(){i.dialog.showMessageBox(e)},t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(154)),i=o(n(213));function o(e){return e&&e.__esModule?e:{default:e}}var a=r.default.hostname().replace(/\.local$/,""),s=process.platform,u={TRIAL:"trial",SUB:"sub",EXPIRED:"expired",EXCEED_MAX_DEVICE:"4031",KICK_OUT:"4032",TOKEN_ERROR:401,UNKNOW_ERROR:"unknow error"},c=50;var l="-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCDYH31l0llicBavbUZRg0y1LnI\n2JJuPZak0498wGmK0N+ksqCzA0XUfCgQ5E9itYyPuT+z6Pz/+0q6NeApkWcnC/Th\nWQY6ZlEOMonrhPub8zsWYOZzckQutx3jn6k+6ZXx7yUbbkxIk+wqWgnlQxnx6TMd\nS3rgo3r4blFTWi6EEQIDAQAB\n-----END PUBLIC KEY-----",f=function(e){return"https://www.xmind."+e+"/_res/devices"},d=function(e){return"https://www.xmind."+e+"/_res/user_sub_status"};t.default=class{constructor(e){var t=e.vud,n=e.superagent,r=e.app,i=e.tvud;this.STATUS={TRIAL:"trial",SUB:"sub",EXPIRED:"expired",EXCEED_MAX_DEVICE:"4031",KICK_OUT:"4032",CONFIG_ERROR:"CONFIG_ERROR",TOKEN_ERROR:401,UNKNOW_ERROR:"unknow error"},this.vud=t,this.superagent=n,this.app=r,this.tvud=i}_initTvud(){this.tvud.getModule("remindSubscription").set("actionCount",0),this.tvud.getModule("remindSubscription").set("notifyAtActionNum",Math.floor(Math.random()*c)),this.tvud.getModule("remindSubscription").set("lastNotifyTime",0)}getUsedDays(){var e=this.app.vud.getModule("deviceStatus"),t=e.get("start_use_time");t||(t=Date.now(),e.set("start_use_time",t));var n=Date.now()-t;return Math.floor(n/864e5)}openActivateDialog(){this.app.modal.showModal("activate"),this.app.tracker.track({eventCategory:"Activate",eventAction:"showActivateWindow"})}getPrice(e){var t=this.getDomain(),n="http://www.xmind."+t+"/_res/get-zen-price";this.superagent.get(n).timeout(3e4).end(function(t,n){e(t,n)})}checkActive(e){var t=this,n=this.app.vud.getModule("account"),r=this.getDomain(),i=n.get("token"),o=this.app.machine_id;this.superagent.post(f(r)).timeout(3e4).set({"content-type":"application/json; charset=utf-8",AuthToken:i}).send({device_id:o,device_name:a,device_type:s}).end(function(n,r){n?(t.app.rootLogger.info("[common checkActive error]",n,r),e({type:t.STATUS.UNKNOW_ERROR,data:r})):200===r.body._code?(t.license_status=r.body.license.status||u.TRIAL,r.body.raw_data?t.deviceStatusData=r.body.raw_data:(t.deviceStatusData=r.body.license,t.deviceStatusData.device_id=o),t.license_status===u.TRIAL?e(null,{type:t.STATUS.TRIAL,data:t.deviceStatusData}):t.license_status===u.SUB?e(null,{type:t.STATUS.SUB,data:t.deviceStatusData}):t.license_status===u.EXPIRED?e(null,{type:t.STATUS.EXPIRED,data:t.deviceStatusData}):e(null,{type:t.STATUS.UNKNOW_ERROR,data:r.body})):403===r.body._code&&"4031"===r.body.errorcode?e(null,{type:t.STATUS.EXCEED_MAX_DEVICE,devices:r.body.devices}):403===r.body._code&&"4032"===r.body.errorcode?(console.log("Ë¢´Ë∏¢Âá∫"),e(null,{type:t.STATUS.KICK_OUT})):401===r.body._code?(console.log("token Êó†Êïà"),e(null,{type:t.STATUS.TOKEN_ERROR})):e({type:t.STATUS.UNKNOW_ERROR,data:r.body._code})})}getSubscription(e){var t=this.app.vud.getModule("account"),n=this.getDomain(),r=t.get("token");this.superagent.get(d(n)).set({AuthToken:r}).end(function(t,n){e(t,n)})}unbindDevice(e,t){var n=e.unbind_device_list,r=e.domain,i=e.token,o=this.app.machine_id;this.superagent.post(f(r)).set({"content-type":"application/json; charset=utf-8",AuthToken:i}).send({unbind_device_list:n,device_id:o,device_name:a,device_type:s}).end(function(e,n){t(e,n)})}setLicense(e){this.setDeviceStatus("license",e)}getLicense(){try{var e=this.vud.getModule("deviceStatus"),t=this.decipher(e.get("license"),!0);return t.status||(t.status=this.STATUS.TRIAL),t}catch(e){return this.app.rootLogger.info("[getLicense error]",e),null}}setDeviceStatus(e,t){var n=this.vud.getModule("deviceStatus");n.set(e,t)}getCurrentLicenseStatus(){var e=this.vud.getModule("account"),t=e.get("token");if(t){var n=this.getLicense();this.license_status=n?n.status||u.TRIAL:u.TRIAL}else this.license_status=u.TRIAL;return this.license_status}setMachineAsEE(){var e=this.vud.getModule("deviceStatus");e.set("machine_status","ee"),this.machine_status="ee"}getMachineStatus(){var e=this.vud.getModule("deviceStatus"),t=e.get("machine_status");return t&&"ee"!==t?(this.setMachineAsEE(),"ee"):t||""}isMachineLimited(){return"sub"!==this.getCurrentLicenseStatus()&&"ee"===this.getMachineStatus()}logout(){this.app.vud.getModule("account").clear(),this.setDeviceStatus("license",null)}checkExpired(){if("trial"===this.getCurrentLicenseStatus())this._checkTrail();else if("sub"===this.getCurrentLicenseStatus()){var e=this.app.vud.getModule("deviceStatus"),t=this.getLicense();if(t.expireTime)if(new Date>new Date(t.expireTime)){if(!e.get("expired_notify"))return e.set("expired_notify",!0),{message:this.app.localizer.localize("No subscription detected."),detail:this.app.localizer.localize("Unable to detect any valid subscription status, please subscribe XMind at first.")}}else if(new Date(+new Date+6048e5)>=new Date(t.expireTime)&&!e.get("will_expired_notify"))return e.set("will_expired_notify",!0),{message:this.app.localizer.localize("Subscription will expire soon."),detail:this.app.localizer.localize("Renew your subscription and continue to enjoy full version.")}}}_checkTrail(){var e=!1,t=this.tvud.getModule("remindSubscription"),n=t.get("actionCount"),r=t.get("notifyAtActionNum"),i=t.get("lastNotifyTime");n===r&&(e=!0),++n===c&&(n=0,r=Math.floor(Math.random()*c));var o=0===i;Date.now()-i>18e5&&(e=!0,i=Date.now()),t.update({actionCount:n,notifyAtActionNum:r,lastNotifyTime:i}),e&&this.app.modal.showModal("activatealert",{isFirstNotify:o})}getDomain(){var e=this.app.vud.getModule("account"),t=e.get("domain");return t||(t="zh-CN"!==this.app.preferences.get("language")?"net":"cn",e.set("domain",t)),t}decipher(e,t){return t&&e?JSON.parse(i.default.publicDecrypt({key:l,padding:i.default.constants.RSA_PKCS1_PADDING},new Buffer(e,"base64")).toString()):e}}},function(e,t){e.exports=require("machine-uuid")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(38)),i=a(n(81)),o=a(n(82));function a(e){return e&&e.__esModule?e:{default:e}}t.default=class extends o.default{constructor(e){var t=e.logger;super(),this._statusCountMap={},this._logger=t}increase(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this._statusCountMap[e]||0;this._statusCountMap[e]=n+t,0===n&&this.emit("AFTER_STATUS_ACTIVATE",e)}decrease(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;void 0===this._statusCountMap[e]&&(this._statusCountMap[e]=0);var n=this._statusCountMap[e]-t;n<0&&(this._logger.error("unexpected status decreasing: ",e,t,(new Error).stack),this._statusCountMap[e]=0),this._statusCountMap[e]=n,0===n&&this.emit("AFTER_STATUS_DEACTIVATE",e)}getActiveStatus(){var e=this;return(0,i.default)(this._statusCountMap).reduce(function(t,n){return e._statusCountMap[n]>0&&t.push(n),t},[])}onceInStatus(e){var t=this;return new r.default(function(n){if(t._statusCountMap[e]>0)return n();t.on("AFTER_STATUS_ACTIVATE",function r(){t._statusCountMap[e]>0&&(t.removeListener("AFTER_STATUS_ACTIVATE",r),n())})})}onceNotInStatus(e){var t=this;return new r.default(function(n){if(0===t._statusCountMap[e])return n();t.on("AFTER_STATUS_DEACTIVATE",function r(){0===t._statusCountMap[e]&&(t.removeListener("AFTER_STATUS_DEACTIVATE",r),n())})})}}},function(e,t){e.exports=require("../package.json")}]);
//# sourceMappingURL=main.js.map